/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./pages/_document.tsx\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages\\index.tsx */ \"./pages/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__, private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__, private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNpbmRleC50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUMrQztBQUMvQztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNkNBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNkNBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDZDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDZDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNkNBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNkNBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8/YmE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGluZGV4LnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./constants/abis.ts":
/*!***************************!*\
  !*** ./constants/abis.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EXAM_MANAGEMENT_ABI: () => (/* binding */ EXAM_MANAGEMENT_ABI)\n/* harmony export */ });\nconst EXAM_MANAGEMENT_ABI = [\n    // Exam Management Functions\n    \"function createExam(string title, string description, uint256 date) public returns (string)\",\n    \"function updateExamStatus(string examId, string status) public\",\n    \"function registerStudents(string examId, address[] students) public\",\n    \"function submitResults(string examId, tuple(address studentAddress, uint256 score, string grade, string notes)[] results) public\",\n    \"function getInstitutionExams(address institution) public view returns (tuple(string id, string title, string description, uint256 date, string status, address[] enrolledStudents)[])\",\n    // Certificate Management Functions\n    \"function issueCertificate(address student, string title, string description, string ipfsHash) public returns (string)\",\n    \"function getInstitutionCertificates(address institution) public view returns (tuple(string id, address student, string title, string description, uint256 issueDate, string ipfsHash, string status)[])\",\n    // Access Control Functions\n    \"function isInstitution(address account) public view returns (bool)\",\n    // Events\n    \"event ExamCreated(string indexed examId, address indexed institution, string title)\",\n    \"event ExamStatusUpdated(string indexed examId, string status)\",\n    \"event StudentsRegistered(string indexed examId, address[] students)\",\n    \"event ResultsSubmitted(string indexed examId, address[] students)\",\n    \"event CertificateIssued(string indexed certificateId, address indexed student, address indexed institution)\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25zdGFudHMvYWJpcy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTUEsc0JBQXNCO0lBQ2pDLDRCQUE0QjtJQUM1QjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBRUEsbUNBQW1DO0lBQ25DO0lBQ0E7SUFFQSwyQkFBMkI7SUFDM0I7SUFFQSxTQUFTO0lBQ1Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8uL2NvbnN0YW50cy9hYmlzLnRzP2VmNTEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEVYQU1fTUFOQUdFTUVOVF9BQkkgPSBbXG4gIC8vIEV4YW0gTWFuYWdlbWVudCBGdW5jdGlvbnNcbiAgXCJmdW5jdGlvbiBjcmVhdGVFeGFtKHN0cmluZyB0aXRsZSwgc3RyaW5nIGRlc2NyaXB0aW9uLCB1aW50MjU2IGRhdGUpIHB1YmxpYyByZXR1cm5zIChzdHJpbmcpXCIsXG4gIFwiZnVuY3Rpb24gdXBkYXRlRXhhbVN0YXR1cyhzdHJpbmcgZXhhbUlkLCBzdHJpbmcgc3RhdHVzKSBwdWJsaWNcIixcbiAgXCJmdW5jdGlvbiByZWdpc3RlclN0dWRlbnRzKHN0cmluZyBleGFtSWQsIGFkZHJlc3NbXSBzdHVkZW50cykgcHVibGljXCIsXG4gIFwiZnVuY3Rpb24gc3VibWl0UmVzdWx0cyhzdHJpbmcgZXhhbUlkLCB0dXBsZShhZGRyZXNzIHN0dWRlbnRBZGRyZXNzLCB1aW50MjU2IHNjb3JlLCBzdHJpbmcgZ3JhZGUsIHN0cmluZyBub3RlcylbXSByZXN1bHRzKSBwdWJsaWNcIixcbiAgXCJmdW5jdGlvbiBnZXRJbnN0aXR1dGlvbkV4YW1zKGFkZHJlc3MgaW5zdGl0dXRpb24pIHB1YmxpYyB2aWV3IHJldHVybnMgKHR1cGxlKHN0cmluZyBpZCwgc3RyaW5nIHRpdGxlLCBzdHJpbmcgZGVzY3JpcHRpb24sIHVpbnQyNTYgZGF0ZSwgc3RyaW5nIHN0YXR1cywgYWRkcmVzc1tdIGVucm9sbGVkU3R1ZGVudHMpW10pXCIsXG4gIFxuICAvLyBDZXJ0aWZpY2F0ZSBNYW5hZ2VtZW50IEZ1bmN0aW9uc1xuICBcImZ1bmN0aW9uIGlzc3VlQ2VydGlmaWNhdGUoYWRkcmVzcyBzdHVkZW50LCBzdHJpbmcgdGl0bGUsIHN0cmluZyBkZXNjcmlwdGlvbiwgc3RyaW5nIGlwZnNIYXNoKSBwdWJsaWMgcmV0dXJucyAoc3RyaW5nKVwiLFxuICBcImZ1bmN0aW9uIGdldEluc3RpdHV0aW9uQ2VydGlmaWNhdGVzKGFkZHJlc3MgaW5zdGl0dXRpb24pIHB1YmxpYyB2aWV3IHJldHVybnMgKHR1cGxlKHN0cmluZyBpZCwgYWRkcmVzcyBzdHVkZW50LCBzdHJpbmcgdGl0bGUsIHN0cmluZyBkZXNjcmlwdGlvbiwgdWludDI1NiBpc3N1ZURhdGUsIHN0cmluZyBpcGZzSGFzaCwgc3RyaW5nIHN0YXR1cylbXSlcIixcbiAgXG4gIC8vIEFjY2VzcyBDb250cm9sIEZ1bmN0aW9uc1xuICBcImZ1bmN0aW9uIGlzSW5zdGl0dXRpb24oYWRkcmVzcyBhY2NvdW50KSBwdWJsaWMgdmlldyByZXR1cm5zIChib29sKVwiLFxuICBcbiAgLy8gRXZlbnRzXG4gIFwiZXZlbnQgRXhhbUNyZWF0ZWQoc3RyaW5nIGluZGV4ZWQgZXhhbUlkLCBhZGRyZXNzIGluZGV4ZWQgaW5zdGl0dXRpb24sIHN0cmluZyB0aXRsZSlcIixcbiAgXCJldmVudCBFeGFtU3RhdHVzVXBkYXRlZChzdHJpbmcgaW5kZXhlZCBleGFtSWQsIHN0cmluZyBzdGF0dXMpXCIsXG4gIFwiZXZlbnQgU3R1ZGVudHNSZWdpc3RlcmVkKHN0cmluZyBpbmRleGVkIGV4YW1JZCwgYWRkcmVzc1tdIHN0dWRlbnRzKVwiLFxuICBcImV2ZW50IFJlc3VsdHNTdWJtaXR0ZWQoc3RyaW5nIGluZGV4ZWQgZXhhbUlkLCBhZGRyZXNzW10gc3R1ZGVudHMpXCIsXG4gIFwiZXZlbnQgQ2VydGlmaWNhdGVJc3N1ZWQoc3RyaW5nIGluZGV4ZWQgY2VydGlmaWNhdGVJZCwgYWRkcmVzcyBpbmRleGVkIHN0dWRlbnQsIGFkZHJlc3MgaW5kZXhlZCBpbnN0aXR1dGlvbilcIlxuXTsgIl0sIm5hbWVzIjpbIkVYQU1fTUFOQUdFTUVOVF9BQkkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./constants/abis.ts\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"@chakra-ui/react\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wagmi */ \"wagmi\");\n/* harmony import */ var wagmi_chains__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! wagmi/chains */ \"wagmi/chains\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tanstack/react-query */ \"@tanstack/react-query\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _styles_theme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../styles/theme */ \"./styles/theme.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__, wagmi__WEBPACK_IMPORTED_MODULE_4__, wagmi_chains__WEBPACK_IMPORTED_MODULE_5__, _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__, _styles_theme__WEBPACK_IMPORTED_MODULE_8__]);\n([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__, wagmi__WEBPACK_IMPORTED_MODULE_4__, wagmi_chains__WEBPACK_IMPORTED_MODULE_5__, _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__, _styles_theme__WEBPACK_IMPORTED_MODULE_8__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\nconst config = (0,wagmi__WEBPACK_IMPORTED_MODULE_4__.createConfig)({\n    chains: [\n        wagmi_chains__WEBPACK_IMPORTED_MODULE_5__.mainnet,\n        wagmi_chains__WEBPACK_IMPORTED_MODULE_5__.sepolia\n    ],\n    transports: {\n        [wagmi_chains__WEBPACK_IMPORTED_MODULE_5__.mainnet.id]: (0,wagmi__WEBPACK_IMPORTED_MODULE_4__.http)(),\n        [wagmi_chains__WEBPACK_IMPORTED_MODULE_5__.sepolia.id]: (0,wagmi__WEBPACK_IMPORTED_MODULE_4__.http)()\n    }\n});\nconst queryClient = new _tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__.QueryClient();\nfunction MyApp({ Component, pageProps }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_7__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Handle route changes\n        const handleRouteChange = (url)=>{\n            console.log(\"Route changing to:\", url);\n        };\n        const handleRouteChangeComplete = (url)=>{\n            console.log(\"Route change completed:\", url);\n        };\n        const handleRouteChangeError = (err, url)=>{\n            console.error(\"Route change error:\", {\n                url,\n                err\n            });\n        };\n        router.events.on(\"routeChangeStart\", handleRouteChange);\n        router.events.on(\"routeChangeComplete\", handleRouteChangeComplete);\n        router.events.on(\"routeChangeError\", handleRouteChangeError);\n        return ()=>{\n            router.events.off(\"routeChangeStart\", handleRouteChange);\n            router.events.off(\"routeChangeComplete\", handleRouteChangeComplete);\n            router.events.off(\"routeChangeError\", handleRouteChangeError);\n        };\n    }, [\n        router\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_tanstack_react_query__WEBPACK_IMPORTED_MODULE_6__.QueryClientProvider, {\n        client: queryClient,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(wagmi__WEBPACK_IMPORTED_MODULE_4__.WagmiProvider, {\n            config: config,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.ChakraProvider, {\n                theme: _styles_theme__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                    ...pageProps\n                }, void 0, false, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_app.tsx\",\n                    lineNumber: 55,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_app.tsx\",\n                lineNumber: 54,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_app.tsx\",\n            lineNumber: 53,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_app.tsx\",\n        lineNumber: 52,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUI7QUFDSztBQUVtQjtBQUNQO0FBQ0s7QUFDeUI7QUFDbkM7QUFDRTtBQUNOO0FBQ0U7QUFFbkMsTUFBTVksU0FBU1YsbURBQVlBLENBQUM7SUFDMUJXLFFBQVE7UUFBQ1QsaURBQU9BO1FBQUVDLGlEQUFPQTtLQUFDO0lBQzFCUyxZQUFZO1FBQ1YsQ0FBQ1YsaURBQU9BLENBQUNXLEVBQUUsQ0FBQyxFQUFFWiwyQ0FBSUE7UUFDbEIsQ0FBQ0UsaURBQU9BLENBQUNVLEVBQUUsQ0FBQyxFQUFFWiwyQ0FBSUE7SUFDcEI7QUFDRjtBQUVBLE1BQU1hLGNBQWMsSUFBSVYsOERBQVdBO0FBRW5DLFNBQVNXLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVk7SUFDL0MsTUFBTUMsU0FBU1gsc0RBQVNBO0lBRXhCQyxnREFBU0EsQ0FBQztRQUNSLHVCQUF1QjtRQUN2QixNQUFNVyxvQkFBb0IsQ0FBQ0M7WUFDekJDLFFBQVFDLEdBQUcsQ0FBQyxzQkFBc0JGO1FBQ3BDO1FBRUEsTUFBTUcsNEJBQTRCLENBQUNIO1lBQ2pDQyxRQUFRQyxHQUFHLENBQUMsMkJBQTJCRjtRQUN6QztRQUVBLE1BQU1JLHlCQUF5QixDQUFDQyxLQUFVTDtZQUN4Q0MsUUFBUUssS0FBSyxDQUFDLHVCQUF1QjtnQkFBRU47Z0JBQUtLO1lBQUk7UUFDbEQ7UUFFQVAsT0FBT1MsTUFBTSxDQUFDQyxFQUFFLENBQUMsb0JBQW9CVDtRQUNyQ0QsT0FBT1MsTUFBTSxDQUFDQyxFQUFFLENBQUMsdUJBQXVCTDtRQUN4Q0wsT0FBT1MsTUFBTSxDQUFDQyxFQUFFLENBQUMsb0JBQW9CSjtRQUVyQyxPQUFPO1lBQ0xOLE9BQU9TLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLG9CQUFvQlY7WUFDdENELE9BQU9TLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLHVCQUF1Qk47WUFDekNMLE9BQU9TLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLG9CQUFvQkw7UUFDeEM7SUFDRixHQUFHO1FBQUNOO0tBQU87SUFFWCxxQkFDRSw4REFBQ2Isc0VBQW1CQTtRQUFDeUIsUUFBUWhCO2tCQUMzQiw0RUFBQ1IsZ0RBQWFBO1lBQUNJLFFBQVFBO3NCQUNyQiw0RUFBQ1gsNERBQWNBO2dCQUFDVSxPQUFPQSxxREFBS0E7MEJBQzFCLDRFQUFDTztvQkFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLbEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbi1kYXBwLWZyb250ZW5kLy4vcGFnZXMvX2FwcC50c3g/MmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgJy4uL3N0eWxlcy9nbG9iYWxzLmNzcydcbmltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCdcbmltcG9ydCB7IENoYWtyYVByb3ZpZGVyIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCdcbmltcG9ydCB7IGNyZWF0ZUNvbmZpZywgaHR0cCB9IGZyb20gJ3dhZ21pJ1xuaW1wb3J0IHsgbWFpbm5ldCwgc2Vwb2xpYSB9IGZyb20gJ3dhZ21pL2NoYWlucydcbmltcG9ydCB7IFF1ZXJ5Q2xpZW50LCBRdWVyeUNsaWVudFByb3ZpZGVyIH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5J1xuaW1wb3J0IHsgV2FnbWlQcm92aWRlciB9IGZyb20gJ3dhZ21pJ1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB0aGVtZSBmcm9tICcuLi9zdHlsZXMvdGhlbWUnXG5cbmNvbnN0IGNvbmZpZyA9IGNyZWF0ZUNvbmZpZyh7XG4gIGNoYWluczogW21haW5uZXQsIHNlcG9saWFdLFxuICB0cmFuc3BvcnRzOiB7XG4gICAgW21haW5uZXQuaWRdOiBodHRwKCksXG4gICAgW3NlcG9saWEuaWRdOiBodHRwKClcbiAgfVxufSlcblxuY29uc3QgcXVlcnlDbGllbnQgPSBuZXcgUXVlcnlDbGllbnQoKVxuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBIYW5kbGUgcm91dGUgY2hhbmdlc1xuICAgIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlID0gKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnUm91dGUgY2hhbmdpbmcgdG86JywgdXJsKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlQ29tcGxldGUgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdSb3V0ZSBjaGFuZ2UgY29tcGxldGVkOicsIHVybClcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVSb3V0ZUNoYW5nZUVycm9yID0gKGVycjogYW55LCB1cmw6IHN0cmluZykgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignUm91dGUgY2hhbmdlIGVycm9yOicsIHsgdXJsLCBlcnIgfSlcbiAgICB9XG5cbiAgICByb3V0ZXIuZXZlbnRzLm9uKCdyb3V0ZUNoYW5nZVN0YXJ0JywgaGFuZGxlUm91dGVDaGFuZ2UpXG4gICAgcm91dGVyLmV2ZW50cy5vbigncm91dGVDaGFuZ2VDb21wbGV0ZScsIGhhbmRsZVJvdXRlQ2hhbmdlQ29tcGxldGUpXG4gICAgcm91dGVyLmV2ZW50cy5vbigncm91dGVDaGFuZ2VFcnJvcicsIGhhbmRsZVJvdXRlQ2hhbmdlRXJyb3IpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcm91dGVyLmV2ZW50cy5vZmYoJ3JvdXRlQ2hhbmdlU3RhcnQnLCBoYW5kbGVSb3V0ZUNoYW5nZSlcbiAgICAgIHJvdXRlci5ldmVudHMub2ZmKCdyb3V0ZUNoYW5nZUNvbXBsZXRlJywgaGFuZGxlUm91dGVDaGFuZ2VDb21wbGV0ZSlcbiAgICAgIHJvdXRlci5ldmVudHMub2ZmKCdyb3V0ZUNoYW5nZUVycm9yJywgaGFuZGxlUm91dGVDaGFuZ2VFcnJvcilcbiAgICB9XG4gIH0sIFtyb3V0ZXJdKVxuXG4gIHJldHVybiAoXG4gICAgPFF1ZXJ5Q2xpZW50UHJvdmlkZXIgY2xpZW50PXtxdWVyeUNsaWVudH0+XG4gICAgICA8V2FnbWlQcm92aWRlciBjb25maWc9e2NvbmZpZ30+XG4gICAgICAgIDxDaGFrcmFQcm92aWRlciB0aGVtZT17dGhlbWV9PlxuICAgICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICAgICAgPC9DaGFrcmFQcm92aWRlcj5cbiAgICAgIDwvV2FnbWlQcm92aWRlcj5cbiAgICA8L1F1ZXJ5Q2xpZW50UHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHAgIl0sIm5hbWVzIjpbIlJlYWN0IiwiQ2hha3JhUHJvdmlkZXIiLCJjcmVhdGVDb25maWciLCJodHRwIiwibWFpbm5ldCIsInNlcG9saWEiLCJRdWVyeUNsaWVudCIsIlF1ZXJ5Q2xpZW50UHJvdmlkZXIiLCJXYWdtaVByb3ZpZGVyIiwidXNlUm91dGVyIiwidXNlRWZmZWN0IiwidGhlbWUiLCJjb25maWciLCJjaGFpbnMiLCJ0cmFuc3BvcnRzIiwiaWQiLCJxdWVyeUNsaWVudCIsIk15QXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwicm91dGVyIiwiaGFuZGxlUm91dGVDaGFuZ2UiLCJ1cmwiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlUm91dGVDaGFuZ2VDb21wbGV0ZSIsImhhbmRsZVJvdXRlQ2hhbmdlRXJyb3IiLCJlcnIiLCJlcnJvciIsImV2ZW50cyIsIm9uIiwib2ZmIiwiY2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/_document.tsx":
/*!*****************************!*\
  !*** ./pages/_document.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Document)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react */ \"@chakra-ui/react\");\n/* harmony import */ var _styles_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/theme */ \"./styles/theme.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__, _styles_theme__WEBPACK_IMPORTED_MODULE_3__]);\n([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__, _styles_theme__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nfunction Document() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n        lang: \"ar\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {}, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ColorModeScript, {\n                        initialColorMode: _styles_theme__WEBPACK_IMPORTED_MODULE_3__[\"default\"].config.initialColorMode\n                    }, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n                        lineNumber: 12,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\_document.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fZG9jdW1lbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTREO0FBQ1Y7QUFDZjtBQUVwQixTQUFTTTtJQUN0QixxQkFDRSw4REFBQ04sK0NBQUlBO1FBQUNPLE1BQUs7OzBCQUNULDhEQUFDTiwrQ0FBSUE7Ozs7OzBCQUNMLDhEQUFDTzs7a0NBQ0MsOERBQUNKLDZEQUFlQTt3QkFBQ0ssa0JBQWtCSiw0REFBWSxDQUFDSSxnQkFBZ0I7Ozs7OztrQ0FDaEUsOERBQUNQLCtDQUFJQTs7Ozs7a0NBQ0wsOERBQUNDLHFEQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8uL3BhZ2VzL19kb2N1bWVudC50c3g/ZDM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdG1sLCBIZWFkLCBNYWluLCBOZXh0U2NyaXB0IH0gZnJvbSAnbmV4dC9kb2N1bWVudCdcbmltcG9ydCB7IENvbG9yTW9kZVNjcmlwdCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnXG5pbXBvcnQgdGhlbWUgZnJvbSAnLi4vc3R5bGVzL3RoZW1lJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEb2N1bWVudCgpIHtcbiAgcmV0dXJuIChcbiAgICA8SHRtbCBsYW5nPVwiYXJcIj5cbiAgICAgIDxIZWFkIC8+XG4gICAgICA8Ym9keT5cbiAgICAgICAgPENvbG9yTW9kZVNjcmlwdCBpbml0aWFsQ29sb3JNb2RlPXt0aGVtZS5jb25maWcuaW5pdGlhbENvbG9yTW9kZX0gLz5cbiAgICAgICAgPE1haW4gLz5cbiAgICAgICAgPE5leHRTY3JpcHQgLz5cbiAgICAgIDwvYm9keT5cbiAgICA8L0h0bWw+XG4gIClcbn0gIl0sIm5hbWVzIjpbIkh0bWwiLCJIZWFkIiwiTWFpbiIsIk5leHRTY3JpcHQiLCJDb2xvck1vZGVTY3JpcHQiLCJ0aGVtZSIsIkRvY3VtZW50IiwibGFuZyIsImJvZHkiLCJpbml0aWFsQ29sb3JNb2RlIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/_document.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react */ \"@chakra-ui/react\");\n/* harmony import */ var _utils_contracts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/contracts */ \"./utils/contracts.ts\");\n/* harmony import */ var _utils_ipfs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/ipfs */ \"./utils/ipfs.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_ethereum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/ethereum */ \"./utils/ethereum.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__, _utils_contracts__WEBPACK_IMPORTED_MODULE_3__]);\n([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__, _utils_contracts__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nfunction WalletConnection() {\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userRole, setUserRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n    const connectWallet = async ()=>{\n        if (false) {} else {\n            toast({\n                title: \"MetaMask not found\",\n                description: \"Please install MetaMask!\",\n                status: \"warning\",\n                duration: 3000,\n                isClosable: true\n            });\n        }\n    };\n    const disconnectWallet = async ()=>{\n        try {\n            // Clear local state\n            setAccount(null);\n            setUserRole(\"\");\n            // Clear any stored data\n            localStorage.clear();\n            sessionStorage.clear();\n            // Show success message\n            toast({\n                title: \"تم تسجيل الخروج - Logged Out\",\n                description: \"تم تسجيل الخروج بنجاح - Successfully logged out\",\n                status: \"success\",\n                duration: 2000,\n                isClosable: true\n            });\n            // Redirect to home page after a short delay\n            setTimeout(()=>{\n                router.push(\"/\").then(()=>{\n                    // Force page refresh after navigation\n                    window.location.reload();\n                });\n            }, 1000);\n        } catch (error) {\n            console.error(\"Error during logout:\", error);\n            toast({\n                title: \"خطأ - Error\",\n                description: \"حدث خطأ أثناء تسجيل الخروج - Error during logout\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n        children: account ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n            gap: 4,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                    children: [\n                        \"Connected to \",\n                        account\n                    ]\n                }, void 0, true, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 122,\n                    columnNumber: 11\n                }, this),\n                userRole && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                    children: [\n                        \"Role: \",\n                        userRole\n                    ]\n                }, void 0, true, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 123,\n                    columnNumber: 24\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                    colorScheme: \"red\",\n                    onClick: disconnectWallet,\n                    children: \"تسجيل الخروج - Logout\"\n                }, void 0, false, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 124,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n            lineNumber: 121,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n            colorScheme: \"blue\",\n            onClick: connectWallet,\n            children: \"Connect with MetaMask\"\n        }, void 0, false, {\n            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n            lineNumber: 129,\n            columnNumber: 9\n        }, this)\n    }, void 0, false, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n        lineNumber: 119,\n        columnNumber: 5\n    }, this);\n}\nfunction RegisterForm({ account }) {\n    const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const handleRegister = async ()=>{\n        try {\n            await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.registerUser)(role);\n            toast({\n                title: \"Success\",\n                description: \"User registered successfully\",\n                status: \"success\",\n                duration: 3000,\n                isClosable: true\n            });\n        } catch (error) {\n            console.error(\"Error registering user:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to register user\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n        gap: 4,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormControl, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormLabel, {\n                        children: \"Select Role\"\n                    }, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Select, {\n                        placeholder: \"Select role\",\n                        value: role,\n                        onChange: (e)=>setRole(e.target.value),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"admin\",\n                                children: \"مسؤول النظام - Admin\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 175,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"student\",\n                                children: \"طالب - Student\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 176,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"institution\",\n                                children: \"مؤسسة تعليمية - Institution\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 177,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"employer\",\n                                children: \"جهة توظيف - Employer\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 178,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 170,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 168,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"green\",\n                onClick: handleRegister,\n                children: \"Register\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 181,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n        lineNumber: 167,\n        columnNumber: 5\n    }, this);\n}\nfunction IssueCertificateModal() {\n    const { isOpen, onOpen, onClose } = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useDisclosure)();\n    const [studentAddress, setStudentAddress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [certificateData, setCertificateData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isVerified, setIsVerified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkVerificationStatus();\n    }, []);\n    const checkVerificationStatus = async ()=>{\n        try {\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error checking verification status:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to check verification status\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        }\n    };\n    const handleIssueCertificate = async ()=>{\n        if (!isVerified) {\n            toast({\n                title: \"Error\",\n                description: \"Your institution must be verified before issuing certificates. Please contact the administrator.\",\n                status: \"error\",\n                duration: 5000,\n                isClosable: true\n            });\n            return;\n        }\n        if (!studentAddress || !certificateData) {\n            toast({\n                title: \"Error\",\n                description: \"Please fill in all fields\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n            return;\n        }\n        try {\n            setLoading(true);\n            // Upload certificate data to IPFS\n            const ipfsHash = await (0,_utils_ipfs__WEBPACK_IMPORTED_MODULE_4__.uploadToIPFS)({\n                data: certificateData,\n                timestamp: new Date().toISOString()\n            });\n            // Issue certificate on blockchain\n            await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.issueCertificate)(studentAddress, ipfsHash);\n            toast({\n                title: \"Success\",\n                description: \"Certificate issued successfully\",\n                status: \"success\",\n                duration: 3000,\n                isClosable: true\n            });\n            onClose();\n            setStudentAddress(\"\");\n            setCertificateData(\"\");\n        } catch (error) {\n            console.error(\"Error issuing certificate:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to issue certificate. Make sure your institution is verified.\",\n                status: \"error\",\n                duration: 5000,\n                isClosable: true\n            });\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"purple\",\n                onClick: onOpen,\n                children: \"Issue Certificate\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 281,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Modal, {\n                isOpen: isOpen,\n                onClose: onClose,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalOverlay, {}, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 283,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalHeader, {\n                                children: \"Issue Certificate\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalCloseButton, {}, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 286,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalBody, {\n                                pb: 6,\n                                children: isVerified === false ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                    spacing: 4,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                            color: \"red.500\",\n                                            children: \"Your institution is not verified. Please contact the administrator for verification.\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            colorScheme: \"blue\",\n                                            onClick: checkVerificationStatus,\n                                            children: \"Check Verification Status\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 293,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 289,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                    gap: 4,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormControl, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormLabel, {\n                                                    children: \"Student Address\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 300,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                                    value: studentAddress,\n                                                    onChange: (e)=>setStudentAddress(e.target.value),\n                                                    placeholder: \"0x...\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 301,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 299,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormControl, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormLabel, {\n                                                    children: \"Certificate Data\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 308,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                                    value: certificateData,\n                                                    onChange: (e)=>setCertificateData(e.target.value),\n                                                    placeholder: \"Enter certificate details\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 309,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 307,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            colorScheme: \"blue\",\n                                            onClick: handleIssueCertificate,\n                                            isLoading: loading,\n                                            isDisabled: !isVerified,\n                                            children: \"Issue\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 315,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 298,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 287,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 284,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 282,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction ViewCertificatesModal() {\n    const { isOpen, onOpen, onClose } = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useDisclosure)();\n    const [certificates, setCertificates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userRole, setUserRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const loadCertificates = async ()=>{\n        setError(null);\n        try {\n            setLoading(true);\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error loading certificates:\", error);\n            setError(error.message || \"Failed to load certificates\");\n            toast({\n                title: \"Error\",\n                description: error.message || \"Failed to load certificates\",\n                status: \"error\",\n                duration: 5000,\n                isClosable: true\n            });\n        } finally{\n            setLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            loadCertificates();\n        }\n    }, [\n        isOpen\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"teal\",\n                onClick: onOpen,\n                children: \"View My Certificates\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 419,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Modal, {\n                isOpen: isOpen,\n                onClose: onClose,\n                size: \"xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalOverlay, {}, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 421,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalHeader, {\n                                children: \"My Certificates\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 423,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalCloseButton, {}, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 424,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalBody, {\n                                pb: 6,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                    spacing: 4,\n                                    align: \"stretch\",\n                                    children: [\n                                        userRole && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                            children: [\n                                                \"Current Role: \",\n                                                userRole\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 428,\n                                            columnNumber: 17\n                                        }, this),\n                                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                            color: \"red.500\",\n                                            children: error\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 431,\n                                            columnNumber: 17\n                                        }, this),\n                                        loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                            children: \"Loading certificates...\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 434,\n                                            columnNumber: 17\n                                        }, this) : certificates.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                            spacing: 4,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                                    children: \"No certificates found\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 437,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    colorScheme: \"blue\",\n                                                    onClick: loadCertificates,\n                                                    children: \"Refresh Certificates\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 438,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 436,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                            spacing: 4,\n                                            align: \"stretch\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    colorScheme: \"blue\",\n                                                    size: \"sm\",\n                                                    onClick: loadCertificates,\n                                                    children: \"Refresh Certificates\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 444,\n                                                    columnNumber: 19\n                                                }, this),\n                                                certificates.map((cert, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                                                        p: 4,\n                                                        border: \"1px\",\n                                                        borderColor: \"gray.200\",\n                                                        borderRadius: \"md\",\n                                                        shadow: \"sm\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Certificate Hash:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                        lineNumber: 456,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" \",\n                                                                    cert.ipfsHash\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                lineNumber: 456,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Issuer:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                        lineNumber: 457,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" \",\n                                                                    cert.issuer\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                lineNumber: 457,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Issued At:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                        lineNumber: 458,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \" \",\n                                                                    cert.issuedAt\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                lineNumber: 458,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            cert.data && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Details:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                        lineNumber: 460,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    \" \",\n                                                                    JSON.stringify(cert.data)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                lineNumber: 460,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.HStack, {\n                                                                mt: 2,\n                                                                spacing: 2,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                    size: \"sm\",\n                                                                    colorScheme: \"blue\",\n                                                                    onClick: ()=>window.open(`https://ipfs.io/ipfs/${cert.ipfsHash}`, \"_blank\"),\n                                                                    children: \"View on IPFS\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                    lineNumber: 463,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                                lineNumber: 462,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, index, true, {\n                                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 448,\n                                                        columnNumber: 21\n                                                    }, this))\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 443,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 426,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 425,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 422,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 420,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction VerifyCertificateModal() {\n    const { isOpen, onOpen, onClose } = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useDisclosure)();\n    const [certificateId, setCertificateId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [verificationResult, setVerificationResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const handleVerify = async ()=>{\n        if (!certificateId) {\n            toast({\n                title: \"Error\",\n                description: \"Please enter a certificate ID\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n            return;\n        }\n        try {\n            setLoading(true);\n            const isValid = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.verifyCertificate)(certificateId);\n            setVerificationResult(isValid);\n        } catch (error) {\n            console.error(\"Error verifying certificate:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to verify certificate\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"orange\",\n                onClick: onOpen,\n                children: \"Verify Certificate\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 522,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Modal, {\n                isOpen: isOpen,\n                onClose: onClose,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalOverlay, {}, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 524,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalHeader, {\n                                children: \"Verify Certificate\"\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalCloseButton, {}, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 527,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.ModalBody, {\n                                pb: 6,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                    spacing: 4,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormControl, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormLabel, {\n                                                    children: \"Certificate ID\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 531,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                                    value: certificateId,\n                                                    onChange: (e)=>setCertificateId(e.target.value),\n                                                    placeholder: \"Enter certificate ID\"\n                                                }, void 0, false, {\n                                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                                    lineNumber: 532,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 530,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            colorScheme: \"blue\",\n                                            onClick: handleVerify,\n                                            isLoading: loading,\n                                            children: \"Verify\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 538,\n                                            columnNumber: 15\n                                        }, this),\n                                        verificationResult !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                            color: verificationResult ? \"green.500\" : \"red.500\",\n                                            fontWeight: \"bold\",\n                                            children: [\n                                                \"Certificate is \",\n                                                verificationResult ? \"Valid\" : \"Invalid\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 546,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 529,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 528,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 525,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 523,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\nfunction VerificationStatus() {\n    const [isVerified, setIsVerified] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const checkVerificationStatus = async ()=>{\n        try {\n            if (false) {}\n        } catch (error) {\n            console.error(\"Error checking verification status:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to check verification status\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n        spacing: 4,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"blue\",\n                onClick: checkVerificationStatus,\n                children: \"Check Verification Status\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 588,\n                columnNumber: 7\n            }, this),\n            isVerified !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                color: isVerified ? \"green.500\" : \"red.500\",\n                children: [\n                    \"Your account is \",\n                    isVerified ? \"verified\" : \"not verified\",\n                    \".\",\n                    !isVerified && \" Please contact the administrator for verification.\"\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 592,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n        lineNumber: 587,\n        columnNumber: 5\n    }, this);\n}\nfunction AdminInterface() {\n    const [institutionAddress, setInstitutionAddress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const handleVerifyInstitution = async ()=>{\n        if (!institutionAddress) {\n            toast({\n                title: \"Error\",\n                description: \"Please enter an institution address\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n            return;\n        }\n        try {\n            setLoading(true);\n            await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.verifyInstitution)(institutionAddress);\n            toast({\n                title: \"Success\",\n                description: \"Institution verified successfully\",\n                status: \"success\",\n                duration: 3000,\n                isClosable: true\n            });\n            setInstitutionAddress(\"\");\n        } catch (error) {\n            console.error(\"Error verifying institution:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to verify institution\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n        spacing: 4,\n        align: \"stretch\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Heading, {\n                size: \"md\",\n                children: \"Admin Panel\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 645,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormControl, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.FormLabel, {\n                        children: \"Institution Address\"\n                    }, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 647,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                        value: institutionAddress,\n                        onChange: (e)=>setInstitutionAddress(e.target.value),\n                        placeholder: \"Enter institution address to verify\"\n                    }, void 0, false, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 648,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 646,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                colorScheme: \"green\",\n                onClick: handleVerifyInstitution,\n                isLoading: loading,\n                children: \"Verify Institution\"\n            }, void 0, false, {\n                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                lineNumber: 654,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n        lineNumber: 644,\n        columnNumber: 5\n    }, this);\n}\nfunction Home() {\n    const [account, setAccount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedRole, setSelectedRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentRole, setCurrentRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [redirecting, setRedirecting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_5__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkConnection();\n    }, []);\n    const checkConnection = async ()=>{\n        if (false) {}\n    };\n    const handleConnect = async ()=>{\n        try {\n            if (!window.ethereum) {\n                throw new Error(\"يرجى تثبيت MetaMask - Please install MetaMask\");\n            }\n            const selectedAccount = await (0,_utils_ethereum__WEBPACK_IMPORTED_MODULE_6__.getFirstAccount)(window.ethereum, \"eth_requestAccounts\");\n            if (!selectedAccount) {\n                throw new Error(\"لم يتم العثور على حساب - No account found\");\n            }\n            setAccount(selectedAccount);\n            // Check if user is admin first\n            try {\n                const isAdminUser = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.isOwner)(selectedAccount);\n                if (isAdminUser) {\n                    setCurrentRole(\"admin\");\n                    console.log(\"Admin account detected\");\n                    return;\n                }\n            } catch (error) {\n                console.log(\"Error checking admin status:\", error);\n            }\n            // If not admin, check regular role\n            try {\n                const role = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.getUserRole)(selectedAccount);\n                setCurrentRole(role);\n                console.log(\"Current user role:\", role);\n            } catch (error) {\n                console.log(\"User not registered yet\");\n            }\n        } catch (error) {\n            console.error(\"Error connecting:\", error);\n            setError(error.message);\n        }\n    };\n    const handleLogin = async ()=>{\n        try {\n            if (!account) {\n                throw new Error(\"Please connect your wallet first\");\n            }\n            setLoading(true);\n            setError(\"\");\n            // Check if user is admin first\n            const isAdminUser = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.isOwner)(account);\n            if (isAdminUser) {\n                console.log(\"Admin account detected, redirecting to admin dashboard\");\n                setCurrentRole(\"admin\");\n                setRedirecting(true);\n                router.push(\"/dashboard/admin\");\n                return;\n            }\n            // If not admin, check user role\n            const roleValue = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.getUserRole)(account);\n            console.log(\"Current user role value:\", roleValue);\n            // Map numeric role to string\n            const roleMap = {\n                \"0\": \"none\",\n                \"1\": \"student\",\n                \"2\": \"institution\",\n                \"3\": \"employer\",\n                \"4\": \"admin\"\n            };\n            const role = roleMap[roleValue.toString().replace(\"n\", \"\")] || \"none\";\n            console.log(\"Mapped role:\", role);\n            if (role === \"none\") {\n                throw new Error(\"This account is not registered. Please register first.\");\n            }\n            // Update current role\n            setCurrentRole(role);\n            // Redirect based on role\n            const redirectMap = {\n                \"student\": \"/dashboard/student\",\n                \"institution\": \"/dashboard/institution\",\n                \"employer\": \"/dashboard/employer\",\n                \"admin\": \"/dashboard/admin\"\n            };\n            const redirectPath = redirectMap[role];\n            if (redirectPath) {\n                setRedirecting(true);\n                router.push(redirectPath);\n            } else {\n                throw new Error(\"Invalid role or role not found\");\n            }\n        } catch (error) {\n            console.error(\"Error logging in:\", error);\n            setError(error.message);\n            toast({\n                title: \"خطأ - Error\",\n                description: error.message,\n                status: \"error\",\n                duration: 3000,\n                isClosable: true\n            });\n        } finally{\n            setLoading(false);\n        }\n    };\n    const handleSwitchWallet = async ()=>{\n        if (false) {}\n    };\n    const handleRegister = async ()=>{\n        if (!selectedRole) {\n            throw new Error(\"Please select a role\");\n        }\n        try {\n            setLoading(true);\n            setError(\"\");\n            // Check if user is admin first\n            const isAdminUser = await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.isOwner)(account);\n            if (isAdminUser) {\n                console.log(\"Admin account detected, redirecting to admin dashboard\");\n                setCurrentRole(\"admin\");\n                setRedirecting(true);\n                router.push(\"/dashboard/admin\");\n                return;\n            }\n            // If not admin, proceed with regular registration\n            await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.registerUser)(selectedRole);\n            setCurrentRole(selectedRole);\n            // After successful registration, redirect based on role\n            const redirectMap = {\n                \"student\": \"/dashboard/student\",\n                \"institution\": \"/dashboard/institution\",\n                \"employer\": \"/dashboard/employer\"\n            };\n            const redirectPath = redirectMap[selectedRole];\n            if (redirectPath) {\n                setRedirecting(true);\n                router.push(redirectPath);\n            }\n        } catch (error) {\n            console.error(\"Error registering:\", error);\n            setError(error.message);\n        } finally{\n            setLoading(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Container, {\n        maxW: \"container.sm\",\n        py: 8,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n            spacing: 6,\n            align: \"stretch\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                    textAlign: \"center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Heading, {\n                            mb: 2,\n                            children: \"نظام الشهادات اللامركزي\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 881,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Heading, {\n                            size: \"md\",\n                            mb: 4,\n                            children: \"Decentralized Certificate System\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 882,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 880,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                            mb: 2,\n                            children: \"المحفظة المتصلة - Connected Account:\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 886,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                            fontSize: \"sm\",\n                            mb: 4,\n                            children: account || \"Not connected\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 887,\n                            columnNumber: 11\n                        }, this),\n                        !account ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            colorScheme: \"blue\",\n                            onClick: handleConnect,\n                            isLoading: loading,\n                            width: \"full\",\n                            children: \"اتصال بالمحفظة - Connect Wallet\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 890,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            colorScheme: \"orange\",\n                            onClick: handleSwitchWallet,\n                            width: \"full\",\n                            children: \"تبديل المحفظة - Switch Wallet\"\n                        }, void 0, false, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 899,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 885,\n                    columnNumber: 9\n                }, this),\n                account && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                    spacing: 4,\n                    children: currentRole ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                        bg: \"yellow.100\",\n                        p: 4,\n                        borderRadius: \"md\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                children: [\n                                    \"أنت مسجل حالياً كـ - You are currently registered as: \",\n                                    currentRole\n                                ]\n                            }, void 0, true, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 913,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.VStack, {\n                                spacing: 4,\n                                width: \"full\",\n                                mt: 4,\n                                children: [\n                                    account.toLowerCase() === process.env.NEXT_PUBLIC_ADMIN_ADDRESS?.toLowerCase() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        colorScheme: \"purple\",\n                                        onClick: async ()=>{\n                                            try {\n                                                await (0,_utils_contracts__WEBPACK_IMPORTED_MODULE_3__.setAdminRole)();\n                                                toast({\n                                                    title: \"Success\",\n                                                    description: \"Admin role set successfully\",\n                                                    status: \"success\",\n                                                    duration: 3000,\n                                                    isClosable: true\n                                                });\n                                                window.location.reload();\n                                            } catch (error) {\n                                                console.error(\"Error setting admin role:\", error);\n                                                toast({\n                                                    title: \"Error\",\n                                                    description: error.message || \"Failed to set admin role\",\n                                                    status: \"error\",\n                                                    duration: 3000,\n                                                    isClosable: true\n                                                });\n                                            }\n                                        },\n                                        width: \"full\",\n                                        children: \"تعيين دور المسؤول - Set Admin Role\"\n                                    }, void 0, false, {\n                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                        lineNumber: 918,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        colorScheme: \"green\",\n                                        onClick: handleLogin,\n                                        isLoading: loading || redirecting,\n                                        width: \"full\",\n                                        children: \"دخول للحساب - Login\"\n                                    }, void 0, false, {\n                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                        lineNumber: 947,\n                                        columnNumber: 19\n                                    }, this),\n                                    currentRole !== \"admin\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        colorScheme: \"blue\",\n                                        onClick: ()=>{\n                                            setCurrentRole(null);\n                                            setSelectedRole(\"\");\n                                        },\n                                        width: \"full\",\n                                        children: \"تسجيل حساب جديد - Register New Account\"\n                                    }, void 0, false, {\n                                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                        lineNumber: 956,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                lineNumber: 916,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 912,\n                        columnNumber: 15\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                            bg: \"blue.100\",\n                            p: 4,\n                            borderRadius: \"md\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                                    mb: 4,\n                                    children: [\n                                        \"هذا الحساب غير مسجل. يرجى التسجيل أولاً.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 974,\n                                            columnNumber: 21\n                                        }, this),\n                                        \"This account is not registered. Please register first.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 972,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Select, {\n                                    placeholder: \"اختر دورك - Select your role\",\n                                    value: selectedRole,\n                                    onChange: (e)=>setSelectedRole(e.target.value),\n                                    mb: 4,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"student\",\n                                            children: \"طالب - Student\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 983,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"institution\",\n                                            children: \"مؤسسة تعليمية - Institution\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 984,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: \"employer\",\n                                            children: \"جهة توظيف - Employer\"\n                                        }, void 0, false, {\n                                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                            lineNumber: 985,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 977,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                    colorScheme: \"green\",\n                                    onClick: handleRegister,\n                                    isLoading: loading || redirecting,\n                                    width: \"full\",\n                                    children: \"تسجيل - Register\"\n                                }, void 0, false, {\n                                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                                    lineNumber: 987,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                            lineNumber: 971,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false)\n                }, void 0, false, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 910,\n                    columnNumber: 11\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                    bg: \"red.100\",\n                    p: 4,\n                    borderRadius: \"md\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                        color: \"red.500\",\n                        children: [\n                            \"خطأ - Error: \",\n                            error\n                        ]\n                    }, void 0, true, {\n                        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                        lineNumber: 1003,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n                    lineNumber: 1002,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n            lineNumber: 879,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"H:\\\\projects\\\\education\\\\frontend\\\\pages\\\\index.tsx\",\n        lineNumber: 878,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDhEQUFDSTs0Q0FBT0osT0FBTTtzREFBVzs7Ozs7Ozs7Ozs7OzhDQUUzQiw4REFBQ2pFLG9EQUFNQTtvQ0FDTDJELGFBQVk7b0NBQ1pDLFNBQVNHO29DQUNUOEIsV0FBV2IsV0FBV2dFO29DQUN0QnVCLE9BQU07OENBQ1A7Ozs7Ozs7Ozs7Ozs7Ozs7OztnQkFTVjlILHVCQUNDLDhEQUFDN0MsaURBQUdBO29CQUFDNEssSUFBRztvQkFBVXJELEdBQUc7b0JBQUdHLGNBQWE7OEJBQ25DLDRFQUFDdkgsa0RBQUlBO3dCQUFDNkYsT0FBTTs7NEJBQVU7NEJBQWNuRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBCb3gsXG4gIENvbnRhaW5lcixcbiAgSGVhZGluZyxcbiAgVGV4dCxcbiAgQnV0dG9uLFxuICBWU3RhY2ssXG4gIEhTdGFjayxcbiAgdXNlVG9hc3QsXG4gIFNlbGVjdCxcbiAgSW5wdXQsXG4gIEZvcm1Db250cm9sLFxuICBGb3JtTGFiZWwsXG4gIE1vZGFsLFxuICBNb2RhbE92ZXJsYXksXG4gIE1vZGFsQ29udGVudCxcbiAgTW9kYWxIZWFkZXIsXG4gIE1vZGFsQm9keSxcbiAgTW9kYWxDbG9zZUJ1dHRvbixcbiAgdXNlRGlzY2xvc3VyZSxcbiAgU3Bpbm5lclxufSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcbmltcG9ydCB7IGV0aGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyByZWdpc3RlclVzZXIsIGdldFVzZXJSb2xlLCBpc3N1ZUNlcnRpZmljYXRlLCBnZXRDZXJ0aWZpY2F0ZXMsIHZlcmlmeUNlcnRpZmljYXRlLCBpc1ZlcmlmaWVkVXNlciwgaXNPd25lciwgdmVyaWZ5SW5zdGl0dXRpb24sIGdldE93bmVyQWRkcmVzcywgc2V0QWRtaW5Sb2xlIH0gZnJvbSAnLi4vdXRpbHMvY29udHJhY3RzJztcbmltcG9ydCB7IHVwbG9hZFRvSVBGUywgZ2V0RnJvbUlQRlMgfSBmcm9tICcuLi91dGlscy9pcGZzJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IGdldEZpcnN0QWNjb3VudCwgcmVxdWVzdEFjY291bnRzLCBnZXRFdGhlcmV1bUFjY291bnRzIH0gZnJvbSAnLi4vdXRpbHMvZXRoZXJldW0nO1xuXG5mdW5jdGlvbiBXYWxsZXRDb25uZWN0aW9uKCkge1xuICBjb25zdCBbYWNjb3VudCwgc2V0QWNjb3VudF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VzZXJSb2xlLCBzZXRVc2VyUm9sZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICBjb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IGF3YWl0IGdldEZpcnN0QWNjb3VudCh3aW5kb3cuZXRoZXJldW0sICdldGhfcmVxdWVzdEFjY291bnRzJyk7XG4gICAgICAgIGlmICghc2VsZWN0ZWRBY2NvdW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2NvdW50IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0QWNjb3VudChzZWxlY3RlZEFjY291bnQpO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHVzZXIgcm9sZSBhZnRlciBjb25uZWN0aW5nXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGF3YWl0IGdldFVzZXJSb2xlKHNlbGVjdGVkQWNjb3VudCk7XG4gICAgICAgICAgc2V0VXNlclJvbGUocm9sZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgbm90IHJlZ2lzdGVyZWQgeWV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAnQ29ubmVjdGVkJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1dhbGxldCBjb25uZWN0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gTWV0YU1hc2s6JywgZXJyb3IpO1xuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gY29ubmVjdCB3YWxsZXQnLFxuICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ01ldGFNYXNrIG5vdCBmb3VuZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGxlYXNlIGluc3RhbGwgTWV0YU1hc2shJyxcbiAgICAgICAgc3RhdHVzOiAnd2FybmluZycsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRpc2Nvbm5lY3RXYWxsZXQgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENsZWFyIGxvY2FsIHN0YXRlXG4gICAgICBzZXRBY2NvdW50KG51bGwpO1xuICAgICAgc2V0VXNlclJvbGUoJycpO1xuXG4gICAgICAvLyBDbGVhciBhbnkgc3RvcmVkIGRhdGFcbiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcblxuICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfYqtmFINiq2LPYrNmK2YQg2KfZhNiu2LHZiNisIC0gTG9nZ2VkIE91dCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn2KrZhSDYqtiz2KzZitmEINin2YTYrtix2YjYrCDYqNmG2KzYp9itIC0gU3VjY2Vzc2Z1bGx5IGxvZ2dlZCBvdXQnLFxuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgLy8gUmVkaXJlY3QgdG8gaG9tZSBwYWdlIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByb3V0ZXIucHVzaCgnLycpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIC8vIEZvcmNlIHBhZ2UgcmVmcmVzaCBhZnRlciBuYXZpZ2F0aW9uXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDEwMDApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgbG9nb3V0OicsIGVycm9yKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfYrti32KMgLSBFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn2K3Yr9irINiu2LfYoyDYo9ir2YbYp9ihINiq2LPYrNmK2YQg2KfZhNiu2LHZiNisIC0gRXJyb3IgZHVyaW5nIGxvZ291dCcsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8Qm94PlxuICAgICAge2FjY291bnQgPyAoXG4gICAgICAgIDxWU3RhY2sgZ2FwPXs0fT5cbiAgICAgICAgICA8VGV4dD5Db25uZWN0ZWQgdG8ge2FjY291bnR9PC9UZXh0PlxuICAgICAgICAgIHt1c2VyUm9sZSAmJiA8VGV4dD5Sb2xlOiB7dXNlclJvbGV9PC9UZXh0Pn1cbiAgICAgICAgICA8QnV0dG9uIGNvbG9yU2NoZW1lPVwicmVkXCIgb25DbGljaz17ZGlzY29ubmVjdFdhbGxldH0+XG4gICAgICAgICAgICDYqtiz2KzZitmEINin2YTYrtix2YjYrCAtIExvZ291dFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICkgOiAoXG4gICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgY29sb3JTY2hlbWU9XCJibHVlXCIgXG4gICAgICAgICAgb25DbGljaz17Y29ubmVjdFdhbGxldH1cbiAgICAgICAgPlxuICAgICAgICAgIENvbm5lY3Qgd2l0aCBNZXRhTWFza1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICl9XG4gICAgPC9Cb3g+XG4gICk7XG59XG5cbmZ1bmN0aW9uIFJlZ2lzdGVyRm9ybSh7IGFjY291bnQgfTogeyBhY2NvdW50OiBzdHJpbmcgfSkge1xuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcblxuICBjb25zdCBoYW5kbGVSZWdpc3RlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgcmVnaXN0ZXJVc2VyKHJvbGUpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZXIgcmVnaXN0ZXJlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byByZWdpc3RlciB1c2VyJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxWU3RhY2sgZ2FwPXs0fT5cbiAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgPEZvcm1MYWJlbD5TZWxlY3QgUm9sZTwvRm9ybUxhYmVsPlxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3Qgcm9sZVwiXG4gICAgICAgICAgdmFsdWU9e3JvbGV9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSb2xlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhZG1pblwiPtmF2LPYpNmI2YQg2KfZhNmG2LjYp9mFIC0gQWRtaW48L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3R1ZGVudFwiPti32KfZhNioIC0gU3R1ZGVudDwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJpbnN0aXR1dGlvblwiPtmF2KTYs9iz2Kkg2KrYudmE2YrZhdmK2KkgLSBJbnN0aXR1dGlvbjwvb3B0aW9uPlxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJlbXBsb3llclwiPtis2YfYqSDYqtmI2LjZitmBIC0gRW1wbG95ZXI8L29wdGlvbj5cbiAgICAgICAgPC9TZWxlY3Q+XG4gICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgPEJ1dHRvbiBjb2xvclNjaGVtZT1cImdyZWVuXCIgb25DbGljaz17aGFuZGxlUmVnaXN0ZXJ9PlxuICAgICAgICBSZWdpc3RlclxuICAgICAgPC9CdXR0b24+XG4gICAgPC9WU3RhY2s+XG4gICk7XG59XG5cbmZ1bmN0aW9uIElzc3VlQ2VydGlmaWNhdGVNb2RhbCgpIHtcbiAgY29uc3QgeyBpc09wZW4sIG9uT3Blbiwgb25DbG9zZSB9ID0gdXNlRGlzY2xvc3VyZSgpO1xuICBjb25zdCBbc3R1ZGVudEFkZHJlc3MsIHNldFN0dWRlbnRBZGRyZXNzXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2NlcnRpZmljYXRlRGF0YSwgc2V0Q2VydGlmaWNhdGVEYXRhXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzVmVyaWZpZWQsIHNldElzVmVyaWZpZWRdID0gdXNlU3RhdGU8Ym9vbGVhbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrVmVyaWZpY2F0aW9uU3RhdHVzKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBjaGVja1ZlcmlmaWNhdGlvblN0YXR1cyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZEFjY291bnQgPSBhd2FpdCBnZXRGaXJzdEFjY291bnQod2luZG93LmV0aGVyZXVtLCAnZXRoX3JlcXVlc3RBY2NvdW50cycpO1xuICAgICAgICBpZiAoc2VsZWN0ZWRBY2NvdW50KSB7XG4gICAgICAgICAgY29uc3QgdmVyaWZpZWQgPSBhd2FpdCBpc1ZlcmlmaWVkVXNlcihzZWxlY3RlZEFjY291bnQpO1xuICAgICAgICAgIHNldElzVmVyaWZpZWQodmVyaWZpZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHZlcmlmaWNhdGlvbiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdGYWlsZWQgdG8gY2hlY2sgdmVyaWZpY2F0aW9uIHN0YXR1cycsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSXNzdWVDZXJ0aWZpY2F0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWlzVmVyaWZpZWQpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBpbnN0aXR1dGlvbiBtdXN0IGJlIHZlcmlmaWVkIGJlZm9yZSBpc3N1aW5nIGNlcnRpZmljYXRlcy4gUGxlYXNlIGNvbnRhY3QgdGhlIGFkbWluaXN0cmF0b3IuJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc3R1ZGVudEFkZHJlc3MgfHwgIWNlcnRpZmljYXRlRGF0YSkge1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQbGVhc2UgZmlsbCBpbiBhbGwgZmllbGRzJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgLy8gVXBsb2FkIGNlcnRpZmljYXRlIGRhdGEgdG8gSVBGU1xuICAgICAgY29uc3QgaXBmc0hhc2ggPSBhd2FpdCB1cGxvYWRUb0lQRlMoe1xuICAgICAgICBkYXRhOiBjZXJ0aWZpY2F0ZURhdGEsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KTtcblxuICAgICAgLy8gSXNzdWUgY2VydGlmaWNhdGUgb24gYmxvY2tjaGFpblxuICAgICAgYXdhaXQgaXNzdWVDZXJ0aWZpY2F0ZShzdHVkZW50QWRkcmVzcywgaXBmc0hhc2gpO1xuICAgICAgXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnU3VjY2VzcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ2VydGlmaWNhdGUgaXNzdWVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgb25DbG9zZSgpO1xuICAgICAgc2V0U3R1ZGVudEFkZHJlc3MoJycpO1xuICAgICAgc2V0Q2VydGlmaWNhdGVEYXRhKCcnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaXNzdWluZyBjZXJ0aWZpY2F0ZTonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBpc3N1ZSBjZXJ0aWZpY2F0ZS4gTWFrZSBzdXJlIHlvdXIgaW5zdGl0dXRpb24gaXMgdmVyaWZpZWQuJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJ1dHRvbiBjb2xvclNjaGVtZT1cInB1cnBsZVwiIG9uQ2xpY2s9e29uT3Blbn0+SXNzdWUgQ2VydGlmaWNhdGU8L0J1dHRvbj5cbiAgICAgIDxNb2RhbCBpc09wZW49e2lzT3Blbn0gb25DbG9zZT17b25DbG9zZX0+XG4gICAgICAgIDxNb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPE1vZGFsQ29udGVudD5cbiAgICAgICAgICA8TW9kYWxIZWFkZXI+SXNzdWUgQ2VydGlmaWNhdGU8L01vZGFsSGVhZGVyPlxuICAgICAgICAgIDxNb2RhbENsb3NlQnV0dG9uIC8+XG4gICAgICAgICAgPE1vZGFsQm9keSBwYj17Nn0+XG4gICAgICAgICAgICB7aXNWZXJpZmllZCA9PT0gZmFsc2UgPyAoXG4gICAgICAgICAgICAgIDxWU3RhY2sgc3BhY2luZz17NH0+XG4gICAgICAgICAgICAgICAgPFRleHQgY29sb3I9XCJyZWQuNTAwXCI+XG4gICAgICAgICAgICAgICAgICBZb3VyIGluc3RpdHV0aW9uIGlzIG5vdCB2ZXJpZmllZC4gUGxlYXNlIGNvbnRhY3QgdGhlIGFkbWluaXN0cmF0b3IgZm9yIHZlcmlmaWNhdGlvbi5cbiAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBjb2xvclNjaGVtZT1cImJsdWVcIiBvbkNsaWNrPXtjaGVja1ZlcmlmaWNhdGlvblN0YXR1c30+XG4gICAgICAgICAgICAgICAgICBDaGVjayBWZXJpZmljYXRpb24gU3RhdHVzXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvVlN0YWNrPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPFZTdGFjayBnYXA9ezR9PlxuICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+U3R1ZGVudCBBZGRyZXNzPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3N0dWRlbnRBZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFN0dWRlbnRBZGRyZXNzKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIweC4uLlwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgICAgPEZvcm1MYWJlbD5DZXJ0aWZpY2F0ZSBEYXRhPC9Gb3JtTGFiZWw+XG4gICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NlcnRpZmljYXRlRGF0YX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDZXJ0aWZpY2F0ZURhdGEoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGNlcnRpZmljYXRlIGRldGFpbHNcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICBjb2xvclNjaGVtZT1cImJsdWVcIiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUlzc3VlQ2VydGlmaWNhdGV9XG4gICAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPXshaXNWZXJpZmllZH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBJc3N1ZVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Nb2RhbEJvZHk+XG4gICAgICAgIDwvTW9kYWxDb250ZW50PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8Lz5cbiAgKTtcbn1cblxuaW50ZXJmYWNlIENlcnRpZmljYXRlIHtcbiAgaWQ6IHN0cmluZztcbiAgaXBmc0hhc2g6IHN0cmluZztcbiAgaXNzdWVyOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBpc1ZhbGlkOiBib29sZWFuO1xuICBkYXRhPzogYW55O1xuICBpc3N1ZWRBdD86IHN0cmluZztcbn1cblxuZnVuY3Rpb24gVmlld0NlcnRpZmljYXRlc01vZGFsKCkge1xuICBjb25zdCB7IGlzT3Blbiwgb25PcGVuLCBvbkNsb3NlIH0gPSB1c2VEaXNjbG9zdXJlKCk7XG4gIGNvbnN0IFtjZXJ0aWZpY2F0ZXMsIHNldENlcnRpZmljYXRlc10gPSB1c2VTdGF0ZTxDZXJ0aWZpY2F0ZVtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VzZXJSb2xlLCBzZXRVc2VyUm9sZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IGxvYWRDZXJ0aWZpY2F0ZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0RXJyb3IobnVsbCk7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IGF3YWl0IGdldEZpcnN0QWNjb3VudCh3aW5kb3cuZXRoZXJldW0sICdldGhfcmVxdWVzdEFjY291bnRzJyk7XG4gICAgICAgIGlmIChzZWxlY3RlZEFjY291bnQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTG9hZGluZyBjZXJ0aWZpY2F0ZXMgZm9yIGFkZHJlc3M6Jywgc2VsZWN0ZWRBY2NvdW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayB1c2VyIHJvbGUgZmlyc3RcbiAgICAgICAgICBjb25zdCByb2xlID0gYXdhaXQgZ2V0VXNlclJvbGUoc2VsZWN0ZWRBY2NvdW50KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciByb2xlIGZvciBjZXJ0aWZpY2F0ZXM6Jywgcm9sZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJvbGUgIT09ICdzdHVkZW50Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPbmx5IHN0dWRlbnRzIGNhbiB2aWV3IGNlcnRpZmljYXRlcy4gQ3VycmVudCByb2xlOiAke3JvbGV9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGNlcnRpZmljYXRlcyBmcm9tIGNvbnRyYWN0Li4uJyk7XG4gICAgICAgICAgY29uc3QgY2VydHMgPSBhd2FpdCBnZXRDZXJ0aWZpY2F0ZXMoc2VsZWN0ZWRBY2NvdW50KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmF3IGNlcnRpZmljYXRlcyBkYXRhOicsIGNlcnRzKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWNlcnRzIHx8IGNlcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGNlcnRpZmljYXRlcyBmb3VuZCcpO1xuICAgICAgICAgICAgc2V0Q2VydGlmaWNhdGVzKFtdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRDZXJ0cyA9IGF3YWl0IFByb21pc2UuYWxsKGNlcnRzLm1hcChhc3luYyAoY2VydDogYW55KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZyBjZXJ0aWZpY2F0ZTonLCBjZXJ0KTtcbiAgICAgICAgICAgICAgY29uc3QgaXBmc0RhdGEgPSBhd2FpdCBnZXRGcm9tSVBGUyhjZXJ0LmlwZnNIYXNoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5jZXJ0LFxuICAgICAgICAgICAgICAgIGRhdGE6IGlwZnNEYXRhLFxuICAgICAgICAgICAgICAgIGlzc3VlZEF0OiBuZXcgRGF0ZShwYXJzZUludChjZXJ0LnRpbWVzdGFtcCkgKiAxMDAwKS50b0xvY2FsZVN0cmluZygpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIElQRlMgZGF0YSBmb3IgY2VydDonLCBjZXJ0LmlwZnNIYXNoLCBlcnJvcik7XG4gICAgICAgICAgICAgIHJldHVybiBjZXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zb2xlLmxvZygnRm9ybWF0dGVkIGNlcnRpZmljYXRlczonLCBmb3JtYXR0ZWRDZXJ0cyk7XG4gICAgICAgICAgc2V0Q2VydGlmaWNhdGVzKGZvcm1hdHRlZENlcnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgY2VydGlmaWNhdGVzOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGNlcnRpZmljYXRlcycpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ0Vycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2FkIGNlcnRpZmljYXRlcycsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgbG9hZENlcnRpZmljYXRlcygpO1xuICAgIH1cbiAgfSwgW2lzT3Blbl0pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxCdXR0b24gY29sb3JTY2hlbWU9XCJ0ZWFsXCIgb25DbGljaz17b25PcGVufT5WaWV3IE15IENlcnRpZmljYXRlczwvQnV0dG9uPlxuICAgICAgPE1vZGFsIGlzT3Blbj17aXNPcGVufSBvbkNsb3NlPXtvbkNsb3NlfSBzaXplPVwieGxcIj5cbiAgICAgICAgPE1vZGFsT3ZlcmxheSAvPlxuICAgICAgICA8TW9kYWxDb250ZW50PlxuICAgICAgICAgIDxNb2RhbEhlYWRlcj5NeSBDZXJ0aWZpY2F0ZXM8L01vZGFsSGVhZGVyPlxuICAgICAgICAgIDxNb2RhbENsb3NlQnV0dG9uIC8+XG4gICAgICAgICAgPE1vZGFsQm9keSBwYj17Nn0+XG4gICAgICAgICAgICA8VlN0YWNrIHNwYWNpbmc9ezR9IGFsaWduPVwic3RyZXRjaFwiPlxuICAgICAgICAgICAgICB7dXNlclJvbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxUZXh0PkN1cnJlbnQgUm9sZToge3VzZXJSb2xlfTwvVGV4dD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgICA8VGV4dCBjb2xvcj1cInJlZC41MDBcIj57ZXJyb3J9PC9UZXh0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICA8VGV4dD5Mb2FkaW5nIGNlcnRpZmljYXRlcy4uLjwvVGV4dD5cbiAgICAgICAgICAgICAgKSA6IGNlcnRpZmljYXRlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPFZTdGFjayBzcGFjaW5nPXs0fT5cbiAgICAgICAgICAgICAgICAgIDxUZXh0Pk5vIGNlcnRpZmljYXRlcyBmb3VuZDwvVGV4dD5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b24gY29sb3JTY2hlbWU9XCJibHVlXCIgb25DbGljaz17bG9hZENlcnRpZmljYXRlc30+XG4gICAgICAgICAgICAgICAgICAgIFJlZnJlc2ggQ2VydGlmaWNhdGVzXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8VlN0YWNrIHNwYWNpbmc9ezR9IGFsaWduPVwic3RyZXRjaFwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjb2xvclNjaGVtZT1cImJsdWVcIiBzaXplPVwic21cIiBvbkNsaWNrPXtsb2FkQ2VydGlmaWNhdGVzfT5cbiAgICAgICAgICAgICAgICAgICAgUmVmcmVzaCBDZXJ0aWZpY2F0ZXNcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAge2NlcnRpZmljYXRlcy5tYXAoKGNlcnQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8Qm94IFxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgcD17NH0gXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyPVwiMXB4XCIgXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I9XCJncmF5LjIwMFwiIFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1cz1cIm1kXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaGFkb3c9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dD48c3Ryb25nPkNlcnRpZmljYXRlIEhhc2g6PC9zdHJvbmc+IHtjZXJ0LmlwZnNIYXNofTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dD48c3Ryb25nPklzc3Vlcjo8L3N0cm9uZz4ge2NlcnQuaXNzdWVyfTwvVGV4dD5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dD48c3Ryb25nPklzc3VlZCBBdDo8L3N0cm9uZz4ge2NlcnQuaXNzdWVkQXR9PC9UZXh0PlxuICAgICAgICAgICAgICAgICAgICAgIHtjZXJ0LmRhdGEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQ+PHN0cm9uZz5EZXRhaWxzOjwvc3Ryb25nPiB7SlNPTi5zdHJpbmdpZnkoY2VydC5kYXRhKX08L1RleHQ+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8SFN0YWNrIG10PXsyfSBzcGFjaW5nPXsyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yU2NoZW1lPVwiYmx1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL2lwZnMuaW8vaXBmcy8ke2NlcnQuaXBmc0hhc2h9YCwgJ19ibGFuaycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IG9uIElQRlNcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvSFN0YWNrPlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvVlN0YWNrPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9WU3RhY2s+XG4gICAgICAgICAgPC9Nb2RhbEJvZHk+XG4gICAgICAgIDwvTW9kYWxDb250ZW50PlxuICAgICAgPC9Nb2RhbD5cbiAgICA8Lz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVmVyaWZ5Q2VydGlmaWNhdGVNb2RhbCgpIHtcbiAgY29uc3QgeyBpc09wZW4sIG9uT3Blbiwgb25DbG9zZSB9ID0gdXNlRGlzY2xvc3VyZSgpO1xuICBjb25zdCBbY2VydGlmaWNhdGVJZCwgc2V0Q2VydGlmaWNhdGVJZF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFt2ZXJpZmljYXRpb25SZXN1bHQsIHNldFZlcmlmaWNhdGlvblJlc3VsdF0gPSB1c2VTdGF0ZTxib29sZWFuIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IGhhbmRsZVZlcmlmeSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWNlcnRpZmljYXRlSWQpIHtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUGxlYXNlIGVudGVyIGEgY2VydGlmaWNhdGUgSUQnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5Q2VydGlmaWNhdGUoY2VydGlmaWNhdGVJZCk7XG4gICAgICBzZXRWZXJpZmljYXRpb25SZXN1bHQoaXNWYWxpZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBjZXJ0aWZpY2F0ZTonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byB2ZXJpZnkgY2VydGlmaWNhdGUnLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8QnV0dG9uIGNvbG9yU2NoZW1lPVwib3JhbmdlXCIgb25DbGljaz17b25PcGVufT5WZXJpZnkgQ2VydGlmaWNhdGU8L0J1dHRvbj5cbiAgICAgIDxNb2RhbCBpc09wZW49e2lzT3Blbn0gb25DbG9zZT17b25DbG9zZX0+XG4gICAgICAgIDxNb2RhbE92ZXJsYXkgLz5cbiAgICAgICAgPE1vZGFsQ29udGVudD5cbiAgICAgICAgICA8TW9kYWxIZWFkZXI+VmVyaWZ5IENlcnRpZmljYXRlPC9Nb2RhbEhlYWRlcj5cbiAgICAgICAgICA8TW9kYWxDbG9zZUJ1dHRvbiAvPlxuICAgICAgICAgIDxNb2RhbEJvZHkgcGI9ezZ9PlxuICAgICAgICAgICAgPFZTdGFjayBzcGFjaW5nPXs0fT5cbiAgICAgICAgICAgICAgPEZvcm1Db250cm9sPlxuICAgICAgICAgICAgICAgIDxGb3JtTGFiZWw+Q2VydGlmaWNhdGUgSUQ8L0Zvcm1MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtjZXJ0aWZpY2F0ZUlkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDZXJ0aWZpY2F0ZUlkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgY2VydGlmaWNhdGUgSURcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgY29sb3JTY2hlbWU9XCJibHVlXCIgXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVmVyaWZ5fVxuICAgICAgICAgICAgICAgIGlzTG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFZlcmlmeVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAge3ZlcmlmaWNhdGlvblJlc3VsdCAhPT0gbnVsbCAmJiAoXG4gICAgICAgICAgICAgICAgPFRleHRcbiAgICAgICAgICAgICAgICAgIGNvbG9yPXt2ZXJpZmljYXRpb25SZXN1bHQgPyAnZ3JlZW4uNTAwJyA6ICdyZWQuNTAwJ31cbiAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ9XCJib2xkXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBDZXJ0aWZpY2F0ZSBpcyB7dmVyaWZpY2F0aW9uUmVzdWx0ID8gJ1ZhbGlkJyA6ICdJbnZhbGlkJ31cbiAgICAgICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgICA8L01vZGFsQm9keT5cbiAgICAgICAgPC9Nb2RhbENvbnRlbnQ+XG4gICAgICA8L01vZGFsPlxuICAgIDwvPlxuICApO1xufVxuXG5mdW5jdGlvbiBWZXJpZmljYXRpb25TdGF0dXMoKSB7XG4gIGNvbnN0IFtpc1ZlcmlmaWVkLCBzZXRJc1ZlcmlmaWVkXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IGNoZWNrVmVyaWZpY2F0aW9uU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IGF3YWl0IGdldEZpcnN0QWNjb3VudCh3aW5kb3cuZXRoZXJldW0sICdldGhfcmVxdWVzdEFjY291bnRzJyk7XG4gICAgICAgIGlmIChzZWxlY3RlZEFjY291bnQpIHtcbiAgICAgICAgICBjb25zdCB2ZXJpZmllZCA9IGF3YWl0IGlzVmVyaWZpZWRVc2VyKHNlbGVjdGVkQWNjb3VudCk7XG4gICAgICAgICAgc2V0SXNWZXJpZmllZCh2ZXJpZmllZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgdmVyaWZpY2F0aW9uIHN0YXR1czonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byBjaGVjayB2ZXJpZmljYXRpb24gc3RhdHVzJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxWU3RhY2sgc3BhY2luZz17NH0+XG4gICAgICA8QnV0dG9uIGNvbG9yU2NoZW1lPVwiYmx1ZVwiIG9uQ2xpY2s9e2NoZWNrVmVyaWZpY2F0aW9uU3RhdHVzfT5cbiAgICAgICAgQ2hlY2sgVmVyaWZpY2F0aW9uIFN0YXR1c1xuICAgICAgPC9CdXR0b24+XG4gICAgICB7aXNWZXJpZmllZCAhPT0gbnVsbCAmJiAoXG4gICAgICAgIDxUZXh0IGNvbG9yPXtpc1ZlcmlmaWVkID8gJ2dyZWVuLjUwMCcgOiAncmVkLjUwMCd9PlxuICAgICAgICAgIFlvdXIgYWNjb3VudCBpcyB7aXNWZXJpZmllZCA/ICd2ZXJpZmllZCcgOiAnbm90IHZlcmlmaWVkJ30uIFxuICAgICAgICAgIHshaXNWZXJpZmllZCAmJiAnIFBsZWFzZSBjb250YWN0IHRoZSBhZG1pbmlzdHJhdG9yIGZvciB2ZXJpZmljYXRpb24uJ31cbiAgICAgICAgPC9UZXh0PlxuICAgICAgKX1cbiAgICA8L1ZTdGFjaz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gQWRtaW5JbnRlcmZhY2UoKSB7XG4gIGNvbnN0IFtpbnN0aXR1dGlvbkFkZHJlc3MsIHNldEluc3RpdHV0aW9uQWRkcmVzc10gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuXG4gIGNvbnN0IGhhbmRsZVZlcmlmeUluc3RpdHV0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5zdGl0dXRpb25BZGRyZXNzKSB7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1BsZWFzZSBlbnRlciBhbiBpbnN0aXR1dGlvbiBhZGRyZXNzJyxcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgYXdhaXQgdmVyaWZ5SW5zdGl0dXRpb24oaW5zdGl0dXRpb25BZGRyZXNzKTtcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6ICdTdWNjZXNzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdJbnN0aXR1dGlvbiB2ZXJpZmllZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIHNldEluc3RpdHV0aW9uQWRkcmVzcygnJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBpbnN0aXR1dGlvbjonLCBlcnJvcik7XG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ZhaWxlZCB0byB2ZXJpZnkgaW5zdGl0dXRpb24nLFxuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxWU3RhY2sgc3BhY2luZz17NH0gYWxpZ249XCJzdHJldGNoXCI+XG4gICAgICA8SGVhZGluZyBzaXplPVwibWRcIj5BZG1pbiBQYW5lbDwvSGVhZGluZz5cbiAgICAgIDxGb3JtQ29udHJvbD5cbiAgICAgICAgPEZvcm1MYWJlbD5JbnN0aXR1dGlvbiBBZGRyZXNzPC9Gb3JtTGFiZWw+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHZhbHVlPXtpbnN0aXR1dGlvbkFkZHJlc3N9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnN0aXR1dGlvbkFkZHJlc3MoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgaW5zdGl0dXRpb24gYWRkcmVzcyB0byB2ZXJpZnlcIlxuICAgICAgICAvPlxuICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgY29sb3JTY2hlbWU9XCJncmVlblwiXG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZVZlcmlmeUluc3RpdHV0aW9ufVxuICAgICAgICBpc0xvYWRpbmc9e2xvYWRpbmd9XG4gICAgICA+XG4gICAgICAgIFZlcmlmeSBJbnN0aXR1dGlvblxuICAgICAgPC9CdXR0b24+XG4gICAgPC9WU3RhY2s+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFthY2NvdW50LCBzZXRBY2NvdW50XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbc2VsZWN0ZWRSb2xlLCBzZXRTZWxlY3RlZFJvbGVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY3VycmVudFJvbGUsIHNldEN1cnJlbnRSb2xlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcmVkaXJlY3RpbmcsIHNldFJlZGlyZWN0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrQ29ubmVjdGlvbigpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgY2hlY2tDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IGF3YWl0IGdldEZpcnN0QWNjb3VudCh3aW5kb3cuZXRoZXJldW0sICdldGhfYWNjb3VudHMnKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkQWNjb3VudCkge1xuICAgICAgICAgIHNldEFjY291bnQoc2VsZWN0ZWRBY2NvdW50KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBpZiBhZG1pbiBmaXJzdFxuICAgICAgICAgIGNvbnN0IGlzQWRtaW5SZXN1bHQgPSBhd2FpdCBpc093bmVyKHNlbGVjdGVkQWNjb3VudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0lzIGFkbWluIGNoZWNrIHJlc3VsdDonLCBpc0FkbWluUmVzdWx0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaXNBZG1pblJlc3VsdCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NldHRpbmcgYWRtaW4gcm9sZScpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFJvbGUoJ2FkbWluJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIG5vdCBhZG1pbiwgY2hlY2sgcmVndWxhciByb2xlXG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGF3YWl0IGdldFVzZXJSb2xlKHNlbGVjdGVkQWNjb3VudCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgcm9sZTonLCByb2xlKTtcbiAgICAgICAgICBzZXRDdXJyZW50Um9sZShyb2xlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcign2YrYsdis2Ykg2KrYq9io2YrYqiBNZXRhTWFzayAtIFBsZWFzZSBpbnN0YWxsIE1ldGFNYXNrJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNlbGVjdGVkQWNjb3VudCA9IGF3YWl0IGdldEZpcnN0QWNjb3VudCh3aW5kb3cuZXRoZXJldW0sICdldGhfcmVxdWVzdEFjY291bnRzJyk7XG4gICAgICBpZiAoIXNlbGVjdGVkQWNjb3VudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9mE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2K3Ys9in2KggLSBObyBhY2NvdW50IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIHNldEFjY291bnQoc2VsZWN0ZWRBY2NvdW50KTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pbiBmaXJzdFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaXNBZG1pblVzZXIgPSBhd2FpdCBpc093bmVyKHNlbGVjdGVkQWNjb3VudCk7XG4gICAgICAgIGlmIChpc0FkbWluVXNlcikge1xuICAgICAgICAgIHNldEN1cnJlbnRSb2xlKCdhZG1pbicpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdBZG1pbiBhY2NvdW50IGRldGVjdGVkJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgY2hlY2tpbmcgYWRtaW4gc3RhdHVzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgbm90IGFkbWluLCBjaGVjayByZWd1bGFyIHJvbGVcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJvbGUgPSBhd2FpdCBnZXRVc2VyUm9sZShzZWxlY3RlZEFjY291bnQpO1xuICAgICAgICBzZXRDdXJyZW50Um9sZShyb2xlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgdXNlciByb2xlOicsIHJvbGUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgbm90IHJlZ2lzdGVyZWQgeWV0Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZzonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlTG9naW4gPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBjb25uZWN0IHlvdXIgd2FsbGV0IGZpcnN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcignJyk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW4gZmlyc3RcbiAgICAgIGNvbnN0IGlzQWRtaW5Vc2VyID0gYXdhaXQgaXNPd25lcihhY2NvdW50KTtcbiAgICAgIGlmIChpc0FkbWluVXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnQWRtaW4gYWNjb3VudCBkZXRlY3RlZCwgcmVkaXJlY3RpbmcgdG8gYWRtaW4gZGFzaGJvYXJkJyk7XG4gICAgICAgIHNldEN1cnJlbnRSb2xlKCdhZG1pbicpO1xuICAgICAgICBzZXRSZWRpcmVjdGluZyh0cnVlKTtcbiAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQvYWRtaW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBub3QgYWRtaW4sIGNoZWNrIHVzZXIgcm9sZVxuICAgICAgY29uc3Qgcm9sZVZhbHVlID0gYXdhaXQgZ2V0VXNlclJvbGUoYWNjb3VudCk7XG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCB1c2VyIHJvbGUgdmFsdWU6Jywgcm9sZVZhbHVlKTtcblxuICAgICAgLy8gTWFwIG51bWVyaWMgcm9sZSB0byBzdHJpbmdcbiAgICAgIGNvbnN0IHJvbGVNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICcwJzogJ25vbmUnLFxuICAgICAgICAnMSc6ICdzdHVkZW50JyxcbiAgICAgICAgJzInOiAnaW5zdGl0dXRpb24nLFxuICAgICAgICAnMyc6ICdlbXBsb3llcicsXG4gICAgICAgICc0JzogJ2FkbWluJ1xuICAgICAgfTtcblxuICAgICAgY29uc3Qgcm9sZSA9IHJvbGVNYXBbcm9sZVZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZSgnbicsICcnKV0gfHwgJ25vbmUnO1xuICAgICAgY29uc29sZS5sb2coJ01hcHBlZCByb2xlOicsIHJvbGUpO1xuXG4gICAgICBpZiAocm9sZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBhY2NvdW50IGlzIG5vdCByZWdpc3RlcmVkLiBQbGVhc2UgcmVnaXN0ZXIgZmlyc3QuJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBjdXJyZW50IHJvbGVcbiAgICAgIHNldEN1cnJlbnRSb2xlKHJvbGUpO1xuXG4gICAgICAvLyBSZWRpcmVjdCBiYXNlZCBvbiByb2xlXG4gICAgICBjb25zdCByZWRpcmVjdE1hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgICAgJ3N0dWRlbnQnOiAnL2Rhc2hib2FyZC9zdHVkZW50JyxcbiAgICAgICAgJ2luc3RpdHV0aW9uJzogJy9kYXNoYm9hcmQvaW5zdGl0dXRpb24nLFxuICAgICAgICAnZW1wbG95ZXInOiAnL2Rhc2hib2FyZC9lbXBsb3llcicsXG4gICAgICAgICdhZG1pbic6ICcvZGFzaGJvYXJkL2FkbWluJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVkaXJlY3RQYXRoID0gcmVkaXJlY3RNYXBbcm9sZV07XG4gICAgICBpZiAocmVkaXJlY3RQYXRoKSB7XG4gICAgICAgIHNldFJlZGlyZWN0aW5nKHRydWUpO1xuICAgICAgICByb3V0ZXIucHVzaChyZWRpcmVjdFBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJvbGUgb3Igcm9sZSBub3QgZm91bmQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIGluOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ9iu2LfYoyAtIEVycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZHVyYXRpb246IDMwMDAsXG4gICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICB9KTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN3aXRjaFdhbGxldCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3JlcXVlc3RQZXJtaXNzaW9ucycsXG4gICAgICAgICAgcGFyYW1zOiBbeyBldGhfYWNjb3VudHM6IHt9IH1dXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBZnRlciBzd2l0Y2hpbmcsIGNoZWNrIGNvbm5lY3Rpb24gYWdhaW5cbiAgICAgICAgYXdhaXQgY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN3aXRjaGluZyB3YWxsZXQ6JywgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVnaXN0ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFJvbGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHNlbGVjdCBhIHJvbGUnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKCcnKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhZG1pbiBmaXJzdFxuICAgICAgY29uc3QgaXNBZG1pblVzZXIgPSBhd2FpdCBpc093bmVyKGFjY291bnQhKTtcbiAgICAgIGlmIChpc0FkbWluVXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZygnQWRtaW4gYWNjb3VudCBkZXRlY3RlZCwgcmVkaXJlY3RpbmcgdG8gYWRtaW4gZGFzaGJvYXJkJyk7XG4gICAgICAgIHNldEN1cnJlbnRSb2xlKCdhZG1pbicpO1xuICAgICAgICBzZXRSZWRpcmVjdGluZyh0cnVlKTtcbiAgICAgICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQvYWRtaW4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBub3QgYWRtaW4sIHByb2NlZWQgd2l0aCByZWd1bGFyIHJlZ2lzdHJhdGlvblxuICAgICAgYXdhaXQgcmVnaXN0ZXJVc2VyKHNlbGVjdGVkUm9sZSk7XG4gICAgICBzZXRDdXJyZW50Um9sZShzZWxlY3RlZFJvbGUpO1xuICAgICAgXG4gICAgICAvLyBBZnRlciBzdWNjZXNzZnVsIHJlZ2lzdHJhdGlvbiwgcmVkaXJlY3QgYmFzZWQgb24gcm9sZVxuICAgICAgY29uc3QgcmVkaXJlY3RNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gICAgICAgICdzdHVkZW50JzogJy9kYXNoYm9hcmQvc3R1ZGVudCcsXG4gICAgICAgICdpbnN0aXR1dGlvbic6ICcvZGFzaGJvYXJkL2luc3RpdHV0aW9uJyxcbiAgICAgICAgJ2VtcGxveWVyJzogJy9kYXNoYm9hcmQvZW1wbG95ZXInXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZWRpcmVjdFBhdGggPSByZWRpcmVjdE1hcFtzZWxlY3RlZFJvbGVdO1xuICAgICAgaWYgKHJlZGlyZWN0UGF0aCkge1xuICAgICAgICBzZXRSZWRpcmVjdGluZyh0cnVlKTtcbiAgICAgICAgcm91dGVyLnB1c2gocmVkaXJlY3RQYXRoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWdpc3RlcmluZzonLCBlcnJvcik7XG4gICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lciBtYXhXPVwiY29udGFpbmVyLnNtXCIgcHk9ezh9PlxuICAgICAgPFZTdGFjayBzcGFjaW5nPXs2fSBhbGlnbj1cInN0cmV0Y2hcIj5cbiAgICAgICAgPEJveCB0ZXh0QWxpZ249XCJjZW50ZXJcIj5cbiAgICAgICAgICA8SGVhZGluZyBtYj17Mn0+2YbYuNin2YUg2KfZhNi02YfYp9iv2KfYqiDYp9mE2YTYp9mF2LHZg9iy2Yo8L0hlYWRpbmc+XG4gICAgICAgICAgPEhlYWRpbmcgc2l6ZT1cIm1kXCIgbWI9ezR9PkRlY2VudHJhbGl6ZWQgQ2VydGlmaWNhdGUgU3lzdGVtPC9IZWFkaW5nPlxuICAgICAgICA8L0JveD5cblxuICAgICAgICA8Qm94PlxuICAgICAgICAgIDxUZXh0IG1iPXsyfT7Yp9mE2YXYrdmB2LjYqSDYp9mE2YXYqti12YTYqSAtIENvbm5lY3RlZCBBY2NvdW50OjwvVGV4dD5cbiAgICAgICAgICA8VGV4dCBmb250U2l6ZT1cInNtXCIgbWI9ezR9PnthY2NvdW50IHx8ICdOb3QgY29ubmVjdGVkJ308L1RleHQ+XG4gICAgICAgICAgXG4gICAgICAgICAgeyFhY2NvdW50ID8gKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBjb2xvclNjaGVtZT1cImJsdWVcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25uZWN0fVxuICAgICAgICAgICAgICBpc0xvYWRpbmc9e2xvYWRpbmd9XG4gICAgICAgICAgICAgIHdpZHRoPVwiZnVsbFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgINin2KrYtdin2YQg2KjYp9mE2YXYrdmB2LjYqSAtIENvbm5lY3QgV2FsbGV0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBjb2xvclNjaGVtZT1cIm9yYW5nZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVN3aXRjaFdhbGxldH1cbiAgICAgICAgICAgICAgd2lkdGg9XCJmdWxsXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg2KrYqNiv2YrZhCDYp9mE2YXYrdmB2LjYqSAtIFN3aXRjaCBXYWxsZXRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQm94PlxuXG4gICAgICAgIHthY2NvdW50ICYmIChcbiAgICAgICAgICA8VlN0YWNrIHNwYWNpbmc9ezR9PlxuICAgICAgICAgICAge2N1cnJlbnRSb2xlID8gKFxuICAgICAgICAgICAgICA8Qm94IGJnPVwieWVsbG93LjEwMFwiIHA9ezR9IGJvcmRlclJhZGl1cz1cIm1kXCI+XG4gICAgICAgICAgICAgICAgPFRleHQ+XG4gICAgICAgICAgICAgICAgICDYo9mG2Kog2YXYs9is2YQg2K3Yp9mE2YrYp9mLINmD2YAgLSBZb3UgYXJlIGN1cnJlbnRseSByZWdpc3RlcmVkIGFzOiB7Y3VycmVudFJvbGV9XG4gICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgIDxWU3RhY2sgc3BhY2luZz17NH0gd2lkdGg9XCJmdWxsXCIgbXQ9ezR9PlxuICAgICAgICAgICAgICAgICAge2FjY291bnQudG9Mb3dlckNhc2UoKSA9PT0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQURNSU5fQUREUkVTUz8udG9Mb3dlckNhc2UoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBjb2xvclNjaGVtZT1cInB1cnBsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0QWRtaW5Sb2xlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWRtaW4gcm9sZSBzZXQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Nsb3NhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIGFkbWluIHJvbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZXQgYWRtaW4gcm9sZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCJmdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgINiq2LnZitmK2YYg2K/ZiNixINin2YTZhdiz2KTZiNmEIC0gU2V0IEFkbWluIFJvbGVcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjb2xvclNjaGVtZT1cImdyZWVuXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9naW59XG4gICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZz17bG9hZGluZyB8fCByZWRpcmVjdGluZ31cbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCJmdWxsXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg2K/YrtmI2YQg2YTZhNit2LPYp9ioIC0gTG9naW5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAge2N1cnJlbnRSb2xlICE9PSAnYWRtaW4nICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yU2NoZW1lPVwiYmx1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFJvbGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFJvbGUoJycpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCJmdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgINiq2LPYrNmK2YQg2K3Ys9in2Kgg2KzYr9mK2K8gLSBSZWdpc3RlciBOZXcgQWNjb3VudFxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9WU3RhY2s+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8Qm94IGJnPVwiYmx1ZS4xMDBcIiBwPXs0fSBib3JkZXJSYWRpdXM9XCJtZFwiPlxuICAgICAgICAgICAgICAgICAgPFRleHQgbWI9ezR9PlxuICAgICAgICAgICAgICAgICAgICDZh9iw2Kcg2KfZhNit2LPYp9ioINi62YrYsSDZhdiz2KzZhC4g2YrYsdis2Ykg2KfZhNiq2LPYrNmK2YQg2KPZiNmE2KfZiy5cbiAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgIFRoaXMgYWNjb3VudCBpcyBub3QgcmVnaXN0ZXJlZC4gUGxlYXNlIHJlZ2lzdGVyIGZpcnN0LlxuICAgICAgICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItin2K7YqtixINiv2YjYsdmDIC0gU2VsZWN0IHlvdXIgcm9sZVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZFJvbGV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRSb2xlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgbWI9ezR9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzdHVkZW50XCI+2LfYp9mE2KggLSBTdHVkZW50PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJpbnN0aXR1dGlvblwiPtmF2KTYs9iz2Kkg2KrYudmE2YrZhdmK2KkgLSBJbnN0aXR1dGlvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZW1wbG95ZXJcIj7YrNmH2Kkg2KrZiNi42YrZgSAtIEVtcGxveWVyPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgY29sb3JTY2hlbWU9XCJncmVlblwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZ2lzdGVyfVxuICAgICAgICAgICAgICAgICAgICBpc0xvYWRpbmc9e2xvYWRpbmcgfHwgcmVkaXJlY3Rpbmd9XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiZnVsbFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgINiq2LPYrNmK2YQgLSBSZWdpc3RlclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1ZTdGFjaz5cbiAgICAgICAgKX1cblxuICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgIDxCb3ggYmc9XCJyZWQuMTAwXCIgcD17NH0gYm9yZGVyUmFkaXVzPVwibWRcIj5cbiAgICAgICAgICAgIDxUZXh0IGNvbG9yPVwicmVkLjUwMFwiPtiu2LfYoyAtIEVycm9yOiB7ZXJyb3J9PC9UZXh0PlxuICAgICAgICAgIDwvQm94PlxuICAgICAgICApfVxuICAgICAgPC9WU3RhY2s+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkJveCIsIkNvbnRhaW5lciIsIkhlYWRpbmciLCJUZXh0IiwiQnV0dG9uIiwiVlN0YWNrIiwiSFN0YWNrIiwidXNlVG9hc3QiLCJTZWxlY3QiLCJJbnB1dCIsIkZvcm1Db250cm9sIiwiRm9ybUxhYmVsIiwiTW9kYWwiLCJNb2RhbE92ZXJsYXkiLCJNb2RhbENvbnRlbnQiLCJNb2RhbEhlYWRlciIsIk1vZGFsQm9keSIsIk1vZGFsQ2xvc2VCdXR0b24iLCJ1c2VEaXNjbG9zdXJlIiwicmVnaXN0ZXJVc2VyIiwiZ2V0VXNlclJvbGUiLCJpc3N1ZUNlcnRpZmljYXRlIiwiZ2V0Q2VydGlmaWNhdGVzIiwidmVyaWZ5Q2VydGlmaWNhdGUiLCJpc1ZlcmlmaWVkVXNlciIsImlzT3duZXIiLCJ2ZXJpZnlJbnN0aXR1dGlvbiIsInNldEFkbWluUm9sZSIsInVwbG9hZFRvSVBGUyIsImdldEZyb21JUEZTIiwidXNlUm91dGVyIiwiZ2V0Rmlyc3RBY2NvdW50IiwiV2FsbGV0Q29ubmVjdGlvbiIsImFjY291bnQiLCJzZXRBY2NvdW50IiwidXNlclJvbGUiLCJzZXRVc2VyUm9sZSIsInRvYXN0Iiwicm91dGVyIiwiY29ubmVjdFdhbGxldCIsIndpbmRvdyIsImV0aGVyZXVtIiwic2VsZWN0ZWRBY2NvdW50IiwiRXJyb3IiLCJyb2xlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsImR1cmF0aW9uIiwiaXNDbG9zYWJsZSIsImRpc2Nvbm5lY3RXYWxsZXQiLCJsb2NhbFN0b3JhZ2UiLCJjbGVhciIsInNlc3Npb25TdG9yYWdlIiwic2V0VGltZW91dCIsInB1c2giLCJ0aGVuIiwibG9jYXRpb24iLCJyZWxvYWQiLCJnYXAiLCJjb2xvclNjaGVtZSIsIm9uQ2xpY2siLCJSZWdpc3RlckZvcm0iLCJzZXRSb2xlIiwiaGFuZGxlUmVnaXN0ZXIiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwidGFyZ2V0Iiwib3B0aW9uIiwiSXNzdWVDZXJ0aWZpY2F0ZU1vZGFsIiwiaXNPcGVuIiwib25PcGVuIiwib25DbG9zZSIsInN0dWRlbnRBZGRyZXNzIiwic2V0U3R1ZGVudEFkZHJlc3MiLCJjZXJ0aWZpY2F0ZURhdGEiLCJzZXRDZXJ0aWZpY2F0ZURhdGEiLCJpc1ZlcmlmaWVkIiwic2V0SXNWZXJpZmllZCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiY2hlY2tWZXJpZmljYXRpb25TdGF0dXMiLCJ2ZXJpZmllZCIsImhhbmRsZUlzc3VlQ2VydGlmaWNhdGUiLCJpcGZzSGFzaCIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJwYiIsInNwYWNpbmciLCJjb2xvciIsImlzTG9hZGluZyIsImlzRGlzYWJsZWQiLCJWaWV3Q2VydGlmaWNhdGVzTW9kYWwiLCJjZXJ0aWZpY2F0ZXMiLCJzZXRDZXJ0aWZpY2F0ZXMiLCJzZXRFcnJvciIsImxvYWRDZXJ0aWZpY2F0ZXMiLCJjZXJ0cyIsImxlbmd0aCIsImZvcm1hdHRlZENlcnRzIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNlcnQiLCJpcGZzRGF0YSIsImlzc3VlZEF0IiwicGFyc2VJbnQiLCJ0b0xvY2FsZVN0cmluZyIsIm1lc3NhZ2UiLCJzaXplIiwiYWxpZ24iLCJpbmRleCIsInAiLCJib3JkZXIiLCJib3JkZXJDb2xvciIsImJvcmRlclJhZGl1cyIsInNoYWRvdyIsInN0cm9uZyIsImlzc3VlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJtdCIsIm9wZW4iLCJWZXJpZnlDZXJ0aWZpY2F0ZU1vZGFsIiwiY2VydGlmaWNhdGVJZCIsInNldENlcnRpZmljYXRlSWQiLCJ2ZXJpZmljYXRpb25SZXN1bHQiLCJzZXRWZXJpZmljYXRpb25SZXN1bHQiLCJoYW5kbGVWZXJpZnkiLCJpc1ZhbGlkIiwiZm9udFdlaWdodCIsIlZlcmlmaWNhdGlvblN0YXR1cyIsIkFkbWluSW50ZXJmYWNlIiwiaW5zdGl0dXRpb25BZGRyZXNzIiwic2V0SW5zdGl0dXRpb25BZGRyZXNzIiwiaGFuZGxlVmVyaWZ5SW5zdGl0dXRpb24iLCJIb21lIiwic2VsZWN0ZWRSb2xlIiwic2V0U2VsZWN0ZWRSb2xlIiwiY3VycmVudFJvbGUiLCJzZXRDdXJyZW50Um9sZSIsInJlZGlyZWN0aW5nIiwic2V0UmVkaXJlY3RpbmciLCJjaGVja0Nvbm5lY3Rpb24iLCJpc0FkbWluUmVzdWx0IiwiaGFuZGxlQ29ubmVjdCIsImlzQWRtaW5Vc2VyIiwiaGFuZGxlTG9naW4iLCJyb2xlVmFsdWUiLCJyb2xlTWFwIiwidG9TdHJpbmciLCJyZXBsYWNlIiwicmVkaXJlY3RNYXAiLCJyZWRpcmVjdFBhdGgiLCJoYW5kbGVTd2l0Y2hXYWxsZXQiLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwiZXRoX2FjY291bnRzIiwibWF4VyIsInB5IiwidGV4dEFsaWduIiwibWIiLCJmb250U2l6ZSIsIndpZHRoIiwiYmciLCJ0b0xvd2VyQ2FzZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BRE1JTl9BRERSRVNTIiwiYnIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "./styles/theme.ts":
/*!*************************!*\
  !*** ./styles/theme.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/react */ \"@chakra-ui/react\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__]);\n_chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst theme = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__.extendTheme)({\n    config: {\n        initialColorMode: \"light\",\n        useSystemColorMode: false\n    },\n    styles: {\n        global: {\n            body: {\n                bg: \"white\",\n                color: \"gray.800\"\n            }\n        }\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (theme);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdHlsZXMvdGhlbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFFOUMsTUFBTUMsUUFBUUQsNkRBQVdBLENBQUM7SUFDeEJFLFFBQVE7UUFDTkMsa0JBQWtCO1FBQ2xCQyxvQkFBb0I7SUFDdEI7SUFDQUMsUUFBUTtRQUNOQyxRQUFRO1lBQ05DLE1BQU07Z0JBQ0pDLElBQUk7Z0JBQ0pDLE9BQU87WUFDVDtRQUNGO0lBQ0Y7QUFDRjtBQUVBLGlFQUFlUixLQUFLQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uLWRhcHAtZnJvbnRlbmQvLi9zdHlsZXMvdGhlbWUudHM/Njk2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleHRlbmRUaGVtZSB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnXG5cbmNvbnN0IHRoZW1lID0gZXh0ZW5kVGhlbWUoe1xuICBjb25maWc6IHtcbiAgICBpbml0aWFsQ29sb3JNb2RlOiAnbGlnaHQnLFxuICAgIHVzZVN5c3RlbUNvbG9yTW9kZTogZmFsc2UsXG4gIH0sXG4gIHN0eWxlczoge1xuICAgIGdsb2JhbDoge1xuICAgICAgYm9keToge1xuICAgICAgICBiZzogJ3doaXRlJyxcbiAgICAgICAgY29sb3I6ICdncmF5LjgwMCcsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG59KVxuXG5leHBvcnQgZGVmYXVsdCB0aGVtZSAiXSwibmFtZXMiOlsiZXh0ZW5kVGhlbWUiLCJ0aGVtZSIsImNvbmZpZyIsImluaXRpYWxDb2xvck1vZGUiLCJ1c2VTeXN0ZW1Db2xvck1vZGUiLCJzdHlsZXMiLCJnbG9iYWwiLCJib2R5IiwiYmciLCJjb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./styles/theme.ts\n");

/***/ }),

/***/ "./utils/config.ts":
/*!*************************!*\
  !*** ./utils/config.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONFIG: () => (/* binding */ CONFIG),\n/* harmony export */   getConfig: () => (/* binding */ getConfig),\n/* harmony export */   validateConfig: () => (/* binding */ validateConfig)\n/* harmony export */ });\n// تكوين ثابت للنظام\nconst CONFIG = {\n    ADMIN_ADDRESS: \"0x9ea548f834173666c36E1E37C4f2B4995b732871\",\n    NETWORK_URL: \"http://127.0.0.1:7545\",\n    CHAIN_ID: \"1337\",\n    IDENTITY_CONTRACT_ADDRESS: \"0xF6745b48d96f6Fff65C2B4e1C85e14D54B29114E\",\n    CERTIFICATES_CONTRACT_ADDRESS: \"0x2fe853BB23318d07e302b8950787eB978E5d9232\",\n    EXAMINATIONS_CONTRACT_ADDRESS: \"0xECb46564793b702F9f55E9e505B2FEbE2A05E3ae\",\n    SECURITY_UTILS_CONTRACT_ADDRESS: \"0x142Dd32e4F3e0E2e3EEB559C85A8f665a517Bb12\",\n    EXAM_MANAGEMENT_CONTRACT_ADDRESS: \"0x80a4459DAD82f7BfcB07eB14afc3C8E5cf4d034F\"\n};\n// وظيفة للحصول على قيمة التكوين\nconst getConfig = (key)=>{\n    // محاولة الحصول على القيمة من متغيرات البيئة أولاً\n    const envValue = process.env[`NEXT_PUBLIC_${key}`] || process.env[key];\n    // إذا لم يتم العثور على القيمة في متغيرات البيئة، استخدم القيمة الثابتة\n    return envValue || CONFIG[key];\n};\n// وظيفة للتحقق من صحة التكوين\nconst validateConfig = ()=>{\n    const missingKeys = [];\n    Object.keys(CONFIG).forEach((key)=>{\n        const value = getConfig(key);\n        if (!value) {\n            missingKeys.push(key);\n        }\n    });\n    if (missingKeys.length > 0) {\n        throw new Error(`Missing configuration values for: ${missingKeys.join(\", \")}`);\n    }\n    return true;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsb0JBQW9CO0FBQ2IsTUFBTUEsU0FBUztJQUNwQkMsZUFBZTtJQUNmQyxhQUFhO0lBQ2JDLFVBQVU7SUFDVkMsMkJBQTJCO0lBQzNCQywrQkFBK0I7SUFDL0JDLCtCQUErQjtJQUMvQkMsaUNBQWlDO0lBQ2pDQyxrQ0FBa0M7QUFDcEMsRUFBRTtBQUVGLGdDQUFnQztBQUN6QixNQUFNQyxZQUFZLENBQUNDO0lBQ3hCLG1EQUFtRDtJQUNuRCxNQUFNQyxXQUFXQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUVILElBQUksQ0FBQyxDQUFDLElBQUlFLFFBQVFDLEdBQUcsQ0FBQ0gsSUFBSTtJQUV0RSx3RUFBd0U7SUFDeEUsT0FBT0MsWUFBWVgsTUFBTSxDQUFDVSxJQUFJO0FBQ2hDLEVBQUU7QUFFRiw4QkFBOEI7QUFDdkIsTUFBTUksaUJBQWlCO0lBQzVCLE1BQU1DLGNBQXdCLEVBQUU7SUFFaENDLE9BQU9DLElBQUksQ0FBQ2pCLFFBQVFrQixPQUFPLENBQUMsQ0FBQ1I7UUFDM0IsTUFBTVMsUUFBUVYsVUFBVUM7UUFDeEIsSUFBSSxDQUFDUyxPQUFPO1lBQ1ZKLFlBQVlLLElBQUksQ0FBQ1Y7UUFDbkI7SUFDRjtJQUVBLElBQUlLLFlBQVlNLE1BQU0sR0FBRyxHQUFHO1FBQzFCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLGtDQUFrQyxFQUFFUCxZQUFZUSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQy9FO0lBRUEsT0FBTztBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8uL3V0aWxzL2NvbmZpZy50cz8wYjFjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vINiq2YPZiNmK2YYg2KvYp9io2Kog2YTZhNmG2LjYp9mFXG5leHBvcnQgY29uc3QgQ09ORklHID0ge1xuICBBRE1JTl9BRERSRVNTOiAnMHg5ZWE1NDhmODM0MTczNjY2YzM2RTFFMzdDNGYyQjQ5OTViNzMyODcxJyxcbiAgTkVUV09SS19VUkw6ICdodHRwOi8vMTI3LjAuMC4xOjc1NDUnLFxuICBDSEFJTl9JRDogJzEzMzcnLFxuICBJREVOVElUWV9DT05UUkFDVF9BRERSRVNTOiAnMHhGNjc0NWI0OGQ5NmY2RmZmNjVDMkI0ZTFDODVlMTRENTRCMjkxMTRFJyxcbiAgQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1M6ICcweDJmZTg1M0JCMjMzMThkMDdlMzAyYjg5NTA3ODdlQjk3OEU1ZDkyMzInLFxuICBFWEFNSU5BVElPTlNfQ09OVFJBQ1RfQUREUkVTUzogJzB4RUNiNDY1NjQ3OTNiNzAyRjlmNTVFOWU1MDVCMkZFYkUyQTA1RTNhZScsXG4gIFNFQ1VSSVRZX1VUSUxTX0NPTlRSQUNUX0FERFJFU1M6ICcweDE0MkRkMzJlNEYzZTBFMmUzRUVCNTU5Qzg1QThmNjY1YTUxN0JiMTInLFxuICBFWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUzogJzB4ODBhNDQ1OURBRDgyZjdCZmNCMDdlQjE0YWZjM0M4RTVjZjRkMDM0Ridcbn07XG5cbi8vINmI2LjZitmB2Kkg2YTZhNit2LXZiNmEINi52YTZiSDZgtmK2YXYqSDYp9mE2KrZg9mI2YrZhlxuZXhwb3J0IGNvbnN0IGdldENvbmZpZyA9IChrZXk6IGtleW9mIHR5cGVvZiBDT05GSUcpOiBzdHJpbmcgPT4ge1xuICAvLyDZhdit2KfZiNmE2Kkg2KfZhNit2LXZiNmEINi52YTZiSDYp9mE2YLZitmF2Kkg2YXZhiDZhdiq2LrZitix2KfYqiDYp9mE2KjZitim2Kkg2KPZiNmE2KfZi1xuICBjb25zdCBlbnZWYWx1ZSA9IHByb2Nlc3MuZW52W2BORVhUX1BVQkxJQ18ke2tleX1gXSB8fCBwcm9jZXNzLmVudltrZXldO1xuICBcbiAgLy8g2KXYsNinINmE2YUg2YrYqtmFINin2YTYudir2YjYsSDYudmE2Ykg2KfZhNmC2YrZhdipINmB2Yog2YXYqti62YrYsdin2Kog2KfZhNio2YrYptip2Iwg2KfYs9iq2K7Yr9mFINin2YTZgtmK2YXYqSDYp9mE2KvYp9io2KrYqVxuICByZXR1cm4gZW52VmFsdWUgfHwgQ09ORklHW2tleV07XG59O1xuXG4vLyDZiNi42YrZgdipINmE2YTYqtit2YLZgiDZhdmGINi12K3YqSDYp9mE2KrZg9mI2YrZhlxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQ29uZmlnID0gKCkgPT4ge1xuICBjb25zdCBtaXNzaW5nS2V5czogc3RyaW5nW10gPSBbXTtcbiAgXG4gIE9iamVjdC5rZXlzKENPTkZJRykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRDb25maWcoa2V5IGFzIGtleW9mIHR5cGVvZiBDT05GSUcpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIG1pc3NpbmdLZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChtaXNzaW5nS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGNvbmZpZ3VyYXRpb24gdmFsdWVzIGZvcjogJHttaXNzaW5nS2V5cy5qb2luKCcsICcpfWApO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59OyAiXSwibmFtZXMiOlsiQ09ORklHIiwiQURNSU5fQUREUkVTUyIsIk5FVFdPUktfVVJMIiwiQ0hBSU5fSUQiLCJJREVOVElUWV9DT05UUkFDVF9BRERSRVNTIiwiQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MiLCJFWEFNSU5BVElPTlNfQ09OVFJBQ1RfQUREUkVTUyIsIlNFQ1VSSVRZX1VUSUxTX0NPTlRSQUNUX0FERFJFU1MiLCJFWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUyIsImdldENvbmZpZyIsImtleSIsImVudlZhbHVlIiwicHJvY2VzcyIsImVudiIsInZhbGlkYXRlQ29uZmlnIiwibWlzc2luZ0tleXMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInZhbHVlIiwicHVzaCIsImxlbmd0aCIsIkVycm9yIiwiam9pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/config.ts\n");

/***/ }),

/***/ "./utils/contracts.ts":
/*!****************************!*\
  !*** ./utils/contracts.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createExam: () => (/* binding */ createExam),\n/* harmony export */   enrollStudent: () => (/* binding */ enrollStudent),\n/* harmony export */   getCertificates: () => (/* binding */ getCertificates),\n/* harmony export */   getContract: () => (/* binding */ getContract),\n/* harmony export */   getContracts: () => (/* binding */ getContracts),\n/* harmony export */   getExam: () => (/* binding */ getExam),\n/* harmony export */   getExamResult: () => (/* binding */ getExamResult),\n/* harmony export */   getInstitutionExams: () => (/* binding */ getInstitutionExams),\n/* harmony export */   getOwnerAddress: () => (/* binding */ getOwnerAddress),\n/* harmony export */   getStudentExams: () => (/* binding */ getStudentExams),\n/* harmony export */   getUserRole: () => (/* binding */ getUserRole),\n/* harmony export */   isOwner: () => (/* binding */ isOwner),\n/* harmony export */   isVerifiedUser: () => (/* binding */ isVerifiedUser),\n/* harmony export */   issueCertificate: () => (/* binding */ issueCertificate),\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   setAdminRole: () => (/* binding */ setAdminRole),\n/* harmony export */   submitExamResult: () => (/* binding */ submitExamResult),\n/* harmony export */   updateExamStatus: () => (/* binding */ updateExamStatus),\n/* harmony export */   validateEnv: () => (/* binding */ validateEnv),\n/* harmony export */   verifyCertificate: () => (/* binding */ verifyCertificate),\n/* harmony export */   verifyInstitution: () => (/* binding */ verifyInstitution),\n/* harmony export */   verifyUser: () => (/* binding */ verifyUser)\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var _constants_abis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/abis */ \"./constants/abis.ts\");\n/* harmony import */ var _ethersConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ethersConfig */ \"./utils/ethersConfig.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config */ \"./utils/config.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([ethers__WEBPACK_IMPORTED_MODULE_0__, _ethersConfig__WEBPACK_IMPORTED_MODULE_2__]);\n([ethers__WEBPACK_IMPORTED_MODULE_0__, _ethersConfig__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Contract ABIs\nconst IdentityABI = [\n    \"function registerUser(uint8 _role, string memory _ipfsHash) external\",\n    \"function verifyUser(address _userAddress) external\",\n    \"function getUserRole(address _userAddress) external view returns (uint8)\",\n    \"function isVerifiedUser(address _userAddress) external view returns (bool)\",\n    \"function updateUserIPFS(string memory _newIpfsHash) external\",\n    \"function owner() external view returns (address)\",\n    \"function isAdmin(address _address) external view returns (bool)\",\n    \"function addAdmin(address _newAdmin) external\",\n    \"function removeAdmin(address _admin) external\"\n];\nconst CertificatesABI = [\n    \"function issueCertificate(address _studentAddress, string memory _ipfsHash) external returns (bytes32)\",\n    \"function getStudentCertificates(address _student) external view returns (bytes32[])\",\n    \"function verifyCertificate(bytes32 _certificateId) external view returns (address student, address institution, string ipfsHash, uint256 issuedAt, bool isValid)\"\n];\n// Contract addresses from config\nconst IDENTITY_CONTRACT_ADDRESS = (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"IDENTITY_CONTRACT_ADDRESS\");\nconst CERTIFICATES_CONTRACT_ADDRESS = (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"CERTIFICATES_CONTRACT_ADDRESS\");\nconst ADMIN_ADDRESS = (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"ADMIN_ADDRESS\");\nconst EXAM_MANAGEMENT_ADDRESS = (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"EXAM_MANAGEMENT_CONTRACT_ADDRESS\");\n// Validate environment variables\nconst validateEnv = ()=>{\n    try {\n        // التحقق من صحة التكوين\n        (0,_config__WEBPACK_IMPORTED_MODULE_3__.validateConfig)();\n        // التحقق من صحة العناوين\n        if (!(0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(IDENTITY_CONTRACT_ADDRESS)) {\n            throw new Error(`Invalid Identity contract address: ${IDENTITY_CONTRACT_ADDRESS}`);\n        }\n        if (!(0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(CERTIFICATES_CONTRACT_ADDRESS)) {\n            throw new Error(`Invalid Certificates contract address: ${CERTIFICATES_CONTRACT_ADDRESS}`);\n        }\n        if (!(0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(ADMIN_ADDRESS)) {\n            throw new Error(`Invalid Admin address: ${ADMIN_ADDRESS}`);\n        }\n        if (!(0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(EXAM_MANAGEMENT_ADDRESS)) {\n            throw new Error(`Invalid Exam Management contract address: ${EXAM_MANAGEMENT_ADDRESS}`);\n        }\n        console.log(\"Configuration validated successfully:\", {\n            IDENTITY_CONTRACT_ADDRESS,\n            CERTIFICATES_CONTRACT_ADDRESS,\n            ADMIN_ADDRESS,\n            EXAM_MANAGEMENT_ADDRESS,\n            CHAIN_ID: (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"CHAIN_ID\"),\n            NETWORK_URL: (0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)(\"NETWORK_URL\")\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Configuration validation failed:\", error);\n        throw error;\n    }\n};\n// Debug environment variables\nconsole.log(\"Environment variables check:\", {\n    IDENTITY_CONTRACT_ADDRESS,\n    CERTIFICATES_CONTRACT_ADDRESS,\n    ADMIN_ADDRESS,\n    EXAM_MANAGEMENT_ADDRESS,\n    CHAIN_ID: _ethersConfig__WEBPACK_IMPORTED_MODULE_2__.EXPECTED_NETWORK.chainId,\n    NETWORK_URL: _ethersConfig__WEBPACK_IMPORTED_MODULE_2__.EXPECTED_NETWORK.rpcUrl\n});\n// Role mapping with proper types\nconst USER_ROLES = {\n    NONE: 0,\n    STUDENT: 1,\n    INSTITUTION: 2,\n    EMPLOYER: 3,\n    ADMIN: 4\n};\nconst roleMap = {\n    [USER_ROLES.NONE]: \"none\",\n    [USER_ROLES.STUDENT]: \"student\",\n    [USER_ROLES.INSTITUTION]: \"institution\",\n    [USER_ROLES.EMPLOYER]: \"employer\",\n    [USER_ROLES.ADMIN]: \"admin\"\n};\nconst getContracts = async ()=>{\n    try {\n        console.log(\"Contract Addresses:\", {\n            Identity: IDENTITY_CONTRACT_ADDRESS,\n            Certificates: CERTIFICATES_CONTRACT_ADDRESS,\n            Admin: ADMIN_ADDRESS\n        });\n        const provider = await (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.getProvider)();\n        await (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.validateNetwork)(provider);\n        console.log(\"Network validation passed\");\n        const signer = await (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.getSigner)();\n        const userAddress = await signer.getAddress();\n        console.log(\"Connected with address:\", userAddress);\n        const userBalance = await provider.getBalance(userAddress);\n        console.log(\"User balance:\", (0,ethers__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(userBalance, \"ether\"), \"ETH\");\n        const identityContract = new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(IDENTITY_CONTRACT_ADDRESS, IdentityABI, signer);\n        console.log(\"Verifying contract exists at address:\", IDENTITY_CONTRACT_ADDRESS);\n        const code = await provider.getCode(IDENTITY_CONTRACT_ADDRESS);\n        console.log(\"Contract code length:\", code.length);\n        console.log(\"Contract exists:\", code !== \"0x\");\n        if (code === \"0x\") {\n            throw new Error(`Identity contract not found at address: ${IDENTITY_CONTRACT_ADDRESS}`);\n        }\n        const certificatesContract = new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(CERTIFICATES_CONTRACT_ADDRESS, CertificatesABI, signer);\n        const examManagementContract = new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(EXAM_MANAGEMENT_ADDRESS, _constants_abis__WEBPACK_IMPORTED_MODULE_1__.EXAM_MANAGEMENT_ABI, signer);\n        return {\n            identityContract,\n            certificatesContract,\n            examManagementContract,\n            provider,\n            signer\n        };\n    } catch (error) {\n        console.error(\"Error initializing contracts:\", error);\n        console.error(\"Error details:\", {\n            message: error.message,\n            code: error.code,\n            reason: error.reason\n        });\n        throw new Error(`Failed to initialize contracts: ${error.message}`);\n    }\n};\nconst registerUser = async (role)=>{\n    if (!role) {\n        throw new Error(\"Role is required\");\n    }\n    try {\n        const { identityContract, signer } = await getContracts();\n        // Get network details and user address\n        const userAddress = await signer.getAddress();\n        console.log(\"Registering address:\", userAddress);\n        console.log(\"With role:\", role);\n        // Special handling for admin address\n        if (ADMIN_ADDRESS && userAddress.toLowerCase() === ADMIN_ADDRESS.toLowerCase()) {\n            console.log(\"This is the admin address, setting admin role...\");\n            return await setAdminRole();\n        }\n        // Convert role string to enum value\n        const roleMap = {\n            \"student\": USER_ROLES.STUDENT,\n            \"institution\": USER_ROLES.INSTITUTION,\n            \"employer\": USER_ROLES.EMPLOYER,\n            \"admin\": USER_ROLES.ADMIN\n        };\n        const roleValue = roleMap[role.toLowerCase()];\n        if (roleValue === undefined) {\n            throw new Error(`Invalid role: ${role}. Must be one of: student, institution, employer, admin`);\n        }\n        console.log(\"Role value from mapping:\", roleValue);\n        // Check if user is already registered\n        try {\n            console.log(\"Checking if user already exists...\");\n            const existingRole = await identityContract.getUserRole(userAddress);\n            console.log(\"Existing role:\", existingRole);\n            if (existingRole > 0) {\n                console.log(\"User already registered with role:\", existingRole);\n                // If user exists but needs verification\n                const isVerified = await identityContract.isVerified(userAddress);\n                if (!isVerified) {\n                    console.log(\"User exists but not verified, attempting verification...\");\n                    const verifyTx = await identityContract.verifyUser(userAddress);\n                    await verifyTx.wait();\n                    console.log(\"User verified successfully\");\n                }\n                return {\n                    status: \"existing\",\n                    role: existingRole\n                };\n            }\n        } catch (error) {\n            if (!error.message.includes(\"User does not exist\")) {\n                throw error;\n            }\n            console.log(\"User does not exist, proceeding with registration\");\n        }\n        // Register user\n        console.log(\"Registering new user with role:\", roleValue);\n        const tx = await identityContract.registerUser(roleValue, \"\");\n        console.log(\"Registration transaction sent:\", tx.hash);\n        const receipt = await tx.wait();\n        console.log(\"Registration successful:\", receipt.hash);\n        // Verify the user automatically\n        try {\n            console.log(\"Attempting automatic verification...\");\n            const verifyTx = await identityContract.verifyUser(userAddress);\n            await verifyTx.wait();\n            console.log(\"User verified successfully\");\n        } catch (verifyError) {\n            console.warn(\"Automatic verification failed:\", verifyError);\n        // Continue even if verification fails\n        }\n        // If registering as admin, set admin role\n        if (role.toLowerCase() === \"admin\") {\n            console.log(\"Setting admin privileges...\");\n            await setAdminRole();\n        }\n        return {\n            status: \"success\",\n            role: roleValue,\n            transaction: tx\n        };\n    } catch (error) {\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst verifyUser = async (address)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address); // Using getAddress instead of isAddress\n    } catch (error) {\n        throw new Error(\"Invalid address\");\n    }\n    try {\n        console.log(\"Verifying user:\", address);\n        const { identityContract } = await getContracts();\n        const isVerified = await identityContract.isVerified(address);\n        console.log(\"User verification status:\", isVerified);\n        return isVerified;\n    } catch (error) {\n        console.error(\"Error in verifyUser:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getUserRole = async (address)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid address\");\n    }\n    try {\n        console.log(\"Getting user role for:\", address);\n        const { identityContract } = await getContracts();\n        const role = await identityContract.getUserRole(address);\n        console.log(\"User role:\", role);\n        return role;\n    } catch (error) {\n        console.error(\"Error in getUserRole:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst issueCertificate = async (studentAddress, ipfsHash)=>{\n    if (!studentAddress || !ipfsHash) {\n        throw new Error(\"Student address and IPFS hash are required\");\n    }\n    try {\n        const { certificatesContract } = await getContracts();\n        const tx = await certificatesContract.issueCertificate(studentAddress, ipfsHash);\n        await tx.wait();\n        return tx;\n    } catch (error) {\n        console.error(\"Error issuing certificate:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst verifyCertificate = async (certificateId)=>{\n    if (!certificateId) {\n        throw new Error(\"Certificate ID is required\");\n    }\n    try {\n        const { certificatesContract } = await getContracts();\n        const isValid = await certificatesContract.verifyCertificate(certificateId);\n        return isValid;\n    } catch (error) {\n        console.error(\"Error verifying certificate:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getCertificates = async (address)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid address\");\n    }\n    try {\n        console.log(\"Getting certificates for:\", address);\n        const { certificatesContract } = await getContracts();\n        const certificates = await certificatesContract.getCertificates(address);\n        console.log(\"Certificates:\", certificates);\n        return certificates;\n    } catch (error) {\n        console.error(\"Error in getCertificates:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst isVerifiedUser = async (address)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid address\");\n    }\n    try {\n        console.log(\"Checking if user is verified:\", address);\n        const { identityContract } = await getContracts();\n        const isVerified = await identityContract.isVerified(address);\n        console.log(\"User verification status:\", isVerified);\n        return isVerified;\n    } catch (error) {\n        console.error(\"Error in isVerifiedUser:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst isOwner = async (address)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid address\");\n    }\n    try {\n        console.log(\"Checking if user is owner:\", address);\n        const { identityContract } = await getContracts();\n        const ownerAddress = await identityContract.owner();\n        const isOwnerRole = address.toLowerCase() === ownerAddress.toLowerCase();\n        console.log(\"User owner status:\", isOwnerRole);\n        return isOwnerRole;\n    } catch (error) {\n        console.error(\"Error in isOwner:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst verifyInstitution = async (institutionAddress)=>{\n    try {\n        (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(institutionAddress);\n    } catch (error) {\n        throw new Error(\"Invalid institution address\");\n    }\n    try {\n        console.log(\"Verifying institution:\", institutionAddress);\n        const { identityContract } = await getContracts();\n        const tx = await identityContract.verifyUser(institutionAddress);\n        await tx.wait();\n        console.log(\"Institution verified successfully\");\n        return true;\n    } catch (error) {\n        console.error(\"Error in verifyInstitution:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getOwnerAddress = async ()=>{\n    try {\n        const { identityContract } = await getContracts();\n        const owner = await identityContract.owner();\n        return owner;\n    } catch (error) {\n        console.error(\"Error getting owner address:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\n// Add exam management functions\nconst createExam = async (id, title, description, date, duration, ipfsHash)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const tx = await examManagementContract.createExam(id, title, description, date, duration, ipfsHash);\n        await tx.wait();\n        return true;\n    } catch (error) {\n        console.error(\"Error creating exam:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst submitExamResult = async (examId, student, score, grade, ipfsHash)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const tx = await examManagementContract.submitExamResult(examId, student, score, grade, ipfsHash);\n        await tx.wait();\n        return true;\n    } catch (error) {\n        console.error(\"Error submitting exam result:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst updateExamStatus = async (examId, status)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const tx = await examManagementContract.updateExamStatus(examId, status);\n        await tx.wait();\n        return true;\n    } catch (error) {\n        console.error(\"Error updating exam status:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getExam = async (examId)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const exam = await examManagementContract.getExam(examId);\n        return exam;\n    } catch (error) {\n        console.error(\"Error getting exam:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getExamResult = async (examId, student)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const result = await examManagementContract.getExamResult(examId, student);\n        return result;\n    } catch (error) {\n        console.error(\"Error getting exam result:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getInstitutionExams = async (institution)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const exams = await examManagementContract.getInstitutionExams(institution);\n        return exams;\n    } catch (error) {\n        console.error(\"Error getting institution exams:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getStudentExams = async (student)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const exams = await examManagementContract.getStudentExams(student);\n        return exams;\n    } catch (error) {\n        console.error(\"Error getting student exams:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst enrollStudent = async (examId, studentAddress)=>{\n    try {\n        const { examManagementContract } = await getContracts();\n        const tx = await examManagementContract.enrollStudent(examId, studentAddress);\n        await tx.wait();\n        return true;\n    } catch (error) {\n        console.error(\"Error enrolling student:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\nconst getContract = async ()=>{\n    const { examManagementContract } = await getContracts();\n    return examManagementContract;\n};\nconst setAdminRole = async ()=>{\n    try {\n        const { identityContract, signer } = await getContracts();\n        const userAddress = await signer.getAddress();\n        console.log(\"Setting admin role for address:\", userAddress);\n        console.log(\"Expected admin address:\", ADMIN_ADDRESS);\n        // First check if the address is already an admin\n        const isAdmin = await identityContract.isAdmin(userAddress);\n        console.log(\"Is already admin?\", isAdmin);\n        if (isAdmin) {\n            console.log(\"User is already an admin\");\n            return {\n                status: \"existing\",\n                isAdmin: true\n            };\n        }\n        // Check if this is the configured admin address\n        if (ADMIN_ADDRESS && userAddress.toLowerCase() === ADMIN_ADDRESS.toLowerCase()) {\n            console.log(\"Address matches configured admin, adding as admin...\");\n            // First try to register as admin if not already registered\n            try {\n                const role = await identityContract.getUserRole(userAddress);\n                if (role === 0) {\n                    console.log(\"Registering admin user first...\");\n                    const regTx = await identityContract.registerUser(USER_ROLES.ADMIN, \"\");\n                    await regTx.wait();\n                }\n            } catch (error) {\n                if (!error.message.includes(\"User does not exist\")) {\n                    throw error;\n                }\n                // If user doesn't exist, register them as admin\n                console.log(\"Registering new admin user...\");\n                const regTx = await identityContract.registerUser(USER_ROLES.ADMIN, \"\");\n                await regTx.wait();\n            }\n            // Verify the user\n            console.log(\"Verifying admin user...\");\n            const verifyTx = await identityContract.verifyUser(userAddress);\n            await verifyTx.wait();\n            // Add admin role\n            console.log(\"Adding admin role...\");\n            const tx = await identityContract.addAdmin(userAddress);\n            await tx.wait();\n            console.log(\"Successfully added as admin\");\n            return {\n                status: \"success\",\n                isAdmin: true\n            };\n        }\n        throw new Error(\"Only configured admin addresses can be set as admin\");\n    } catch (error) {\n        console.error(\"Error setting admin role:\", error);\n        return (0,_ethersConfig__WEBPACK_IMPORTED_MODULE_2__.handleContractError)(error);\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQzVDO1FBRUEsTUFBTSxJQUFJM0YsTUFBTTtJQUNsQixFQUFFLE9BQU9LLE9BQVk7UUFDbkJKLFFBQVFJLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU9mLGtFQUFtQkEsQ0FBQ2U7SUFDN0I7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWR1Y2F0aW9uLWRhcHAtZnJvbnRlbmQvLi91dGlscy9jb250cmFjdHMudHM/OTg1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBcbiAgQ29udHJhY3QsXG4gIGZvcm1hdFVuaXRzLFxuICBnZXRBZGRyZXNzXG59IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBFWEFNX01BTkFHRU1FTlRfQUJJIH0gZnJvbSAnLi4vY29uc3RhbnRzL2FiaXMnO1xuaW1wb3J0IHsgXG4gIGdldFByb3ZpZGVyLCBcbiAgZ2V0U2lnbmVyLCBcbiAgRVhQRUNURURfTkVUV09SSywgXG4gIHZhbGlkYXRlTmV0d29yayxcbiAgZm9ybWF0RXRoZXIsXG4gIGhhbmRsZUNvbnRyYWN0RXJyb3Jcbn0gZnJvbSAnLi9ldGhlcnNDb25maWcnO1xuaW1wb3J0IHR5cGUgeyBFdGhlcmV1bVByb3ZpZGVyIH0gZnJvbSAnLi9ldGhlcnNDb25maWcnO1xuaW1wb3J0IHsgZ2V0Q29uZmlnLCB2YWxpZGF0ZUNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcblxuLy8gQ29udHJhY3QgQUJJc1xuY29uc3QgSWRlbnRpdHlBQkkgPSBbXG4gIFwiZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKHVpbnQ4IF9yb2xlLCBzdHJpbmcgbWVtb3J5IF9pcGZzSGFzaCkgZXh0ZXJuYWxcIixcbiAgXCJmdW5jdGlvbiB2ZXJpZnlVc2VyKGFkZHJlc3MgX3VzZXJBZGRyZXNzKSBleHRlcm5hbFwiLFxuICBcImZ1bmN0aW9uIGdldFVzZXJSb2xlKGFkZHJlc3MgX3VzZXJBZGRyZXNzKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKHVpbnQ4KVwiLFxuICBcImZ1bmN0aW9uIGlzVmVyaWZpZWRVc2VyKGFkZHJlc3MgX3VzZXJBZGRyZXNzKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpXCIsXG4gIFwiZnVuY3Rpb24gdXBkYXRlVXNlcklQRlMoc3RyaW5nIG1lbW9yeSBfbmV3SXBmc0hhc2gpIGV4dGVybmFsXCIsXG4gIFwiZnVuY3Rpb24gb3duZXIoKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKGFkZHJlc3MpXCIsXG4gIFwiZnVuY3Rpb24gaXNBZG1pbihhZGRyZXNzIF9hZGRyZXNzKSBleHRlcm5hbCB2aWV3IHJldHVybnMgKGJvb2wpXCIsXG4gIFwiZnVuY3Rpb24gYWRkQWRtaW4oYWRkcmVzcyBfbmV3QWRtaW4pIGV4dGVybmFsXCIsXG4gIFwiZnVuY3Rpb24gcmVtb3ZlQWRtaW4oYWRkcmVzcyBfYWRtaW4pIGV4dGVybmFsXCJcbl07XG5cbmNvbnN0IENlcnRpZmljYXRlc0FCSSA9IFtcbiAgXCJmdW5jdGlvbiBpc3N1ZUNlcnRpZmljYXRlKGFkZHJlc3MgX3N0dWRlbnRBZGRyZXNzLCBzdHJpbmcgbWVtb3J5IF9pcGZzSGFzaCkgZXh0ZXJuYWwgcmV0dXJucyAoYnl0ZXMzMilcIixcbiAgXCJmdW5jdGlvbiBnZXRTdHVkZW50Q2VydGlmaWNhdGVzKGFkZHJlc3MgX3N0dWRlbnQpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAoYnl0ZXMzMltdKVwiLFxuICBcImZ1bmN0aW9uIHZlcmlmeUNlcnRpZmljYXRlKGJ5dGVzMzIgX2NlcnRpZmljYXRlSWQpIGV4dGVybmFsIHZpZXcgcmV0dXJucyAoYWRkcmVzcyBzdHVkZW50LCBhZGRyZXNzIGluc3RpdHV0aW9uLCBzdHJpbmcgaXBmc0hhc2gsIHVpbnQyNTYgaXNzdWVkQXQsIGJvb2wgaXNWYWxpZClcIlxuXTtcblxuLy8gQ29udHJhY3QgYWRkcmVzc2VzIGZyb20gY29uZmlnXG5jb25zdCBJREVOVElUWV9DT05UUkFDVF9BRERSRVNTID0gZ2V0Q29uZmlnKCdJREVOVElUWV9DT05UUkFDVF9BRERSRVNTJyk7XG5jb25zdCBDRVJUSUZJQ0FURVNfQ09OVFJBQ1RfQUREUkVTUyA9IGdldENvbmZpZygnQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MnKTtcbmNvbnN0IEFETUlOX0FERFJFU1MgPSBnZXRDb25maWcoJ0FETUlOX0FERFJFU1MnKTtcbmNvbnN0IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTID0gZ2V0Q29uZmlnKCdFWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUycpO1xuXG4vLyBWYWxpZGF0ZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUVudiA9ICgpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyDYp9mE2KrYrdmC2YIg2YXZhiDYtdit2Kkg2KfZhNiq2YPZiNmK2YZcbiAgICB2YWxpZGF0ZUNvbmZpZygpO1xuXG4gICAgLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LXYrdipINin2YTYudmG2KfZiNmK2YZcbiAgICBpZiAoIWdldEFkZHJlc3MoSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBJZGVudGl0eSBjb250cmFjdCBhZGRyZXNzOiAke0lERU5USVRZX0NPTlRSQUNUX0FERFJFU1N9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFnZXRBZGRyZXNzKENFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIENlcnRpZmljYXRlcyBjb250cmFjdCBhZGRyZXNzOiAke0NFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTfWApO1xuICAgIH1cblxuICAgIGlmICghZ2V0QWRkcmVzcyhBRE1JTl9BRERSRVNTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEFkbWluIGFkZHJlc3M6ICR7QURNSU5fQUREUkVTU31gKTtcbiAgICB9XG5cbiAgICBpZiAoIWdldEFkZHJlc3MoRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgRXhhbSBNYW5hZ2VtZW50IGNvbnRyYWN0IGFkZHJlc3M6ICR7RVhBTV9NQU5BR0VNRU5UX0FERFJFU1N9YCk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0NvbmZpZ3VyYXRpb24gdmFsaWRhdGVkIHN1Y2Nlc3NmdWxseTonLCB7XG4gICAgICBJREVOVElUWV9DT05UUkFDVF9BRERSRVNTLFxuICAgICAgQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgICBBRE1JTl9BRERSRVNTLFxuICAgICAgRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MsXG4gICAgICBDSEFJTl9JRDogZ2V0Q29uZmlnKCdDSEFJTl9JRCcpLFxuICAgICAgTkVUV09SS19VUkw6IGdldENvbmZpZygnTkVUV09SS19VUkwnKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQ29uZmlndXJhdGlvbiB2YWxpZGF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIERlYnVnIGVudmlyb25tZW50IHZhcmlhYmxlc1xuY29uc29sZS5sb2coJ0Vudmlyb25tZW50IHZhcmlhYmxlcyBjaGVjazonLCB7XG4gIElERU5USVRZX0NPTlRSQUNUX0FERFJFU1MsXG4gIENFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTLFxuICBBRE1JTl9BRERSRVNTLFxuICBFWEFNX01BTkFHRU1FTlRfQUREUkVTUyxcbiAgQ0hBSU5fSUQ6IEVYUEVDVEVEX05FVFdPUksuY2hhaW5JZCxcbiAgTkVUV09SS19VUkw6IEVYUEVDVEVEX05FVFdPUksucnBjVXJsXG59KTtcblxuLy8gUm9sZSBtYXBwaW5nIHdpdGggcHJvcGVyIHR5cGVzXG5jb25zdCBVU0VSX1JPTEVTID0ge1xuICBOT05FOiAwLFxuICBTVFVERU5UOiAxLFxuICBJTlNUSVRVVElPTjogMixcbiAgRU1QTE9ZRVI6IDMsXG4gIEFETUlOOiA0XG59IGFzIGNvbnN0O1xuXG50eXBlIFJvbGVWYWx1ZSA9IHR5cGVvZiBVU0VSX1JPTEVTW2tleW9mIHR5cGVvZiBVU0VSX1JPTEVTXTtcbnR5cGUgUm9sZVN0cmluZyA9ICdub25lJyB8ICdzdHVkZW50JyB8ICdpbnN0aXR1dGlvbicgfCAnZW1wbG95ZXInIHwgJ2FkbWluJztcblxuY29uc3Qgcm9sZU1hcDogUmVjb3JkPFJvbGVWYWx1ZSwgUm9sZVN0cmluZz4gPSB7XG4gIFtVU0VSX1JPTEVTLk5PTkVdOiAnbm9uZScsXG4gIFtVU0VSX1JPTEVTLlNUVURFTlRdOiAnc3R1ZGVudCcsXG4gIFtVU0VSX1JPTEVTLklOU1RJVFVUSU9OXTogJ2luc3RpdHV0aW9uJyxcbiAgW1VTRVJfUk9MRVMuRU1QTE9ZRVJdOiAnZW1wbG95ZXInLFxuICBbVVNFUl9ST0xFUy5BRE1JTl06ICdhZG1pbidcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250cmFjdHMgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0NvbnRyYWN0IEFkZHJlc3NlczonLCB7XG4gICAgICBJZGVudGl0eTogSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUyxcbiAgICAgIENlcnRpZmljYXRlczogQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgICBBZG1pbjogQURNSU5fQUREUkVTU1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCBnZXRQcm92aWRlcigpO1xuICAgIGF3YWl0IHZhbGlkYXRlTmV0d29yayhwcm92aWRlcik7XG4gICAgY29uc29sZS5sb2coJ05ldHdvcmsgdmFsaWRhdGlvbiBwYXNzZWQnKTtcbiAgICBcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBnZXRTaWduZXIoKTtcbiAgICBjb25zdCB1c2VyQWRkcmVzcyA9IGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB3aXRoIGFkZHJlc3M6JywgdXNlckFkZHJlc3MpO1xuICAgIFxuICAgIGNvbnN0IHVzZXJCYWxhbmNlID0gYXdhaXQgcHJvdmlkZXIuZ2V0QmFsYW5jZSh1c2VyQWRkcmVzcyk7XG4gICAgY29uc29sZS5sb2coJ1VzZXIgYmFsYW5jZTonLCBmb3JtYXRVbml0cyh1c2VyQmFsYW5jZSwgJ2V0aGVyJyksICdFVEgnKTtcbiAgICBcbiAgICBjb25zdCBpZGVudGl0eUNvbnRyYWN0ID0gbmV3IENvbnRyYWN0KFxuICAgICAgSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUyEsXG4gICAgICBJZGVudGl0eUFCSSxcbiAgICAgIHNpZ25lclxuICAgICk7XG5cbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIGNvbnRyYWN0IGV4aXN0cyBhdCBhZGRyZXNzOicsIElERU5USVRZX0NPTlRSQUNUX0FERFJFU1MpO1xuICAgIGNvbnN0IGNvZGUgPSBhd2FpdCBwcm92aWRlci5nZXRDb2RlKElERU5USVRZX0NPTlRSQUNUX0FERFJFU1MhKTtcbiAgICBjb25zb2xlLmxvZygnQ29udHJhY3QgY29kZSBsZW5ndGg6JywgY29kZS5sZW5ndGgpO1xuICAgIGNvbnNvbGUubG9nKCdDb250cmFjdCBleGlzdHM6JywgY29kZSAhPT0gJzB4Jyk7XG4gICAgXG4gICAgaWYgKGNvZGUgPT09ICcweCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSWRlbnRpdHkgY29udHJhY3Qgbm90IGZvdW5kIGF0IGFkZHJlc3M6ICR7SURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTU31gKTtcbiAgICB9XG5cbiAgICBjb25zdCBjZXJ0aWZpY2F0ZXNDb250cmFjdCA9IG5ldyBDb250cmFjdChcbiAgICAgIENFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTISxcbiAgICAgIENlcnRpZmljYXRlc0FCSSxcbiAgICAgIHNpZ25lclxuICAgICk7XG5cbiAgICBjb25zdCBleGFtTWFuYWdlbWVudENvbnRyYWN0ID0gbmV3IENvbnRyYWN0KFxuICAgICAgRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MhLFxuICAgICAgRVhBTV9NQU5BR0VNRU5UX0FCSSxcbiAgICAgIHNpZ25lclxuICAgICk7XG5cbiAgICByZXR1cm4geyBpZGVudGl0eUNvbnRyYWN0LCBjZXJ0aWZpY2F0ZXNDb250cmFjdCwgZXhhbU1hbmFnZW1lbnRDb250cmFjdCwgcHJvdmlkZXIsIHNpZ25lciB9O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNvbnRyYWN0czonLCBlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgIHJlYXNvbjogZXJyb3IucmVhc29uXG4gICAgfSk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBjb250cmFjdHM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyVXNlciA9IGFzeW5jIChyb2xlOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFyb2xlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSb2xlIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgaWRlbnRpdHlDb250cmFjdCwgc2lnbmVyIH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBcbiAgICAvLyBHZXQgbmV0d29yayBkZXRhaWxzIGFuZCB1c2VyIGFkZHJlc3NcbiAgICBjb25zdCB1c2VyQWRkcmVzcyA9IGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCk7XG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyaW5nIGFkZHJlc3M6JywgdXNlckFkZHJlc3MpO1xuICAgIGNvbnNvbGUubG9nKCdXaXRoIHJvbGU6Jywgcm9sZSk7XG4gICAgXG4gICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgYWRtaW4gYWRkcmVzc1xuICAgIGlmIChBRE1JTl9BRERSRVNTICYmIHVzZXJBZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IEFETUlOX0FERFJFU1MudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY29uc29sZS5sb2coJ1RoaXMgaXMgdGhlIGFkbWluIGFkZHJlc3MsIHNldHRpbmcgYWRtaW4gcm9sZS4uLicpO1xuICAgICAgcmV0dXJuIGF3YWl0IHNldEFkbWluUm9sZSgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDb252ZXJ0IHJvbGUgc3RyaW5nIHRvIGVudW0gdmFsdWVcbiAgICBjb25zdCByb2xlTWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICAgICAgJ3N0dWRlbnQnOiBVU0VSX1JPTEVTLlNUVURFTlQsXG4gICAgICAnaW5zdGl0dXRpb24nOiBVU0VSX1JPTEVTLklOU1RJVFVUSU9OLFxuICAgICAgJ2VtcGxveWVyJzogVVNFUl9ST0xFUy5FTVBMT1lFUixcbiAgICAgICdhZG1pbic6IFVTRVJfUk9MRVMuQURNSU5cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IHJvbGVWYWx1ZSA9IHJvbGVNYXBbcm9sZS50b0xvd2VyQ2FzZSgpXTtcbiAgICBpZiAocm9sZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByb2xlOiAke3JvbGV9LiBNdXN0IGJlIG9uZSBvZjogc3R1ZGVudCwgaW5zdGl0dXRpb24sIGVtcGxveWVyLCBhZG1pbmApO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdSb2xlIHZhbHVlIGZyb20gbWFwcGluZzonLCByb2xlVmFsdWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBpZiB1c2VyIGFscmVhZHkgZXhpc3RzLi4uJyk7XG4gICAgICBjb25zdCBleGlzdGluZ1JvbGUgPSBhd2FpdCBpZGVudGl0eUNvbnRyYWN0LmdldFVzZXJSb2xlKHVzZXJBZGRyZXNzKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFeGlzdGluZyByb2xlOicsIGV4aXN0aW5nUm9sZSk7XG4gICAgICBcbiAgICAgIGlmIChleGlzdGluZ1JvbGUgPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGFscmVhZHkgcmVnaXN0ZXJlZCB3aXRoIHJvbGU6JywgZXhpc3RpbmdSb2xlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIHVzZXIgZXhpc3RzIGJ1dCBuZWVkcyB2ZXJpZmljYXRpb25cbiAgICAgICAgY29uc3QgaXNWZXJpZmllZCA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3QuaXNWZXJpZmllZCh1c2VyQWRkcmVzcyk7XG4gICAgICAgIGlmICghaXNWZXJpZmllZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGV4aXN0cyBidXQgbm90IHZlcmlmaWVkLCBhdHRlbXB0aW5nIHZlcmlmaWNhdGlvbi4uLicpO1xuICAgICAgICAgIGNvbnN0IHZlcmlmeVR4ID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC52ZXJpZnlVc2VyKHVzZXJBZGRyZXNzKTtcbiAgICAgICAgICBhd2FpdCB2ZXJpZnlUeC53YWl0KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IHN0YXR1czogJ2V4aXN0aW5nJywgcm9sZTogZXhpc3RpbmdSb2xlIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKCFlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdVc2VyIGRvZXMgbm90IGV4aXN0JykpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnVXNlciBkb2VzIG5vdCBleGlzdCwgcHJvY2VlZGluZyB3aXRoIHJlZ2lzdHJhdGlvbicpO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZWdpc3RlciB1c2VyXG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyaW5nIG5ldyB1c2VyIHdpdGggcm9sZTonLCByb2xlVmFsdWUpO1xuICAgIGNvbnN0IHR4ID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC5yZWdpc3RlclVzZXIocm9sZVZhbHVlLCBcIlwiKTtcbiAgICBjb25zb2xlLmxvZygnUmVnaXN0cmF0aW9uIHRyYW5zYWN0aW9uIHNlbnQ6JywgdHguaGFzaCk7XG4gICAgXG4gICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcbiAgICBjb25zb2xlLmxvZygnUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWw6JywgcmVjZWlwdC5oYXNoKTtcbiAgICBcbiAgICAvLyBWZXJpZnkgdGhlIHVzZXIgYXV0b21hdGljYWxseVxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyBhdXRvbWF0aWMgdmVyaWZpY2F0aW9uLi4uJyk7XG4gICAgICBjb25zdCB2ZXJpZnlUeCA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3QudmVyaWZ5VXNlcih1c2VyQWRkcmVzcyk7XG4gICAgICBhd2FpdCB2ZXJpZnlUeC53YWl0KCk7XG4gICAgICBjb25zb2xlLmxvZygnVXNlciB2ZXJpZmllZCBzdWNjZXNzZnVsbHknKTtcbiAgICB9IGNhdGNoICh2ZXJpZnlFcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdBdXRvbWF0aWMgdmVyaWZpY2F0aW9uIGZhaWxlZDonLCB2ZXJpZnlFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSBldmVuIGlmIHZlcmlmaWNhdGlvbiBmYWlsc1xuICAgIH1cbiAgICBcbiAgICAvLyBJZiByZWdpc3RlcmluZyBhcyBhZG1pbiwgc2V0IGFkbWluIHJvbGVcbiAgICBpZiAocm9sZS50b0xvd2VyQ2FzZSgpID09PSAnYWRtaW4nKSB7XG4gICAgICBjb25zb2xlLmxvZygnU2V0dGluZyBhZG1pbiBwcml2aWxlZ2VzLi4uJyk7XG4gICAgICBhd2FpdCBzZXRBZG1pblJvbGUoKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3RhdHVzOiAnc3VjY2VzcycsIHJvbGU6IHJvbGVWYWx1ZSwgdHJhbnNhY3Rpb246IHR4IH07XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlVc2VyID0gYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGdldEFkZHJlc3MoYWRkcmVzcyk7IC8vIFVzaW5nIGdldEFkZHJlc3MgaW5zdGVhZCBvZiBpc0FkZHJlc3NcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWRkcmVzcycpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIHVzZXI6JywgYWRkcmVzcyk7XG4gICAgY29uc3QgeyBpZGVudGl0eUNvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCBpc1ZlcmlmaWVkID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC5pc1ZlcmlmaWVkKGFkZHJlc3MpO1xuICAgIGNvbnNvbGUubG9nKCdVc2VyIHZlcmlmaWNhdGlvbiBzdGF0dXM6JywgaXNWZXJpZmllZCk7XG4gICAgcmV0dXJuIGlzVmVyaWZpZWQ7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiB2ZXJpZnlVc2VyOicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyUm9sZSA9IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPFJvbGVTdHJpbmc+ID0+IHtcbiAgdHJ5IHtcbiAgICBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdHZXR0aW5nIHVzZXIgcm9sZSBmb3I6JywgYWRkcmVzcyk7XG4gICAgY29uc3QgeyBpZGVudGl0eUNvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCByb2xlID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC5nZXRVc2VyUm9sZShhZGRyZXNzKTtcbiAgICBjb25zb2xlLmxvZygnVXNlciByb2xlOicsIHJvbGUpO1xuICAgIHJldHVybiByb2xlO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZ2V0VXNlclJvbGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzc3VlQ2VydGlmaWNhdGUgPSBhc3luYyAoc3R1ZGVudEFkZHJlc3M6IHN0cmluZywgaXBmc0hhc2g6IHN0cmluZykgPT4ge1xuICBpZiAoIXN0dWRlbnRBZGRyZXNzIHx8ICFpcGZzSGFzaCkge1xuICAgIHRocm93IG5ldyBFcnJvcignU3R1ZGVudCBhZGRyZXNzIGFuZCBJUEZTIGhhc2ggYXJlIHJlcXVpcmVkJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgY2VydGlmaWNhdGVzQ29udHJhY3QgfSA9IGF3YWl0IGdldENvbnRyYWN0cygpO1xuICAgIGNvbnN0IHR4ID0gYXdhaXQgY2VydGlmaWNhdGVzQ29udHJhY3QuaXNzdWVDZXJ0aWZpY2F0ZShzdHVkZW50QWRkcmVzcywgaXBmc0hhc2gpO1xuICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICByZXR1cm4gdHg7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpc3N1aW5nIGNlcnRpZmljYXRlOicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlDZXJ0aWZpY2F0ZSA9IGFzeW5jIChjZXJ0aWZpY2F0ZUlkOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFjZXJ0aWZpY2F0ZUlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDZXJ0aWZpY2F0ZSBJRCBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNlcnRpZmljYXRlc0NvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgY2VydGlmaWNhdGVzQ29udHJhY3QudmVyaWZ5Q2VydGlmaWNhdGUoY2VydGlmaWNhdGVJZCk7XG4gICAgcmV0dXJuIGlzVmFsaWQ7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgY2VydGlmaWNhdGU6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldENlcnRpZmljYXRlcyA9IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdHZXR0aW5nIGNlcnRpZmljYXRlcyBmb3I6JywgYWRkcmVzcyk7XG4gICAgY29uc3QgeyBjZXJ0aWZpY2F0ZXNDb250cmFjdCB9ID0gYXdhaXQgZ2V0Q29udHJhY3RzKCk7XG4gICAgY29uc3QgY2VydGlmaWNhdGVzID0gYXdhaXQgY2VydGlmaWNhdGVzQ29udHJhY3QuZ2V0Q2VydGlmaWNhdGVzKGFkZHJlc3MpO1xuICAgIGNvbnNvbGUubG9nKCdDZXJ0aWZpY2F0ZXM6JywgY2VydGlmaWNhdGVzKTtcbiAgICByZXR1cm4gY2VydGlmaWNhdGVzO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZ2V0Q2VydGlmaWNhdGVzOicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc1ZlcmlmaWVkVXNlciA9IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBnZXRBZGRyZXNzKGFkZHJlc3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZGRyZXNzJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBpZiB1c2VyIGlzIHZlcmlmaWVkOicsIGFkZHJlc3MpO1xuICAgIGNvbnN0IHsgaWRlbnRpdHlDb250cmFjdCB9ID0gYXdhaXQgZ2V0Q29udHJhY3RzKCk7XG4gICAgY29uc3QgaXNWZXJpZmllZCA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3QuaXNWZXJpZmllZChhZGRyZXNzKTtcbiAgICBjb25zb2xlLmxvZygnVXNlciB2ZXJpZmljYXRpb24gc3RhdHVzOicsIGlzVmVyaWZpZWQpO1xuICAgIHJldHVybiBpc1ZlcmlmaWVkO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaXNWZXJpZmllZFVzZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzT3duZXIgPSBhc3luYyAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgZ2V0QWRkcmVzcyhhZGRyZXNzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWRkcmVzcycpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgaWYgdXNlciBpcyBvd25lcjonLCBhZGRyZXNzKTtcbiAgICBjb25zdCB7IGlkZW50aXR5Q29udHJhY3QgfSA9IGF3YWl0IGdldENvbnRyYWN0cygpO1xuICAgIGNvbnN0IG93bmVyQWRkcmVzcyA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3Qub3duZXIoKTtcbiAgICBjb25zdCBpc093bmVyUm9sZSA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gb3duZXJBZGRyZXNzLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc29sZS5sb2coJ1VzZXIgb3duZXIgc3RhdHVzOicsIGlzT3duZXJSb2xlKTtcbiAgICByZXR1cm4gaXNPd25lclJvbGU7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBpc093bmVyOicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlJbnN0aXR1dGlvbiA9IGFzeW5jIChpbnN0aXR1dGlvbkFkZHJlc3M6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGdldEFkZHJlc3MoaW5zdGl0dXRpb25BZGRyZXNzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5zdGl0dXRpb24gYWRkcmVzcycpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIGluc3RpdHV0aW9uOicsIGluc3RpdHV0aW9uQWRkcmVzcyk7XG4gICAgY29uc3QgeyBpZGVudGl0eUNvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCB0eCA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3QudmVyaWZ5VXNlcihpbnN0aXR1dGlvbkFkZHJlc3MpO1xuICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICBjb25zb2xlLmxvZygnSW5zdGl0dXRpb24gdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiB2ZXJpZnlJbnN0aXR1dGlvbjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T3duZXJBZGRyZXNzID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaWRlbnRpdHlDb250cmFjdCB9ID0gYXdhaXQgZ2V0Q29udHJhY3RzKCk7XG4gICAgY29uc3Qgb3duZXIgPSBhd2FpdCBpZGVudGl0eUNvbnRyYWN0Lm93bmVyKCk7XG4gICAgcmV0dXJuIG93bmVyO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBvd25lciBhZGRyZXNzOicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbi8vIEFkZCBleGFtIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgY3JlYXRlRXhhbSA9IGFzeW5jIChcbiAgaWQ6IHN0cmluZyxcbiAgdGl0bGU6IHN0cmluZyxcbiAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgZGF0ZTogbnVtYmVyLFxuICBkdXJhdGlvbjogbnVtYmVyLFxuICBpcGZzSGFzaDogc3RyaW5nXG4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfSA9IGF3YWl0IGdldENvbnRyYWN0cygpO1xuICAgIGNvbnN0IHR4ID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRDb250cmFjdC5jcmVhdGVFeGFtKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIGR1cmF0aW9uLCBpcGZzSGFzaCk7XG4gICAgYXdhaXQgdHgud2FpdCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgZXhhbTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc3VibWl0RXhhbVJlc3VsdCA9IGFzeW5jIChcbiAgZXhhbUlkOiBzdHJpbmcsXG4gIHN0dWRlbnQ6IHN0cmluZyxcbiAgc2NvcmU6IG51bWJlcixcbiAgZ3JhZGU6IHN0cmluZyxcbiAgaXBmc0hhc2g6IHN0cmluZ1xuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBleGFtTWFuYWdlbWVudENvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCB0eCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50Q29udHJhY3Quc3VibWl0RXhhbVJlc3VsdChleGFtSWQsIHN0dWRlbnQsIHNjb3JlLCBncmFkZSwgaXBmc0hhc2gpO1xuICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgZXhhbSByZXN1bHQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUV4YW1TdGF0dXMgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBleGFtTWFuYWdlbWVudENvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCB0eCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50Q29udHJhY3QudXBkYXRlRXhhbVN0YXR1cyhleGFtSWQsIHN0YXR1cyk7XG4gICAgYXdhaXQgdHgud2FpdCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZXhhbSBzdGF0dXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEV4YW0gPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfSA9IGF3YWl0IGdldENvbnRyYWN0cygpO1xuICAgIGNvbnN0IGV4YW0gPSBhd2FpdCBleGFtTWFuYWdlbWVudENvbnRyYWN0LmdldEV4YW0oZXhhbUlkKTtcbiAgICByZXR1cm4gZXhhbTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZXhhbTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RXhhbVJlc3VsdCA9IGFzeW5jIChleGFtSWQ6IHN0cmluZywgc3R1ZGVudDogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBleGFtTWFuYWdlbWVudENvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGFtTWFuYWdlbWVudENvbnRyYWN0LmdldEV4YW1SZXN1bHQoZXhhbUlkLCBzdHVkZW50KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBleGFtIHJlc3VsdDonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW5zdGl0dXRpb25FeGFtcyA9IGFzeW5jIChpbnN0aXR1dGlvbjogc3RyaW5nKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBleGFtTWFuYWdlbWVudENvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCBleGFtcyA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50Q29udHJhY3QuZ2V0SW5zdGl0dXRpb25FeGFtcyhpbnN0aXR1dGlvbik7XG4gICAgcmV0dXJuIGV4YW1zO1xuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbnN0aXR1dGlvbiBleGFtczonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3R1ZGVudEV4YW1zID0gYXN5bmMgKHN0dWRlbnQ6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZXhhbU1hbmFnZW1lbnRDb250cmFjdCB9ID0gYXdhaXQgZ2V0Q29udHJhY3RzKCk7XG4gICAgY29uc3QgZXhhbXMgPSBhd2FpdCBleGFtTWFuYWdlbWVudENvbnRyYWN0LmdldFN0dWRlbnRFeGFtcyhzdHVkZW50KTtcbiAgICByZXR1cm4gZXhhbXM7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHN0dWRlbnQgZXhhbXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBoYW5kbGVDb250cmFjdEVycm9yKGVycm9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVucm9sbFN0dWRlbnQgPSBhc3luYyAoZXhhbUlkOiBzdHJpbmcsIHN0dWRlbnRBZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfSA9IGF3YWl0IGdldENvbnRyYWN0cygpO1xuICAgIGNvbnN0IHR4ID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRDb250cmFjdC5lbnJvbGxTdHVkZW50KGV4YW1JZCwgc3R1ZGVudEFkZHJlc3MpO1xuICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVucm9sbGluZyBzdHVkZW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gaGFuZGxlQ29udHJhY3RFcnJvcihlcnJvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250cmFjdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgeyBleGFtTWFuYWdlbWVudENvbnRyYWN0IH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgcmV0dXJuIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0QWRtaW5Sb2xlID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgaWRlbnRpdHlDb250cmFjdCwgc2lnbmVyIH0gPSBhd2FpdCBnZXRDb250cmFjdHMoKTtcbiAgICBjb25zdCB1c2VyQWRkcmVzcyA9IGF3YWl0IHNpZ25lci5nZXRBZGRyZXNzKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ1NldHRpbmcgYWRtaW4gcm9sZSBmb3IgYWRkcmVzczonLCB1c2VyQWRkcmVzcyk7XG4gICAgY29uc29sZS5sb2coJ0V4cGVjdGVkIGFkbWluIGFkZHJlc3M6JywgQURNSU5fQUREUkVTUyk7XG4gICAgXG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlIGFkZHJlc3MgaXMgYWxyZWFkeSBhbiBhZG1pblxuICAgIGNvbnN0IGlzQWRtaW4gPSBhd2FpdCBpZGVudGl0eUNvbnRyYWN0LmlzQWRtaW4odXNlckFkZHJlc3MpO1xuICAgIGNvbnNvbGUubG9nKCdJcyBhbHJlYWR5IGFkbWluPycsIGlzQWRtaW4pO1xuICAgIFxuICAgIGlmIChpc0FkbWluKSB7XG4gICAgICBjb25zb2xlLmxvZygnVXNlciBpcyBhbHJlYWR5IGFuIGFkbWluJyk7XG4gICAgICByZXR1cm4geyBzdGF0dXM6ICdleGlzdGluZycsIGlzQWRtaW46IHRydWUgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyB0aGUgY29uZmlndXJlZCBhZG1pbiBhZGRyZXNzXG4gICAgaWYgKEFETUlOX0FERFJFU1MgJiYgdXNlckFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gQURNSU5fQUREUkVTUy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWRkcmVzcyBtYXRjaGVzIGNvbmZpZ3VyZWQgYWRtaW4sIGFkZGluZyBhcyBhZG1pbi4uLicpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCB0cnkgdG8gcmVnaXN0ZXIgYXMgYWRtaW4gaWYgbm90IGFscmVhZHkgcmVnaXN0ZXJlZFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgcm9sZSA9IGF3YWl0IGlkZW50aXR5Q29udHJhY3QuZ2V0VXNlclJvbGUodXNlckFkZHJlc3MpO1xuICAgICAgICBpZiAocm9sZSA9PT0gMCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWdpc3RlcmluZyBhZG1pbiB1c2VyIGZpcnN0Li4uJyk7XG4gICAgICAgICAgY29uc3QgcmVnVHggPSBhd2FpdCBpZGVudGl0eUNvbnRyYWN0LnJlZ2lzdGVyVXNlcihVU0VSX1JPTEVTLkFETUlOLCBcIlwiKTtcbiAgICAgICAgICBhd2FpdCByZWdUeC53YWl0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgaWYgKCFlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdVc2VyIGRvZXMgbm90IGV4aXN0JykpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB1c2VyIGRvZXNuJ3QgZXhpc3QsIHJlZ2lzdGVyIHRoZW0gYXMgYWRtaW5cbiAgICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyaW5nIG5ldyBhZG1pbiB1c2VyLi4uJyk7XG4gICAgICAgIGNvbnN0IHJlZ1R4ID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC5yZWdpc3RlclVzZXIoVVNFUl9ST0xFUy5BRE1JTiwgXCJcIik7XG4gICAgICAgIGF3YWl0IHJlZ1R4LndhaXQoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSB1c2VyXG4gICAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIGFkbWluIHVzZXIuLi4nKTtcbiAgICAgIGNvbnN0IHZlcmlmeVR4ID0gYXdhaXQgaWRlbnRpdHlDb250cmFjdC52ZXJpZnlVc2VyKHVzZXJBZGRyZXNzKTtcbiAgICAgIGF3YWl0IHZlcmlmeVR4LndhaXQoKTtcbiAgICAgIFxuICAgICAgLy8gQWRkIGFkbWluIHJvbGVcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRpbmcgYWRtaW4gcm9sZS4uLicpO1xuICAgICAgY29uc3QgdHggPSBhd2FpdCBpZGVudGl0eUNvbnRyYWN0LmFkZEFkbWluKHVzZXJBZGRyZXNzKTtcbiAgICAgIGF3YWl0IHR4LndhaXQoKTtcbiAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgYWRkZWQgYXMgYWRtaW4nKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnc3VjY2VzcycsIGlzQWRtaW46IHRydWUgfTtcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IGNvbmZpZ3VyZWQgYWRtaW4gYWRkcmVzc2VzIGNhbiBiZSBzZXQgYXMgYWRtaW4nKTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgYWRtaW4gcm9sZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGhhbmRsZUNvbnRyYWN0RXJyb3IoZXJyb3IpO1xuICB9XG59OyAiXSwibmFtZXMiOlsiQ29udHJhY3QiLCJmb3JtYXRVbml0cyIsImdldEFkZHJlc3MiLCJFWEFNX01BTkFHRU1FTlRfQUJJIiwiZ2V0UHJvdmlkZXIiLCJnZXRTaWduZXIiLCJFWFBFQ1RFRF9ORVRXT1JLIiwidmFsaWRhdGVOZXR3b3JrIiwiaGFuZGxlQ29udHJhY3RFcnJvciIsImdldENvbmZpZyIsInZhbGlkYXRlQ29uZmlnIiwiSWRlbnRpdHlBQkkiLCJDZXJ0aWZpY2F0ZXNBQkkiLCJJREVOVElUWV9DT05UUkFDVF9BRERSRVNTIiwiQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MiLCJBRE1JTl9BRERSRVNTIiwiRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MiLCJ2YWxpZGF0ZUVudiIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsIkNIQUlOX0lEIiwiTkVUV09SS19VUkwiLCJlcnJvciIsImNoYWluSWQiLCJycGNVcmwiLCJVU0VSX1JPTEVTIiwiTk9ORSIsIlNUVURFTlQiLCJJTlNUSVRVVElPTiIsIkVNUExPWUVSIiwiQURNSU4iLCJyb2xlTWFwIiwiZ2V0Q29udHJhY3RzIiwiSWRlbnRpdHkiLCJDZXJ0aWZpY2F0ZXMiLCJBZG1pbiIsInByb3ZpZGVyIiwic2lnbmVyIiwidXNlckFkZHJlc3MiLCJ1c2VyQmFsYW5jZSIsImdldEJhbGFuY2UiLCJpZGVudGl0eUNvbnRyYWN0IiwiY29kZSIsImdldENvZGUiLCJsZW5ndGgiLCJjZXJ0aWZpY2F0ZXNDb250cmFjdCIsImV4YW1NYW5hZ2VtZW50Q29udHJhY3QiLCJtZXNzYWdlIiwicmVhc29uIiwicmVnaXN0ZXJVc2VyIiwicm9sZSIsInRvTG93ZXJDYXNlIiwic2V0QWRtaW5Sb2xlIiwicm9sZVZhbHVlIiwidW5kZWZpbmVkIiwiZXhpc3RpbmdSb2xlIiwiZ2V0VXNlclJvbGUiLCJpc1ZlcmlmaWVkIiwidmVyaWZ5VHgiLCJ2ZXJpZnlVc2VyIiwid2FpdCIsInN0YXR1cyIsImluY2x1ZGVzIiwidHgiLCJoYXNoIiwicmVjZWlwdCIsInZlcmlmeUVycm9yIiwid2FybiIsInRyYW5zYWN0aW9uIiwiYWRkcmVzcyIsImlzc3VlQ2VydGlmaWNhdGUiLCJzdHVkZW50QWRkcmVzcyIsImlwZnNIYXNoIiwidmVyaWZ5Q2VydGlmaWNhdGUiLCJjZXJ0aWZpY2F0ZUlkIiwiaXNWYWxpZCIsImdldENlcnRpZmljYXRlcyIsImNlcnRpZmljYXRlcyIsImlzVmVyaWZpZWRVc2VyIiwiaXNPd25lciIsIm93bmVyQWRkcmVzcyIsIm93bmVyIiwiaXNPd25lclJvbGUiLCJ2ZXJpZnlJbnN0aXR1dGlvbiIsImluc3RpdHV0aW9uQWRkcmVzcyIsImdldE93bmVyQWRkcmVzcyIsImNyZWF0ZUV4YW0iLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwiZHVyYXRpb24iLCJzdWJtaXRFeGFtUmVzdWx0IiwiZXhhbUlkIiwic3R1ZGVudCIsInNjb3JlIiwiZ3JhZGUiLCJ1cGRhdGVFeGFtU3RhdHVzIiwiZ2V0RXhhbSIsImV4YW0iLCJnZXRFeGFtUmVzdWx0IiwicmVzdWx0IiwiZ2V0SW5zdGl0dXRpb25FeGFtcyIsImluc3RpdHV0aW9uIiwiZXhhbXMiLCJnZXRTdHVkZW50RXhhbXMiLCJlbnJvbGxTdHVkZW50IiwiZ2V0Q29udHJhY3QiLCJpc0FkbWluIiwicmVnVHgiLCJhZGRBZG1pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/contracts.ts\n");

/***/ }),

/***/ "./utils/ethereum.ts":
/*!***************************!*\
  !*** ./utils/ethereum.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEthereumAccounts: () => (/* binding */ getEthereumAccounts),\n/* harmony export */   getFirstAccount: () => (/* binding */ getFirstAccount),\n/* harmony export */   requestAccounts: () => (/* binding */ requestAccounts)\n/* harmony export */ });\nconst getEthereumAccounts = async (ethereum)=>{\n    const response = await ethereum.request({\n        method: \"eth_accounts\"\n    });\n    if (!Array.isArray(response)) {\n        throw new Error(\"Invalid response from ethereum.request\");\n    }\n    const accounts = response.map((item)=>{\n        if (typeof item !== \"string\") {\n            throw new Error(\"Invalid account address in response\");\n        }\n        return item;\n    });\n    return accounts;\n};\nconst requestAccounts = async (ethereum)=>{\n    const response = await ethereum.request({\n        method: \"eth_requestAccounts\"\n    });\n    if (!Array.isArray(response)) {\n        throw new Error(\"Invalid response from ethereum.request\");\n    }\n    const accounts = response.map((item)=>{\n        if (typeof item !== \"string\") {\n            throw new Error(\"Invalid account address in response\");\n        }\n        return item;\n    });\n    return accounts;\n};\nconst getFirstAccount = async (ethereum, method)=>{\n    try {\n        const accounts = method === \"eth_requestAccounts\" ? await requestAccounts(ethereum) : await getEthereumAccounts(ethereum);\n        return accounts.length > 0 ? accounts[0] : null;\n    } catch (error) {\n        console.error(\"Error getting account:\", error);\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9ldGhlcmV1bS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFRTyxNQUFNQSxzQkFBc0IsT0FBT0M7SUFDeEMsTUFBTUMsV0FBVyxNQUFNRCxTQUFTRSxPQUFPLENBQUM7UUFBRUMsUUFBUTtJQUFlO0lBQ2pFLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSixXQUFXO1FBQzVCLE1BQU0sSUFBSUssTUFBTTtJQUNsQjtJQUNBLE1BQU1DLFdBQVdOLFNBQVNPLEdBQUcsQ0FBQ0MsQ0FBQUE7UUFDNUIsSUFBSSxPQUFPQSxTQUFTLFVBQVU7WUFDNUIsTUFBTSxJQUFJSCxNQUFNO1FBQ2xCO1FBQ0EsT0FBT0c7SUFDVDtJQUNBLE9BQU9GO0FBQ1QsRUFBRTtBQUVLLE1BQU1HLGtCQUFrQixPQUFPVjtJQUNwQyxNQUFNQyxXQUFXLE1BQU1ELFNBQVNFLE9BQU8sQ0FBQztRQUFFQyxRQUFRO0lBQXNCO0lBQ3hFLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDSixXQUFXO1FBQzVCLE1BQU0sSUFBSUssTUFBTTtJQUNsQjtJQUNBLE1BQU1DLFdBQVdOLFNBQVNPLEdBQUcsQ0FBQ0MsQ0FBQUE7UUFDNUIsSUFBSSxPQUFPQSxTQUFTLFVBQVU7WUFDNUIsTUFBTSxJQUFJSCxNQUFNO1FBQ2xCO1FBQ0EsT0FBT0c7SUFDVDtJQUNBLE9BQU9GO0FBQ1QsRUFBRTtBQUVLLE1BQU1JLGtCQUFrQixPQUFPWCxVQUE0Qkc7SUFDaEUsSUFBSTtRQUNGLE1BQU1JLFdBQVdKLFdBQVcsd0JBQ3hCLE1BQU1PLGdCQUFnQlYsWUFDdEIsTUFBTUQsb0JBQW9CQztRQUM5QixPQUFPTyxTQUFTSyxNQUFNLEdBQUcsSUFBSUwsUUFBUSxDQUFDLEVBQUUsR0FBRztJQUM3QyxFQUFFLE9BQU9NLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBTztJQUNUO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbi1kYXBwLWZyb250ZW5kLy4vdXRpbHMvZXRoZXJldW0udHM/NmI0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEV0aGVyZXVtUHJvdmlkZXIgfSBmcm9tICcuL2V0aGVyc0NvbmZpZyc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgZXRoZXJldW0/OiBFdGhlcmV1bVByb3ZpZGVyO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRFdGhlcmV1bUFjY291bnRzID0gYXN5bmMgKGV0aGVyZXVtOiBFdGhlcmV1bVByb3ZpZGVyKTogUHJvbWlzZTxzdHJpbmdbXT4gPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfYWNjb3VudHMnIH0pO1xuICBpZiAoIUFycmF5LmlzQXJyYXkocmVzcG9uc2UpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGZyb20gZXRoZXJldW0ucmVxdWVzdCcpO1xuICB9XG4gIGNvbnN0IGFjY291bnRzID0gcmVzcG9uc2UubWFwKGl0ZW0gPT4ge1xuICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhY2NvdW50IGFkZHJlc3MgaW4gcmVzcG9uc2UnKTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG4gIH0pO1xuICByZXR1cm4gYWNjb3VudHM7XG59O1xuXG5leHBvcnQgY29uc3QgcmVxdWVzdEFjY291bnRzID0gYXN5bmMgKGV0aGVyZXVtOiBFdGhlcmV1bVByb3ZpZGVyKTogUHJvbWlzZTxzdHJpbmdbXT4gPT4ge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfcmVxdWVzdEFjY291bnRzJyB9KTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3BvbnNlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmcm9tIGV0aGVyZXVtLnJlcXVlc3QnKTtcbiAgfVxuICBjb25zdCBhY2NvdW50cyA9IHJlc3BvbnNlLm1hcChpdGVtID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW0gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWNjb3VudCBhZGRyZXNzIGluIHJlc3BvbnNlJyk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9KTtcbiAgcmV0dXJuIGFjY291bnRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpcnN0QWNjb3VudCA9IGFzeW5jIChldGhlcmV1bTogRXRoZXJldW1Qcm92aWRlciwgbWV0aG9kOiAnZXRoX3JlcXVlc3RBY2NvdW50cycgfCAnZXRoX2FjY291bnRzJyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGFjY291bnRzID0gbWV0aG9kID09PSAnZXRoX3JlcXVlc3RBY2NvdW50cycgXG4gICAgICA/IGF3YWl0IHJlcXVlc3RBY2NvdW50cyhldGhlcmV1bSlcbiAgICAgIDogYXdhaXQgZ2V0RXRoZXJldW1BY2NvdW50cyhldGhlcmV1bSk7XG4gICAgcmV0dXJuIGFjY291bnRzLmxlbmd0aCA+IDAgPyBhY2NvdW50c1swXSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBhY2NvdW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTsgIl0sIm5hbWVzIjpbImdldEV0aGVyZXVtQWNjb3VudHMiLCJldGhlcmV1bSIsInJlc3BvbnNlIiwicmVxdWVzdCIsIm1ldGhvZCIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwiYWNjb3VudHMiLCJtYXAiLCJpdGVtIiwicmVxdWVzdEFjY291bnRzIiwiZ2V0Rmlyc3RBY2NvdW50IiwibGVuZ3RoIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./utils/ethereum.ts\n");

/***/ }),

/***/ "./utils/ethersConfig.ts":
/*!*******************************!*\
  !*** ./utils/ethersConfig.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EXPECTED_NETWORK: () => (/* binding */ EXPECTED_NETWORK),\n/* harmony export */   formatEther: () => (/* binding */ formatEther),\n/* harmony export */   getContract: () => (/* binding */ getContract),\n/* harmony export */   getProvider: () => (/* binding */ getProvider),\n/* harmony export */   getSigner: () => (/* binding */ getSigner),\n/* harmony export */   handleContractError: () => (/* binding */ handleContractError),\n/* harmony export */   switchToCorrectNetwork: () => (/* binding */ switchToCorrectNetwork),\n/* harmony export */   validateAddress: () => (/* binding */ validateAddress),\n/* harmony export */   validateNetwork: () => (/* binding */ validateNetwork)\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"ethers\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([ethers__WEBPACK_IMPORTED_MODULE_0__]);\nethers__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Network configuration\nconst EXPECTED_NETWORK = {\n    chainId: \"1337\",\n    chainIdHex: \"0x539\",\n    name: \"Localhost\",\n    rpcUrl: \"http://127.0.0.1:7545\",\n    nativeCurrency: {\n        name: \"ETH\",\n        symbol: \"ETH\",\n        decimals: 18\n    }\n};\n// Function to switch to the correct network\nconst switchToCorrectNetwork = async (ethereum)=>{\n    try {\n        console.log(\"Attempting to switch network...\");\n        // First check current network\n        const currentChainId = await ethereum.request({\n            method: \"eth_chainId\"\n        });\n        console.log(\"Current chainId:\", currentChainId);\n        if (currentChainId === EXPECTED_NETWORK.chainIdHex) {\n            console.log(\"Already on correct network\");\n            return;\n        }\n        console.log(\"Switching to network:\", EXPECTED_NETWORK.chainIdHex);\n        // Try to switch to the network\n        await ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [\n                {\n                    chainId: EXPECTED_NETWORK.chainIdHex\n                }\n            ]\n        });\n        // Wait a bit for the network switch to complete\n        await new Promise((resolve)=>setTimeout(resolve, 1000));\n        // Verify the switch was successful\n        const newChainId = await ethereum.request({\n            method: \"eth_chainId\"\n        });\n        if (newChainId !== EXPECTED_NETWORK.chainIdHex) {\n            throw new Error(\"Network switch failed\");\n        }\n        console.log(\"Successfully switched to correct network\");\n    } catch (switchError) {\n        console.error(\"Error in switchToCorrectNetwork:\", switchError);\n        // This error code indicates that the chain has not been added to MetaMask\n        if (switchError.code === 4902) {\n            try {\n                console.log(\"Network not found, attempting to add...\");\n                await ethereum.request({\n                    method: \"wallet_addEthereumChain\",\n                    params: [\n                        {\n                            chainId: EXPECTED_NETWORK.chainIdHex,\n                            chainName: EXPECTED_NETWORK.name,\n                            rpcUrls: [\n                                EXPECTED_NETWORK.rpcUrl\n                            ],\n                            nativeCurrency: EXPECTED_NETWORK.nativeCurrency\n                        }\n                    ]\n                });\n                // Wait a bit for the network to be added\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Verify the network was added and switched to\n                const finalChainId = await ethereum.request({\n                    method: \"eth_chainId\"\n                });\n                if (finalChainId !== EXPECTED_NETWORK.chainIdHex) {\n                    throw new Error(\"Network add failed\");\n                }\n                console.log(\"Successfully added and switched to network\");\n            } catch (addError) {\n                console.error(\"Error adding network:\", addError);\n                throw new Error(\"يرجى إضافة الشبكة المحلية يدوياً | Please add the local network manually\");\n            }\n        } else {\n            console.error(\"Error switching network:\", switchError);\n            throw new Error(\"يرجى تغيير الشبكة إلى الشبكة المحلية | Please switch to local network\");\n        }\n    }\n};\n// Provider and signer functions\nconst getProvider = async ()=>{\n    if (!window.ethereum) {\n        throw new Error(\"MetaMask غير مثبت - MetaMask is not installed\");\n    }\n    try {\n        // First check if we're on the correct network before doing anything else\n        const currentChainId = await window.ethereum.request({\n            method: \"eth_chainId\"\n        });\n        console.log(\"Initial chain ID check:\", currentChainId);\n        if (currentChainId !== EXPECTED_NETWORK.chainIdHex) {\n            console.log(\"Wrong network detected, attempting to switch...\");\n            await switchToCorrectNetwork(window.ethereum);\n            // Verify the switch was successful\n            const newChainId = await window.ethereum.request({\n                method: \"eth_chainId\"\n            });\n            if (newChainId !== EXPECTED_NETWORK.chainIdHex) {\n                throw new Error(\"Failed to switch to correct network\");\n            }\n        }\n        // Only request accounts after we're on the correct network\n        await window.ethereum.request({\n            method: \"eth_requestAccounts\"\n        });\n        // Create provider using BrowserProvider\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_0__.BrowserProvider(window.ethereum);\n        return provider;\n    } catch (error) {\n        console.error(\"Error getting provider:\", error);\n        throw error;\n    }\n};\nconst getSigner = async ()=>{\n    const provider = await getProvider();\n    return provider.getSigner();\n};\nconst validateNetwork = async (provider)=>{\n    try {\n        console.log(\"Validating network...\");\n        const network = await provider.getNetwork();\n        const chainId = network.chainId.toString();\n        console.log(\"Current chainId:\", chainId, \"Expected:\", EXPECTED_NETWORK.chainId);\n        if (chainId !== EXPECTED_NETWORK.chainId) {\n            console.log(\"Wrong network detected in validateNetwork\");\n            if (!window.ethereum) {\n                throw new Error(`يرجى الاتصال بشبكة ${EXPECTED_NETWORK.name} (Chain ID: ${EXPECTED_NETWORK.chainId}) | Please connect to ${EXPECTED_NETWORK.name} network`);\n            }\n            // Get the current chain ID directly from ethereum provider\n            const currentChainId = await window.ethereum.request({\n                method: \"eth_chainId\"\n            });\n            console.log(\"Current chain ID from ethereum:\", currentChainId);\n            if (currentChainId !== EXPECTED_NETWORK.chainIdHex) {\n                await switchToCorrectNetwork(window.ethereum);\n                // Wait for the network switch to complete\n                await new Promise((resolve)=>setTimeout(resolve, 1500));\n                // Verify one final time\n                const finalChainId = await window.ethereum.request({\n                    method: \"eth_chainId\"\n                });\n                if (finalChainId !== EXPECTED_NETWORK.chainIdHex) {\n                    throw new Error(\"Network switch verification failed\");\n                }\n            }\n        }\n        console.log(\"Network validation passed\");\n    } catch (error) {\n        console.error(\"Network validation failed:\", error);\n        throw error;\n    }\n};\n// Helper functions for working with contracts\nconst getContract = (address, abi, signer)=>{\n    return new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(address, abi, signer);\n};\nconst validateAddress = (address)=>{\n    if (!address) {\n        throw new Error(\"Address is required\");\n    }\n    try {\n        return (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid Ethereum address\");\n    }\n};\nconst formatEther = (value)=>{\n    return (0,ethers__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(value, 18);\n};\n// Utility function to handle common contract errors\nconst handleContractError = (error)=>{\n    console.error(\"Contract error:\", error);\n    if (error.reason) {\n        throw new Error(`Smart contract error: ${error.reason}`);\n    } else if (error.message?.includes(\"user rejected\")) {\n        throw new Error(\"Transaction rejected by user\");\n    } else if (error.message?.includes(\"insufficient funds\")) {\n        throw new Error(\"Insufficient funds to complete the transaction\");\n    } else if (error.message?.includes(\"network\")) {\n        throw new Error(\"Please make sure you are connected to the correct network\");\n    } else {\n        throw new Error(\"Transaction failed. Please check your connection and try again.\");\n    }\n};\n// Event listener for network changes\nif (false) {}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM3QyxNQUFNQyxzQkFBc0IsQ0FBQ3JCO0lBQ2xDWixRQUFRWSxLQUFLLENBQUMsbUJBQW1CQTtJQUVqQyxJQUFJQSxNQUFNc0IsTUFBTSxFQUFFO1FBQ2hCLE1BQU0sSUFBSXhCLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRUUsTUFBTXNCLE1BQU0sQ0FBQyxDQUFDO0lBQ3pELE9BQU8sSUFBSXRCLE1BQU11QixPQUFPLEVBQUVDLFNBQVMsa0JBQWtCO1FBQ25ELE1BQU0sSUFBSTFCLE1BQU07SUFDbEIsT0FBTyxJQUFJRSxNQUFNdUIsT0FBTyxFQUFFQyxTQUFTLHVCQUF1QjtRQUN4RCxNQUFNLElBQUkxQixNQUFNO0lBQ2xCLE9BQU8sSUFBSUUsTUFBTXVCLE9BQU8sRUFBRUMsU0FBUyxZQUFZO1FBQzdDLE1BQU0sSUFBSTFCLE1BQU07SUFDbEIsT0FBTztRQUNMLE1BQU0sSUFBSUEsTUFBTTtJQUNsQjtBQUNGLEVBQUU7QUFFRixxQ0FBcUM7QUFDckMsSUFBSSxLQUFvRDJCLEVBQUUsRUFRekQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lZHVjYXRpb24tZGFwcC1mcm9udGVuZC8uL3V0aWxzL2V0aGVyc0NvbmZpZy50cz81NmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBDb250cmFjdCwgXG4gIEpzb25ScGNQcm92aWRlciwgXG4gIEJyb3dzZXJQcm92aWRlcixcbiAgZm9ybWF0VW5pdHMsIFxuICBnZXRBZGRyZXNzLFxuICB0eXBlIEpzb25ScGNTaWduZXIsXG4gIHR5cGUgUHJvdmlkZXJcbn0gZnJvbSAnZXRoZXJzJztcblxuLy8gVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEFyZ3VtZW50cyB7XG4gIG1ldGhvZDogc3RyaW5nO1xuICBwYXJhbXM/OiB1bmtub3duW10gfCBvYmplY3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXRoZXJldW1Qcm92aWRlciB7XG4gIHJlcXVlc3QoYXJnczogUmVxdWVzdEFyZ3VtZW50cyk6IFByb21pc2U8dW5rbm93bj47XG4gIG9uPyhldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHJlbW92ZUxpc3RlbmVyPyhldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHNlbGVjdGVkQWRkcmVzcz86IHN0cmluZztcbiAgaXNNZXRhTWFzaz86IGJvb2xlYW47XG4gIGNoYWluSWQ/OiBzdHJpbmc7XG4gIG5ldHdvcmtWZXJzaW9uPzogc3RyaW5nO1xufVxuXG4vLyBBZGQgdHlwZSBkZWNsYXJhdGlvbiBmb3IgdGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0XG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGV0aGVyZXVtPzogRXRoZXJldW1Qcm92aWRlcjtcbiAgfVxufVxuXG4vLyBOZXR3b3JrIGNvbmZpZ3VyYXRpb25cbmV4cG9ydCBjb25zdCBFWFBFQ1RFRF9ORVRXT1JLID0ge1xuICBjaGFpbklkOiAnMTMzNycsXG4gIGNoYWluSWRIZXg6ICcweDUzOScsIC8vIEhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIDEzMzdcbiAgbmFtZTogJ0xvY2FsaG9zdCcsXG4gIHJwY1VybDogJ2h0dHA6Ly8xMjcuMC4wLjE6NzU0NScsXG4gIG5hdGl2ZUN1cnJlbmN5OiB7XG4gICAgbmFtZTogJ0VUSCcsXG4gICAgc3ltYm9sOiAnRVRIJyxcbiAgICBkZWNpbWFsczogMThcbiAgfVxufTtcblxuLy8gRnVuY3Rpb24gdG8gc3dpdGNoIHRvIHRoZSBjb3JyZWN0IG5ldHdvcmtcbmV4cG9ydCBjb25zdCBzd2l0Y2hUb0NvcnJlY3ROZXR3b3JrID0gYXN5bmMgKGV0aGVyZXVtOiBFdGhlcmV1bVByb3ZpZGVyKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gc3dpdGNoIG5ldHdvcmsuLi4nKTtcbiAgICAvLyBGaXJzdCBjaGVjayBjdXJyZW50IG5ldHdvcmtcbiAgICBjb25zdCBjdXJyZW50Q2hhaW5JZCA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgY29uc29sZS5sb2coJ0N1cnJlbnQgY2hhaW5JZDonLCBjdXJyZW50Q2hhaW5JZCk7XG4gICAgXG4gICAgaWYgKGN1cnJlbnRDaGFpbklkID09PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBbHJlYWR5IG9uIGNvcnJlY3QgbmV0d29yaycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gbmV0d29yazonLCBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpO1xuICAgIFxuICAgIC8vIFRyeSB0byBzd2l0Y2ggdG8gdGhlIG5ldHdvcmtcbiAgICBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgIHBhcmFtczogW3sgY2hhaW5JZDogRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4IH1dXG4gICAgfSk7XG4gICAgXG4gICAgLy8gV2FpdCBhIGJpdCBmb3IgdGhlIG5ldHdvcmsgc3dpdGNoIHRvIGNvbXBsZXRlXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICBcbiAgICAvLyBWZXJpZnkgdGhlIHN3aXRjaCB3YXMgc3VjY2Vzc2Z1bFxuICAgIGNvbnN0IG5ld0NoYWluSWQgPSBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2NoYWluSWQnIH0pO1xuICAgIGlmIChuZXdDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBzd2l0Y2ggZmFpbGVkJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdG8gY29ycmVjdCBuZXR3b3JrJyk7XG4gIH0gY2F0Y2ggKHN3aXRjaEVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzd2l0Y2hUb0NvcnJlY3ROZXR3b3JrOicsIHN3aXRjaEVycm9yKTtcbiAgICBcbiAgICAvLyBUaGlzIGVycm9yIGNvZGUgaW5kaWNhdGVzIHRoYXQgdGhlIGNoYWluIGhhcyBub3QgYmVlbiBhZGRlZCB0byBNZXRhTWFza1xuICAgIGlmIChzd2l0Y2hFcnJvci5jb2RlID09PSA0OTAyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBub3QgZm91bmQsIGF0dGVtcHRpbmcgdG8gYWRkLi4uJyk7XG4gICAgICAgIGF3YWl0IGV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2hhaW5JZDogRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4LFxuICAgICAgICAgICAgICBjaGFpbk5hbWU6IEVYUEVDVEVEX05FVFdPUksubmFtZSxcbiAgICAgICAgICAgICAgcnBjVXJsczogW0VYUEVDVEVEX05FVFdPUksucnBjVXJsXSxcbiAgICAgICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IEVYUEVDVEVEX05FVFdPUksubmF0aXZlQ3VycmVuY3lcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBhIGJpdCBmb3IgdGhlIG5ldHdvcmsgdG8gYmUgYWRkZWRcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSB0aGUgbmV0d29yayB3YXMgYWRkZWQgYW5kIHN3aXRjaGVkIHRvXG4gICAgICAgIGNvbnN0IGZpbmFsQ2hhaW5JZCA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICAgIGlmIChmaW5hbENoYWluSWQgIT09IEVYUEVDVEVEX05FVFdPUksuY2hhaW5JZEhleCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBhZGQgZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgYWRkZWQgYW5kIHN3aXRjaGVkIHRvIG5ldHdvcmsnKTtcbiAgICAgIH0gY2F0Y2ggKGFkZEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBuZXR3b3JrOicsIGFkZEVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitix2KzZiSDYpdi22KfZgdipINin2YTYtNio2YPYqSDYp9mE2YXYrdmE2YrYqSDZitiv2YjZitin2YsgfCBQbGVhc2UgYWRkIHRoZSBsb2NhbCBuZXR3b3JrIG1hbnVhbGx5Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN3aXRjaGluZyBuZXR3b3JrOicsIHN3aXRjaEVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcign2YrYsdis2Ykg2KrYutmK2YrYsSDYp9mE2LTYqNmD2Kkg2KXZhNmJINin2YTYtNio2YPYqSDYp9mE2YXYrdmE2YrYqSB8IFBsZWFzZSBzd2l0Y2ggdG8gbG9jYWwgbmV0d29yaycpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gUHJvdmlkZXIgYW5kIHNpZ25lciBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGFNYXNrINi62YrYsSDZhdir2KjYqiAtIE1ldGFNYXNrIGlzIG5vdCBpbnN0YWxsZWQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgd2UncmUgb24gdGhlIGNvcnJlY3QgbmV0d29yayBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZVxuICAgIGNvbnN0IGN1cnJlbnRDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgY29uc29sZS5sb2coJ0luaXRpYWwgY2hhaW4gSUQgY2hlY2s6JywgY3VycmVudENoYWluSWQpO1xuICAgIFxuICAgIGlmIChjdXJyZW50Q2hhaW5JZCAhPT0gRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4KSB7XG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgbmV0d29yayBkZXRlY3RlZCwgYXR0ZW1wdGluZyB0byBzd2l0Y2guLi4nKTtcbiAgICAgIGF3YWl0IHN3aXRjaFRvQ29ycmVjdE5ldHdvcmsod2luZG93LmV0aGVyZXVtKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSBzd2l0Y2ggd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGNvbnN0IG5ld0NoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgIGlmIChuZXdDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3dpdGNoIHRvIGNvcnJlY3QgbmV0d29yaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9ubHkgcmVxdWVzdCBhY2NvdW50cyBhZnRlciB3ZSdyZSBvbiB0aGUgY29ycmVjdCBuZXR3b3JrXG4gICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiIH0pO1xuICAgIFxuICAgIC8vIENyZWF0ZSBwcm92aWRlciB1c2luZyBCcm93c2VyUHJvdmlkZXJcbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBCcm93c2VyUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICBcbiAgICByZXR1cm4gcHJvdmlkZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwcm92aWRlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTaWduZXIgPSBhc3luYyAoKTogUHJvbWlzZTxKc29uUnBjU2lnbmVyPiA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgZ2V0UHJvdmlkZXIoKTtcbiAgcmV0dXJuIHByb3ZpZGVyLmdldFNpZ25lcigpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTmV0d29yayA9IGFzeW5jIChwcm92aWRlcjogUHJvdmlkZXIpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGluZyBuZXR3b3JrLi4uJyk7XG4gICAgY29uc3QgbmV0d29yayA9IGF3YWl0IHByb3ZpZGVyLmdldE5ldHdvcmsoKTtcbiAgICBjb25zdCBjaGFpbklkID0gbmV0d29yay5jaGFpbklkLnRvU3RyaW5nKCk7XG4gICAgY29uc29sZS5sb2coJ0N1cnJlbnQgY2hhaW5JZDonLCBjaGFpbklkLCAnRXhwZWN0ZWQ6JywgRVhQRUNURURfTkVUV09SSy5jaGFpbklkKTtcbiAgICBcbiAgICBpZiAoY2hhaW5JZCAhPT0gRVhQRUNURURfTkVUV09SSy5jaGFpbklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgbmV0d29yayBkZXRlY3RlZCBpbiB2YWxpZGF0ZU5ldHdvcmsnKTtcbiAgICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2YrYsdis2Ykg2KfZhNin2KrYtdin2YQg2KjYtNio2YPYqSAke0VYUEVDVEVEX05FVFdPUksubmFtZX0gKENoYWluIElEOiAke0VYUEVDVEVEX05FVFdPUksuY2hhaW5JZH0pIHwgUGxlYXNlIGNvbm5lY3QgdG8gJHtFWFBFQ1RFRF9ORVRXT1JLLm5hbWV9IG5ldHdvcmtgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGNoYWluIElEIGRpcmVjdGx5IGZyb20gZXRoZXJldW0gcHJvdmlkZXJcbiAgICAgIGNvbnN0IGN1cnJlbnRDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBjaGFpbiBJRCBmcm9tIGV0aGVyZXVtOicsIGN1cnJlbnRDaGFpbklkKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgICAgYXdhaXQgc3dpdGNoVG9Db3JyZWN0TmV0d29yayh3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIG5ldHdvcmsgc3dpdGNoIHRvIGNvbXBsZXRlXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJpZnkgb25lIGZpbmFsIHRpbWVcbiAgICAgICAgY29uc3QgZmluYWxDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICAgIGlmIChmaW5hbENoYWluSWQgIT09IEVYUEVDVEVEX05FVFdPUksuY2hhaW5JZEhleCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBzd2l0Y2ggdmVyaWZpY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdOZXR3b3JrIHZhbGlkYXRpb24gcGFzc2VkJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTmV0d29yayB2YWxpZGF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBjb250cmFjdHNcbmV4cG9ydCBjb25zdCBnZXRDb250cmFjdCA9IDxUIGV4dGVuZHMgQ29udHJhY3Q+KFxuICBhZGRyZXNzOiBzdHJpbmcsXG4gIGFiaTogYW55LFxuICBzaWduZXI6IEpzb25ScGNTaWduZXJcbik6IFQgPT4ge1xuICByZXR1cm4gbmV3IENvbnRyYWN0KGFkZHJlc3MsIGFiaSwgc2lnbmVyKSBhcyBUO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQWRkcmVzcyA9IChhZGRyZXNzOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsKTogc3RyaW5nID0+IHtcbiAgaWYgKCFhZGRyZXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIGdldEFkZHJlc3MoYWRkcmVzcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEV0aGVyZXVtIGFkZHJlc3MnKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdEV0aGVyID0gKHZhbHVlOiBiaWdpbnQpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZm9ybWF0VW5pdHModmFsdWUsIDE4KTtcbn07XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gaGFuZGxlIGNvbW1vbiBjb250cmFjdCBlcnJvcnNcbmV4cG9ydCBjb25zdCBoYW5kbGVDb250cmFjdEVycm9yID0gKGVycm9yOiBhbnkpOiBuZXZlciA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ0NvbnRyYWN0IGVycm9yOicsIGVycm9yKTtcbiAgXG4gIGlmIChlcnJvci5yZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFNtYXJ0IGNvbnRyYWN0IGVycm9yOiAke2Vycm9yLnJlYXNvbn1gKTtcbiAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygndXNlciByZWplY3RlZCcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiByZWplY3RlZCBieSB1c2VyJyk7XG4gIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2luc3VmZmljaWVudCBmdW5kcycpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgZnVuZHMgdG8gY29tcGxldGUgdGhlIHRyYW5zYWN0aW9uJyk7XG4gIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ25ldHdvcmsnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIGNvbm5lY3RlZCB0byB0aGUgY29ycmVjdCBuZXR3b3JrJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiBmYWlsZWQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgfVxufTtcblxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIG5ldHdvcmsgY2hhbmdlc1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bT8ub24pIHtcbiAgd2luZG93LmV0aGVyZXVtLm9uKCdjaGFpbkNoYW5nZWQnLCAoY2hhaW5JZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ05ldHdvcmsgY2hhbmdlZCB0bzonLCBjaGFpbklkKTtcbiAgICBpZiAoY2hhaW5JZCAhPT0gRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4KSB7XG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgbmV0d29yayBhZnRlciBjaGFuZ2UsIHJlbG9hZGluZy4uLicpO1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cbiAgfSk7XG59ICJdLCJuYW1lcyI6WyJDb250cmFjdCIsIkJyb3dzZXJQcm92aWRlciIsImZvcm1hdFVuaXRzIiwiZ2V0QWRkcmVzcyIsIkVYUEVDVEVEX05FVFdPUksiLCJjaGFpbklkIiwiY2hhaW5JZEhleCIsIm5hbWUiLCJycGNVcmwiLCJuYXRpdmVDdXJyZW5jeSIsInN5bWJvbCIsImRlY2ltYWxzIiwic3dpdGNoVG9Db3JyZWN0TmV0d29yayIsImV0aGVyZXVtIiwiY29uc29sZSIsImxvZyIsImN1cnJlbnRDaGFpbklkIiwicmVxdWVzdCIsIm1ldGhvZCIsInBhcmFtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm5ld0NoYWluSWQiLCJFcnJvciIsInN3aXRjaEVycm9yIiwiZXJyb3IiLCJjb2RlIiwiY2hhaW5OYW1lIiwicnBjVXJscyIsImZpbmFsQ2hhaW5JZCIsImFkZEVycm9yIiwiZ2V0UHJvdmlkZXIiLCJ3aW5kb3ciLCJwcm92aWRlciIsImdldFNpZ25lciIsInZhbGlkYXRlTmV0d29yayIsIm5ldHdvcmsiLCJnZXROZXR3b3JrIiwidG9TdHJpbmciLCJnZXRDb250cmFjdCIsImFkZHJlc3MiLCJhYmkiLCJzaWduZXIiLCJ2YWxpZGF0ZUFkZHJlc3MiLCJmb3JtYXRFdGhlciIsInZhbHVlIiwiaGFuZGxlQ29udHJhY3RFcnJvciIsInJlYXNvbiIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIm9uIiwibG9jYXRpb24iLCJyZWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/ethersConfig.ts\n");

/***/ }),

/***/ "./utils/ipfs.ts":
/*!***********************!*\
  !*** ./utils/ipfs.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFromIPFS: () => (/* binding */ getFromIPFS),\n/* harmony export */   uploadToIPFS: () => (/* binding */ uploadToIPFS)\n/* harmony export */ });\nconst PINATA_API_KEY = \"8f624b421db6e7033530\";\nconst PINATA_SECRET_KEY = \"b3e32ce1950961a4656712e1409df05df4e9eb98f768fb0dba564304c7f9527c\";\nconst PINATA_GATEWAY = \"https://gateway.pinata.cloud\";\nconst uploadToIPFS = async (data)=>{\n    try {\n        const response = await fetch(\"https://api.pinata.cloud/pinning/pinJSONToIPFS\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"pinata_api_key\": PINATA_API_KEY,\n                \"pinata_secret_api_key\": PINATA_SECRET_KEY\n            },\n            body: JSON.stringify(data)\n        });\n        const result = await response.json();\n        return result.IpfsHash;\n    } catch (error) {\n        console.error(\"Error uploading to IPFS:\", error);\n        throw error;\n    }\n};\nconst getFromIPFS = async (hash)=>{\n    try {\n        const response = await fetch(`${PINATA_GATEWAY}/ipfs/${hash}`);\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error fetching from IPFS:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy9pcGZzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsTUFBTUEsaUJBQWlCQyxzQkFBc0M7QUFDN0QsTUFBTUcsb0JBQW9CSCxrRUFBeUM7QUFDbkUsTUFBTUssaUJBQWlCTCw4QkFBc0M7QUFFdEQsTUFBTU8sZUFBZSxPQUFPQztJQUNqQyxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLGtEQUFrRDtZQUM3RUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsa0JBQWtCYjtnQkFDbEIseUJBQXlCSTtZQUMzQjtZQUNBVSxNQUFNQyxLQUFLQyxTQUFTLENBQUNQO1FBQ3ZCO1FBRUEsTUFBTVEsU0FBUyxNQUFNUCxTQUFTUSxJQUFJO1FBQ2xDLE9BQU9ELE9BQU9FLFFBQVE7SUFDeEIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE1BQU1BO0lBQ1I7QUFDRixFQUFFO0FBRUssTUFBTUUsY0FBYyxPQUFPQztJQUNoQyxJQUFJO1FBQ0YsTUFBTWIsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRUwsZUFBZSxNQUFNLEVBQUVpQixLQUFLLENBQUM7UUFDN0QsT0FBTyxNQUFNYixTQUFTUSxJQUFJO0lBQzVCLEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxNQUFNQTtJQUNSO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2VkdWNhdGlvbi1kYXBwLWZyb250ZW5kLy4vdXRpbHMvaXBmcy50cz9kYzY2Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFBJTkFUQV9BUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUElOQVRBX0FQSV9LRVk7XG5jb25zdCBQSU5BVEFfU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1BJTkFUQV9TRUNSRVRfS0VZO1xuY29uc3QgUElOQVRBX0dBVEVXQVkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19QSU5BVEFfR0FURVdBWTtcblxuZXhwb3J0IGNvbnN0IHVwbG9hZFRvSVBGUyA9IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5waW5hdGEuY2xvdWQvcGlubmluZy9waW5KU09OVG9JUEZTJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdwaW5hdGFfYXBpX2tleSc6IFBJTkFUQV9BUElfS0VZISxcbiAgICAgICAgJ3BpbmF0YV9zZWNyZXRfYXBpX2tleSc6IFBJTkFUQV9TRUNSRVRfS0VZIVxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIHJlc3VsdC5JcGZzSGFzaDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgdG8gSVBGUzonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGcm9tSVBGUyA9IGFzeW5jIChoYXNoOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke1BJTkFUQV9HQVRFV0FZfS9pcGZzLyR7aGFzaH1gKTtcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGZyb20gSVBGUzonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJQSU5BVEFfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QSU5BVEFfQVBJX0tFWSIsIlBJTkFUQV9TRUNSRVRfS0VZIiwiTkVYVF9QVUJMSUNfUElOQVRBX1NFQ1JFVF9LRVkiLCJQSU5BVEFfR0FURVdBWSIsIk5FWFRfUFVCTElDX1BJTkFUQV9HQVRFV0FZIiwidXBsb2FkVG9JUEZTIiwiZGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHQiLCJqc29uIiwiSXBmc0hhc2giLCJlcnJvciIsImNvbnNvbGUiLCJnZXRGcm9tSVBGUyIsImhhc2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/ipfs.ts\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "@chakra-ui/react":
/*!***********************************!*\
  !*** external "@chakra-ui/react" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@chakra-ui/react");;

/***/ }),

/***/ "@tanstack/react-query":
/*!****************************************!*\
  !*** external "@tanstack/react-query" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = import("@tanstack/react-query");;

/***/ }),

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = import("ethers");;

/***/ }),

/***/ "wagmi":
/*!************************!*\
  !*** external "wagmi" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("wagmi");;

/***/ }),

/***/ "wagmi/chains":
/*!*******************************!*\
  !*** external "wagmi/chains" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("wagmi/chains");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%5Cindex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();