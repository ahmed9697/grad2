"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard/institution",{

/***/ "./hooks/useContract.ts":
/*!******************************!*\
  !*** ./hooks/useContract.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useContract: function() { return /* binding */ useContract; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wagmi */ \"./node_modules/wagmi/dist/esm/exports/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"./node_modules/viem/_esm/index.js\");\n/* harmony import */ var _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/ExamManagement.json */ \"./contracts/ExamManagement.json\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n\n\n\n\n\nconst EXAM_MANAGEMENT_ADDRESS = \"0x15B70b2C305c684Ef6335b64b0CA430e481c3ac5\" || 0;\nconst CERTIFICATES_ADDRESS = \"0x91F73a8778C82983253fEC5C0a63f87beA461AFd\" || 0;\nconst EXAMINATIONS_ADDRESS = \"0x1cE1DF501cF629b04c6B647e5A7BDE8245BcE02A\" || 0;\nconst IDENTITY_ADDRESS = \"0xb8F6dE405c3A2876d0a14Fa08Ee5D92793bFbbA1\" || 0;\nconst SECURITY_UTILS_ADDRESS = \"0x705D62Df2879E56545e9A9A6381c6a8e200e390c\" || 0;\nconst TARGET_CHAIN_ID = 1337; // Local network chain ID\nconst useContract = ()=>{\n    const { address: account } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useAccount)();\n    const publicClient = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.usePublicClient)();\n    const { data: walletClient } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useWalletClient)();\n    const chainId = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useChainId)();\n    const { connect } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useConnect)();\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        examManagementContract: null,\n        certificatesContract: null,\n        examinationsContract: null,\n        identityContract: null,\n        securityUtilsContract: null,\n        isConnected: false,\n        isInitialized: false,\n        isLoading: false,\n        networkSwitchAttempted: false,\n        initializationAttempted: false,\n        initializationError: null,\n        retryCount: 0,\n        lastInitAttemptTime: 0\n    });\n    // Handle initial connection check\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const checkConnection = async ()=>{\n            if (!account && !state.initializationAttempted) {\n                toast({\n                    title: \"يرجى توصيل المحفظة | Please Connect Wallet\",\n                    description: \"يجب توصيل المحفظة للمتابعة | Wallet connection is required to continue\",\n                    status: \"warning\",\n                    duration: 5000,\n                    isClosable: true\n                });\n                setState((prev)=>({\n                        ...prev,\n                        initializationAttempted: true\n                    }));\n            }\n        };\n        checkConnection();\n    }, [\n        account,\n        state.initializationAttempted,\n        toast\n    ]);\n    // Initialize contracts only when wallet is connected\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        let retryTimeout;\n        const initialize = async ()=>{\n            if (!isMounted || !account || !walletClient) return;\n            // Prevent rapid re-initialization attempts\n            const now = Date.now();\n            if (now - state.lastInitAttemptTime < 2000) {\n                return;\n            }\n            console.log(\"Checking connection and initializing:\", {\n                account,\n                hasWalletClient: !!walletClient,\n                chainId,\n                targetChainId: TARGET_CHAIN_ID,\n                retryCount: state.retryCount,\n                isLoading: state.isLoading,\n                timeSinceLastAttempt: now - state.lastInitAttemptTime\n            });\n            setState((prev)=>({\n                    ...prev,\n                    isLoading: true,\n                    lastInitAttemptTime: now\n                }));\n            try {\n                // Check network first\n                const isCorrectNetwork = chainId === TARGET_CHAIN_ID;\n                if (!isCorrectNetwork) {\n                    if (!window.ethereum) {\n                        throw new Error(\"MetaMask is not installed\");\n                    }\n                    try {\n                        // Request network switch\n                        await window.ethereum.request({\n                            method: \"wallet_switchEthereumChain\",\n                            params: [\n                                {\n                                    chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16))\n                                }\n                            ]\n                        });\n                        // Wait for network switch to complete\n                        await new Promise((resolve)=>setTimeout(resolve, 2000));\n                        // Verify the switch\n                        const newChainId = await window.ethereum.request({\n                            method: \"eth_chainId\"\n                        });\n                        const expectedChainId = \"0x\".concat(TARGET_CHAIN_ID.toString(16));\n                        if (newChainId !== expectedChainId) {\n                            throw new Error(\"Network switch failed\");\n                        }\n                    } catch (switchError) {\n                        if (switchError.code === 4902) {\n                            // Network needs to be added\n                            await window.ethereum.request({\n                                method: \"wallet_addEthereumChain\",\n                                params: [\n                                    {\n                                        chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16)),\n                                        chainName: \"Ganache Local\",\n                                        rpcUrls: [\n                                            \"http://127.0.0.1:7545\"\n                                        ],\n                                        nativeCurrency: {\n                                            name: \"ETH\",\n                                            symbol: \"ETH\",\n                                            decimals: 18\n                                        }\n                                    }\n                                ]\n                            });\n                        } else {\n                            setState((prev)=>({\n                                    ...prev,\n                                    isLoading: false,\n                                    initializationError: \"يرجى تغيير الشبكة إلى الشبكة المحلية | Please switch to local network\"\n                                }));\n                            return;\n                        }\n                    }\n                }\n                if (!EXAM_MANAGEMENT_ADDRESS || !publicClient) {\n                    throw new Error(\"Missing required configuration\");\n                }\n                // Initialize contract\n                const examManagement = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                    address: EXAM_MANAGEMENT_ADDRESS,\n                    abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                    client: publicClient\n                });\n                // Create base contract\n                const baseContract = {\n                    isInstitution: async (address)=>{\n                        return await examManagement.read.isInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitution: async (address)=>{\n                        return await examManagement.read.getInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitutionExams: async (address)=>{\n                        return await examManagement.read.getInstitutionExams([\n                            address\n                        ]);\n                    },\n                    getExamResults: async (examId)=>{\n                        return await examManagement.read.getExamResults([\n                            examId\n                        ]);\n                    },\n                    write: {}\n                };\n                // Initialize write methods\n                if (walletClient) {\n                    const examManagementWrite = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                        address: EXAM_MANAGEMENT_ADDRESS,\n                        abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                        client: walletClient\n                    });\n                    baseContract.write = {\n                        updateInstitutionProfile: async (params)=>{\n                            const hash = await examManagementWrite.write.updateInstitutionProfile(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        submitExamResults: async (params)=>{\n                            const hash = await examManagementWrite.write.submitExamResults(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        registerStudents: async (params)=>{\n                            const hash = await examManagementWrite.write.registerStudents(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        updateExamStatus: async (params)=>{\n                            const hash = await examManagementWrite.write.updateExamStatus(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        createExam: async (params)=>{\n                            const hash = await examManagementWrite.write.createExam(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        issueCertificate: async (params)=>{\n                            const hash = await examManagementWrite.write.issueCertificate(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        }\n                    };\n                }\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            examManagementContract: baseContract,\n                            isConnected: true,\n                            isInitialized: true,\n                            isLoading: false,\n                            initializationError: null,\n                            retryCount: 0\n                        }));\n                    console.log(\"Contracts initialized successfully\");\n                }\n            } catch (error) {\n                console.error(\"Error initializing contracts:\", error);\n                if (isMounted && state.retryCount < 3) {\n                    const delay = Math.min(2000 * Math.pow(2, state.retryCount), 8000);\n                    retryTimeout = setTimeout(()=>{\n                        setState((prev)=>({\n                                ...prev,\n                                retryCount: prev.retryCount + 1,\n                                isLoading: false\n                            }));\n                    }, delay);\n                } else if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            isInitialized: false,\n                            isLoading: false,\n                            initializationError: error instanceof Error ? error.message : \"Unknown error\",\n                            retryCount: 0\n                        }));\n                    toast({\n                        title: \"خطأ في تهيئة العقود | Contract Initialization Error\",\n                        description: \"\".concat(error instanceof Error ? error.message : \"Unknown error\", \" | يرجى التأكد من اتصال المحفظة والشبكة الصحيحة\"),\n                        status: \"error\",\n                        duration: 8000,\n                        isClosable: true\n                    });\n                }\n            }\n        };\n        initialize();\n        return ()=>{\n            isMounted = false;\n            if (retryTimeout) {\n                clearTimeout(retryTimeout);\n            }\n        };\n    }, [\n        account,\n        chainId,\n        walletClient,\n        publicClient,\n        state.retryCount,\n        state.lastInitAttemptTime,\n        toast\n    ]);\n    // Event listener for network changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _window_ethereum;\n        if ( true && ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.on)) {\n            const handleChainChanged = (newChainId)=>{\n                console.log(\"Network changed to:\", newChainId);\n                if (newChainId !== \"0x\".concat(TARGET_CHAIN_ID.toString(16))) {\n                    setState((prev)=>({\n                            ...prev,\n                            isInitialized: false,\n                            initializationAttempted: false,\n                            examManagementContract: null,\n                            certificatesContract: null,\n                            examinationsContract: null,\n                            identityContract: null,\n                            securityUtilsContract: null\n                        }));\n                }\n            };\n            window.ethereum.on(\"chainChanged\", handleChainChanged);\n            return ()=>{\n                var _window_ethereum;\n                if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.removeListener) {\n                    window.ethereum.removeListener(\"chainChanged\", handleChainChanged);\n                }\n            };\n        }\n    }, []);\n    return {\n        examManagementContract: state.examManagementContract,\n        certificatesContract: state.certificatesContract,\n        examinationsContract: state.examinationsContract,\n        identityContract: state.identityContract,\n        securityUtilsContract: state.securityUtilsContract,\n        account,\n        isConnected: state.isConnected,\n        isInitialized: state.isInitialized,\n        isLoading: state.isLoading,\n        isCorrectNetwork: chainId === TARGET_CHAIN_ID,\n        initializationError: state.initializationError\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEIsUUFBUUMsR0FBRyxDQUFDLHVCQUF1QmU7Z0JBQ25DLElBQUlBLGVBQWUsS0FBa0MsT0FBN0JyRCxnQkFBZ0JpRCxRQUFRLENBQUMsTUFBTztvQkFDdER0QyxTQUFTb0IsQ0FBQUEsT0FBUzs0QkFDaEIsR0FBR0EsSUFBSTs0QkFDUGIsZUFBZTs0QkFDZkcseUJBQXlCOzRCQUN6QlQsd0JBQXdCOzRCQUN4QkMsc0JBQXNCOzRCQUN0QkMsc0JBQXNCOzRCQUN0QkMsa0JBQWtCOzRCQUNsQkMsdUJBQXVCO3dCQUN6QjtnQkFDRjtZQUNGO1lBRUEyQixPQUFPQyxRQUFRLENBQUNnRCxFQUFFLENBQUMsZ0JBQWdCQztZQUVuQyxPQUFPO29CQUNEbEQ7Z0JBQUosS0FBSUEsbUJBQUFBLE9BQU9DLFFBQVEsY0FBZkQsdUNBQUFBLGlCQUFpQm1ELGNBQWMsRUFBRTtvQkFDbkNuRCxPQUFPQyxRQUFRLENBQUNrRCxjQUFjLENBQUMsZ0JBQWdCRDtnQkFDakQ7WUFDRjtRQUNGO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUNMakYsd0JBQXdCRixNQUFNRSxzQkFBc0I7UUFDcERDLHNCQUFzQkgsTUFBTUcsb0JBQW9CO1FBQ2hEQyxzQkFBc0JKLE1BQU1JLG9CQUFvQjtRQUNoREMsa0JBQWtCTCxNQUFNSyxnQkFBZ0I7UUFDeENDLHVCQUF1Qk4sTUFBTU0scUJBQXFCO1FBQ2xEYjtRQUNBYyxhQUFhUCxNQUFNTyxXQUFXO1FBQzlCQyxlQUFlUixNQUFNUSxhQUFhO1FBQ2xDQyxXQUFXVCxNQUFNUyxTQUFTO1FBQzFCdUIsa0JBQWtCbkMsWUFBWVA7UUFDOUJzQixxQkFBcUJaLE1BQU1ZLG1CQUFtQjtJQUNoRDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vaG9va3MvdXNlQ29udHJhY3QudHM/NGYzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQWNjb3VudCwgdXNlUHVibGljQ2xpZW50LCB1c2VXYWxsZXRDbGllbnQsIHVzZUNoYWluSWQsIHVzZUNvbm5lY3QgfSBmcm9tICd3YWdtaSc7XG5pbXBvcnQgeyBnZXRDb250cmFjdCB9IGZyb20gJ3ZpZW0nO1xuaW1wb3J0IEV4YW1NYW5hZ2VtZW50QUJJIGZyb20gJy4uL2NvbnRyYWN0cy9FeGFtTWFuYWdlbWVudC5qc29uJztcbmltcG9ydCBDZXJ0aWZpY2F0ZXNBQkkgZnJvbSAnLi4vY29udHJhY3RzL0NlcnRpZmljYXRlcy5qc29uJztcbmltcG9ydCBFeGFtaW5hdGlvbnNBQkkgZnJvbSAnLi4vY29udHJhY3RzL0V4YW1pbmF0aW9ucy5qc29uJztcbmltcG9ydCBJZGVudGl0eUFCSSBmcm9tICcuLi9jb250cmFjdHMvSWRlbnRpdHkuanNvbic7XG5pbXBvcnQgU2VjdXJpdHlVdGlsc0FCSSBmcm9tICcuLi9jb250cmFjdHMvU2VjdXJpdHlVdGlscy5qc29uJztcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdCc7XG5cbmNvbnN0IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRVhBTV9NQU5BR0VNRU5UX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBDRVJUSUZJQ0FURVNfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgRVhBTUlOQVRJT05TX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19FWEFNSU5BVElPTlNfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IElERU5USVRZX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19JREVOVElUWV9DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgU0VDVVJJVFlfVVRJTFNfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NFQ1VSSVRZX1VUSUxTX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBUQVJHRVRfQ0hBSU5fSUQgPSAxMzM3OyAvLyBMb2NhbCBuZXR3b3JrIGNoYWluIElEXG5cbmludGVyZmFjZSBFeGFtTWFuYWdlbWVudENvbnRyYWN0IHtcbiAgaXNJbnN0aXR1dGlvbjogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxib29sZWFuPjtcbiAgZ2V0SW5zdGl0dXRpb246IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8YW55PjtcbiAgZ2V0SW5zdGl0dXRpb25FeGFtczogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxhbnlbXT47XG4gIGdldEV4YW1SZXN1bHRzOiAoZXhhbUlkOiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuICBwcm92aWRlcj86IGFueTtcbiAgcnVubmVyPzogYW55O1xuICB3cml0ZToge1xuICAgIHVwZGF0ZUluc3RpdHV0aW9uUHJvZmlsZTogKHBhcmFtczoge1xuICAgICAgYXJnczogW1xuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIG1pbmlzdHJ5OiBzdHJpbmcsXG4gICAgICAgIHVuaXZlcnNpdHk6IHN0cmluZyxcbiAgICAgICAgY29sbGVnZTogc3RyaW5nLFxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICAgICBsb2dvOiBzdHJpbmcsXG4gICAgICAgIHdlYnNpdGU6IHN0cmluZyxcbiAgICAgICAgZW1haWw6IHN0cmluZyxcbiAgICAgICAgcGhvbmU6IHN0cmluZ1xuICAgICAgXVxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIHN1Ym1pdEV4YW1SZXN1bHRzOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmcsIHJlc3VsdHM6IGFueVtdXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICByZWdpc3RlclN0dWRlbnRzOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmcsIHN0dWRlbnRzOiBzdHJpbmdbXV0sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgdXBkYXRlRXhhbVN0YXR1czogKHBhcmFtczoge1xuICAgICAgYXJnczogW2V4YW1JZDogc3RyaW5nLCBzdGF0dXM6IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgY3JlYXRlRXhhbTogKHBhcmFtczoge1xuICAgICAgYXJnczogW3RpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmcsIGRhdGU6IG51bWJlcl0sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgaXNzdWVDZXJ0aWZpY2F0ZTogKHBhcmFtczoge1xuICAgICAgYXJnczogW3N0dWRlbnQ6IHN0cmluZywgdGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmludGVyZmFjZSBDZXJ0aWZpY2F0ZXNDb250cmFjdCB7XG4gIGdldEluc3RpdHV0aW9uQ2VydGlmaWNhdGVzOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGFueVtdPjtcbiAgd3JpdGU6IHtcbiAgICBpc3N1ZUNlcnRpZmljYXRlOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbc3R1ZGVudEFkZHJlc3M6IHN0cmluZywgdGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmludGVyZmFjZSBFeGFtaW5hdGlvbnNDb250cmFjdCB7XG4gIC8vIEFkZCBleGFtaW5hdGlvbiBjb250cmFjdCBtZXRob2RzIGhlcmVcbiAgd3JpdGU6IHtcbiAgICBjcmVhdGVFeGFtaW5hdGlvbjogKHBhcmFtczoge1xuICAgICAgYXJnczogW2lwZnNIYXNoOiBzdHJpbmcsIHN0YXJ0VGltZTogbnVtYmVyLCBlbmRUaW1lOiBudW1iZXJdLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIHJlZ2lzdGVyRm9yRXhhbTogKHBhcmFtczoge1xuICAgICAgYXJnczogW2V4YW1JZDogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIElkZW50aXR5Q29udHJhY3Qge1xuICAvLyBBZGQgaWRlbnRpdHkgY29udHJhY3QgbWV0aG9kcyBoZXJlXG4gIHdyaXRlOiB7XG4gICAgcmVnaXN0ZXJJZGVudGl0eTogKHBhcmFtczoge1xuICAgICAgYXJnczogW25hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmludGVyZmFjZSBTZWN1cml0eVV0aWxzQ29udHJhY3Qge1xuICAvLyBBZGQgc2VjdXJpdHkgdXRpbHMgY29udHJhY3QgbWV0aG9kcyBoZXJlXG4gIHdyaXRlOiB7XG4gICAgdmVyaWZ5SGFzaDogKHBhcmFtczoge1xuICAgICAgYXJnczogW2hhc2g6IHN0cmluZywgc2lnbmF0dXJlOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgdXNlQ29udHJhY3QgPSAoKSA9PiB7XG4gIGNvbnN0IHsgYWRkcmVzczogYWNjb3VudCB9ID0gdXNlQWNjb3VudCgpO1xuICBjb25zdCBwdWJsaWNDbGllbnQgPSB1c2VQdWJsaWNDbGllbnQoKTtcbiAgY29uc3QgeyBkYXRhOiB3YWxsZXRDbGllbnQgfSA9IHVzZVdhbGxldENsaWVudCgpO1xuICBjb25zdCBjaGFpbklkID0gdXNlQ2hhaW5JZCgpO1xuICBjb25zdCB7IGNvbm5lY3QgfSA9IHVzZUNvbm5lY3QoKTtcbiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpO1xuICBcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgZXhhbU1hbmFnZW1lbnRDb250cmFjdDogbnVsbCBhcyBFeGFtTWFuYWdlbWVudENvbnRyYWN0IHwgbnVsbCxcbiAgICBjZXJ0aWZpY2F0ZXNDb250cmFjdDogbnVsbCBhcyBDZXJ0aWZpY2F0ZXNDb250cmFjdCB8IG51bGwsXG4gICAgZXhhbWluYXRpb25zQ29udHJhY3Q6IG51bGwgYXMgRXhhbWluYXRpb25zQ29udHJhY3QgfCBudWxsLFxuICAgIGlkZW50aXR5Q29udHJhY3Q6IG51bGwgYXMgSWRlbnRpdHlDb250cmFjdCB8IG51bGwsXG4gICAgc2VjdXJpdHlVdGlsc0NvbnRyYWN0OiBudWxsIGFzIFNlY3VyaXR5VXRpbHNDb250cmFjdCB8IG51bGwsXG4gICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgbmV0d29ya1N3aXRjaEF0dGVtcHRlZDogZmFsc2UsXG4gICAgaW5pdGlhbGl6YXRpb25BdHRlbXB0ZWQ6IGZhbHNlLFxuICAgIGluaXRpYWxpemF0aW9uRXJyb3I6IG51bGwgYXMgc3RyaW5nIHwgbnVsbCxcbiAgICByZXRyeUNvdW50OiAwLFxuICAgIGxhc3RJbml0QXR0ZW1wdFRpbWU6IDBcbiAgfSk7XG5cbiAgLy8gSGFuZGxlIGluaXRpYWwgY29ubmVjdGlvbiBjaGVja1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghYWNjb3VudCAmJiAhc3RhdGUuaW5pdGlhbGl6YXRpb25BdHRlbXB0ZWQpIHtcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiAn2YrYsdis2Ykg2KrZiNi12YrZhCDYp9mE2YXYrdmB2LjYqSB8IFBsZWFzZSBDb25uZWN0IFdhbGxldCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICfZitis2Kgg2KrZiNi12YrZhCDYp9mE2YXYrdmB2LjYqSDZhNmE2YXYqtin2KjYudipIHwgV2FsbGV0IGNvbm5lY3Rpb24gaXMgcmVxdWlyZWQgdG8gY29udGludWUnLFxuICAgICAgICAgIHN0YXR1czogJ3dhcm5pbmcnLFxuICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGluaXRpYWxpemF0aW9uQXR0ZW1wdGVkOiB0cnVlIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2hlY2tDb25uZWN0aW9uKCk7XG4gIH0sIFthY2NvdW50LCBzdGF0ZS5pbml0aWFsaXphdGlvbkF0dGVtcHRlZCwgdG9hc3RdKTtcblxuICAvLyBJbml0aWFsaXplIGNvbnRyYWN0cyBvbmx5IHdoZW4gd2FsbGV0IGlzIGNvbm5lY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGxldCByZXRyeVRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0O1xuXG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaXNNb3VudGVkIHx8ICFhY2NvdW50IHx8ICF3YWxsZXRDbGllbnQpIHJldHVybjtcblxuICAgICAgLy8gUHJldmVudCByYXBpZCByZS1pbml0aWFsaXphdGlvbiBhdHRlbXB0c1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGlmIChub3cgLSBzdGF0ZS5sYXN0SW5pdEF0dGVtcHRUaW1lIDwgMjAwMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdDaGVja2luZyBjb25uZWN0aW9uIGFuZCBpbml0aWFsaXppbmc6Jywge1xuICAgICAgICBhY2NvdW50LFxuICAgICAgICBoYXNXYWxsZXRDbGllbnQ6ICEhd2FsbGV0Q2xpZW50LFxuICAgICAgICBjaGFpbklkLFxuICAgICAgICB0YXJnZXRDaGFpbklkOiBUQVJHRVRfQ0hBSU5fSUQsXG4gICAgICAgIHJldHJ5Q291bnQ6IHN0YXRlLnJldHJ5Q291bnQsXG4gICAgICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICAgICAgICB0aW1lU2luY2VMYXN0QXR0ZW1wdDogbm93IC0gc3RhdGUubGFzdEluaXRBdHRlbXB0VGltZVxuICAgICAgfSk7XG5cbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgaXNMb2FkaW5nOiB0cnVlLCBsYXN0SW5pdEF0dGVtcHRUaW1lOiBub3cgfSkpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDaGVjayBuZXR3b3JrIGZpcnN0XG4gICAgICAgIGNvbnN0IGlzQ29ycmVjdE5ldHdvcmsgPSBjaGFpbklkID09PSBUQVJHRVRfQ0hBSU5fSUQ7XG4gICAgICAgIGlmICghaXNDb3JyZWN0TmV0d29yaykge1xuICAgICAgICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGFNYXNrIGlzIG5vdCBpbnN0YWxsZWQnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUmVxdWVzdCBuZXR3b3JrIHN3aXRjaFxuICAgICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfc3dpdGNoRXRoZXJldW1DaGFpbicsXG4gICAgICAgICAgICAgIHBhcmFtczogW3sgY2hhaW5JZDogYDB4JHtUQVJHRVRfQ0hBSU5fSUQudG9TdHJpbmcoMTYpfWAgfV1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciBuZXR3b3JrIHN3aXRjaCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKTtcblxuICAgICAgICAgICAgLy8gVmVyaWZ5IHRoZSBzd2l0Y2hcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkQ2hhaW5JZCA9IGAweCR7VEFSR0VUX0NIQUlOX0lELnRvU3RyaW5nKDE2KX1gO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobmV3Q2hhaW5JZCAhPT0gZXhwZWN0ZWRDaGFpbklkKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBzd2l0Y2ggZmFpbGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoc3dpdGNoRXJyb3I6IGFueSkge1xuICAgICAgICAgICAgaWYgKHN3aXRjaEVycm9yLmNvZGUgPT09IDQ5MDIpIHtcbiAgICAgICAgICAgICAgLy8gTmV0d29yayBuZWVkcyB0byBiZSBhZGRlZFxuICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICAgIHBhcmFtczogW3tcbiAgICAgICAgICAgICAgICAgIGNoYWluSWQ6IGAweCR7VEFSR0VUX0NIQUlOX0lELnRvU3RyaW5nKDE2KX1gLFxuICAgICAgICAgICAgICAgICAgY2hhaW5OYW1lOiAnR2FuYWNoZSBMb2NhbCcsXG4gICAgICAgICAgICAgICAgICBycGNVcmxzOiBbJ2h0dHA6Ly8xMjcuMC4wLjE6NzU0NSddLFxuICAgICAgICAgICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0VUSCcsXG4gICAgICAgICAgICAgICAgICAgIHN5bWJvbDogJ0VUSCcsXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxzOiAxOFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyBcbiAgICAgICAgICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRXJyb3I6ICfZitix2KzZiSDYqti62YrZitixINin2YTYtNio2YPYqSDYpdmE2Ykg2KfZhNi02KjZg9ipINin2YTZhdit2YTZitipIHwgUGxlYXNlIHN3aXRjaCB0byBsb2NhbCBuZXR3b3JrJ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIHx8ICFwdWJsaWNDbGllbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgY29uZmlndXJhdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBjb250cmFjdFxuICAgICAgICBjb25zdCBleGFtTWFuYWdlbWVudCA9IGdldENvbnRyYWN0KHtcbiAgICAgICAgICBhZGRyZXNzOiBFWEFNX01BTkFHRU1FTlRfQUREUkVTUyBhcyBgMHgke3N0cmluZ31gLFxuICAgICAgICAgIGFiaTogRXhhbU1hbmFnZW1lbnRBQkkuYWJpLFxuICAgICAgICAgIGNsaWVudDogcHVibGljQ2xpZW50LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgYmFzZSBjb250cmFjdFxuICAgICAgICBjb25zdCBiYXNlQ29udHJhY3QgPSB7XG4gICAgICAgICAgaXNJbnN0aXR1dGlvbjogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuaXNJbnN0aXR1dGlvbihbYWRkcmVzc10pIGFzIFByb21pc2U8Ym9vbGVhbj47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRJbnN0aXR1dGlvbjogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0SW5zdGl0dXRpb24oW2FkZHJlc3NdKSBhcyBQcm9taXNlPGFueT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRJbnN0aXR1dGlvbkV4YW1zOiBhc3luYyAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXhhbU1hbmFnZW1lbnQucmVhZC5nZXRJbnN0aXR1dGlvbkV4YW1zKFthZGRyZXNzXSkgYXMgUHJvbWlzZTxhbnlbXT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRFeGFtUmVzdWx0czogYXN5bmMgKGV4YW1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXhhbU1hbmFnZW1lbnQucmVhZC5nZXRFeGFtUmVzdWx0cyhbZXhhbUlkXSkgYXMgUHJvbWlzZTxhbnlbXT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3cml0ZToge30gYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdFsnd3JpdGUnXVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgd3JpdGUgbWV0aG9kc1xuICAgICAgICBpZiAod2FsbGV0Q2xpZW50KSB7XG4gICAgICAgICAgY29uc3QgZXhhbU1hbmFnZW1lbnRXcml0ZSA9IGdldENvbnRyYWN0KHtcbiAgICAgICAgICAgIGFkZHJlc3M6IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIGFzIGAweCR7c3RyaW5nfWAsXG4gICAgICAgICAgICBhYmk6IEV4YW1NYW5hZ2VtZW50QUJJLmFiaSxcbiAgICAgICAgICAgIGNsaWVudDogd2FsbGV0Q2xpZW50LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgYmFzZUNvbnRyYWN0LndyaXRlID0ge1xuICAgICAgICAgICAgdXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50V3JpdGUud3JpdGUudXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJtaXRFeGFtUmVzdWx0czogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBleGFtTWFuYWdlbWVudFdyaXRlLndyaXRlLnN1Ym1pdEV4YW1SZXN1bHRzKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlclN0dWRlbnRzOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50V3JpdGUud3JpdGUucmVnaXN0ZXJTdHVkZW50cyhwYXJhbXMuYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiB7IHdhaXQ6IGFzeW5jICgpID0+IHsgYXdhaXQgcHVibGljQ2xpZW50LndhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHQoeyBoYXNoIH0pOyB9IH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXBkYXRlRXhhbVN0YXR1czogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBleGFtTWFuYWdlbWVudFdyaXRlLndyaXRlLnVwZGF0ZUV4YW1TdGF0dXMocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZUV4YW06IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRXcml0ZS53cml0ZS5jcmVhdGVFeGFtKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc3N1ZUNlcnRpZmljYXRlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50V3JpdGUud3JpdGUuaXNzdWVDZXJ0aWZpY2F0ZShwYXJhbXMuYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiB7IHdhaXQ6IGFzeW5jICgpID0+IHsgYXdhaXQgcHVibGljQ2xpZW50LndhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHQoeyBoYXNoIH0pOyB9IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBhcyBFeGFtTWFuYWdlbWVudENvbnRyYWN0Wyd3cml0ZSddO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBleGFtTWFuYWdlbWVudENvbnRyYWN0OiBiYXNlQ29udHJhY3QgYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsLFxuICAgICAgICAgICAgcmV0cnlDb3VudDogMFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ29udHJhY3RzIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgY29udHJhY3RzOicsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc01vdW50ZWQgJiYgc3RhdGUucmV0cnlDb3VudCA8IDMpIHtcbiAgICAgICAgICBjb25zdCBkZWxheSA9IE1hdGgubWluKDIwMDAgKiBNYXRoLnBvdygyLCBzdGF0ZS5yZXRyeUNvdW50KSwgODAwMCk7XG4gICAgICAgICAgcmV0cnlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IFxuICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICByZXRyeUNvdW50OiBwcmV2LnJldHJ5Q291bnQgKyAxLFxuICAgICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgXG4gICAgICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgICAgcmV0cnlDb3VudDogMFxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAn2K7Yt9ijINmB2Yog2KrZh9mK2KbYqSDYp9mE2LnZgtmI2K8gfCBDb250cmFjdCBJbml0aWFsaXphdGlvbiBFcnJvcicsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9IHwg2YrYsdis2Ykg2KfZhNiq2KPZg9ivINmF2YYg2KfYqti12KfZhCDYp9mE2YXYrdmB2LjYqSDZiNin2YTYtNio2YPYqSDYp9mE2LXYrdmK2K3YqWAsXG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICBkdXJhdGlvbjogODAwMCxcbiAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgaWYgKHJldHJ5VGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQocmV0cnlUaW1lb3V0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYWNjb3VudCwgY2hhaW5JZCwgd2FsbGV0Q2xpZW50LCBwdWJsaWNDbGllbnQsIHN0YXRlLnJldHJ5Q291bnQsIHN0YXRlLmxhc3RJbml0QXR0ZW1wdFRpbWUsIHRvYXN0XSk7XG5cbiAgLy8gRXZlbnQgbGlzdGVuZXIgZm9yIG5ldHdvcmsgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZXRoZXJldW0/Lm9uKSB7XG4gICAgICBjb25zdCBoYW5kbGVDaGFpbkNoYW5nZWQgPSAobmV3Q2hhaW5JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOZXR3b3JrIGNoYW5nZWQgdG86JywgbmV3Q2hhaW5JZCk7XG4gICAgICAgIGlmIChuZXdDaGFpbklkICE9PSBgMHgke1RBUkdFVF9DSEFJTl9JRC50b1N0cmluZygxNil9YCkge1xuICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uQXR0ZW1wdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgICBjZXJ0aWZpY2F0ZXNDb250cmFjdDogbnVsbCxcbiAgICAgICAgICAgIGV4YW1pbmF0aW9uc0NvbnRyYWN0OiBudWxsLFxuICAgICAgICAgICAgaWRlbnRpdHlDb250cmFjdDogbnVsbCxcbiAgICAgICAgICAgIHNlY3VyaXR5VXRpbHNDb250cmFjdDogbnVsbFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCdjaGFpbkNoYW5nZWQnLCBoYW5kbGVDaGFpbkNoYW5nZWQpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmV0aGVyZXVtPy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVMaXN0ZW5lcignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IHN0YXRlLmV4YW1NYW5hZ2VtZW50Q29udHJhY3QsXG4gICAgY2VydGlmaWNhdGVzQ29udHJhY3Q6IHN0YXRlLmNlcnRpZmljYXRlc0NvbnRyYWN0LFxuICAgIGV4YW1pbmF0aW9uc0NvbnRyYWN0OiBzdGF0ZS5leGFtaW5hdGlvbnNDb250cmFjdCxcbiAgICBpZGVudGl0eUNvbnRyYWN0OiBzdGF0ZS5pZGVudGl0eUNvbnRyYWN0LFxuICAgIHNlY3VyaXR5VXRpbHNDb250cmFjdDogc3RhdGUuc2VjdXJpdHlVdGlsc0NvbnRyYWN0LFxuICAgIGFjY291bnQsXG4gICAgaXNDb25uZWN0ZWQ6IHN0YXRlLmlzQ29ubmVjdGVkLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IHN0YXRlLmlzSW5pdGlhbGl6ZWQsXG4gICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgaXNDb3JyZWN0TmV0d29yazogY2hhaW5JZCA9PT0gVEFSR0VUX0NIQUlOX0lELFxuICAgIGluaXRpYWxpemF0aW9uRXJyb3I6IHN0YXRlLmluaXRpYWxpemF0aW9uRXJyb3JcbiAgfTtcbn07ICJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUFjY291bnQiLCJ1c2VQdWJsaWNDbGllbnQiLCJ1c2VXYWxsZXRDbGllbnQiLCJ1c2VDaGFpbklkIiwidXNlQ29ubmVjdCIsImdldENvbnRyYWN0IiwiRXhhbU1hbmFnZW1lbnRBQkkiLCJ1c2VUb2FzdCIsIkVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0VYQU1fTUFOQUdFTUVOVF9DT05UUkFDVF9BRERSRVNTIiwiQ0VSVElGSUNBVEVTX0FERFJFU1MiLCJORVhUX1BVQkxJQ19DRVJUSUZJQ0FURVNfQ09OVFJBQ1RfQUREUkVTUyIsIkVYQU1JTkFUSU9OU19BRERSRVNTIiwiTkVYVF9QVUJMSUNfRVhBTUlOQVRJT05TX0NPTlRSQUNUX0FERFJFU1MiLCJJREVOVElUWV9BRERSRVNTIiwiTkVYVF9QVUJMSUNfSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUyIsIlNFQ1VSSVRZX1VUSUxTX0FERFJFU1MiLCJORVhUX1BVQkxJQ19TRUNVUklUWV9VVElMU19DT05UUkFDVF9BRERSRVNTIiwiVEFSR0VUX0NIQUlOX0lEIiwidXNlQ29udHJhY3QiLCJhZGRyZXNzIiwiYWNjb3VudCIsInB1YmxpY0NsaWVudCIsImRhdGEiLCJ3YWxsZXRDbGllbnQiLCJjaGFpbklkIiwiY29ubmVjdCIsInRvYXN0Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImV4YW1NYW5hZ2VtZW50Q29udHJhY3QiLCJjZXJ0aWZpY2F0ZXNDb250cmFjdCIsImV4YW1pbmF0aW9uc0NvbnRyYWN0IiwiaWRlbnRpdHlDb250cmFjdCIsInNlY3VyaXR5VXRpbHNDb250cmFjdCIsImlzQ29ubmVjdGVkIiwiaXNJbml0aWFsaXplZCIsImlzTG9hZGluZyIsIm5ldHdvcmtTd2l0Y2hBdHRlbXB0ZWQiLCJpbml0aWFsaXphdGlvbkF0dGVtcHRlZCIsImluaXRpYWxpemF0aW9uRXJyb3IiLCJyZXRyeUNvdW50IiwibGFzdEluaXRBdHRlbXB0VGltZSIsImNoZWNrQ29ubmVjdGlvbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkdXJhdGlvbiIsImlzQ2xvc2FibGUiLCJwcmV2IiwiaXNNb3VudGVkIiwicmV0cnlUaW1lb3V0IiwiaW5pdGlhbGl6ZSIsIm5vdyIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiaGFzV2FsbGV0Q2xpZW50IiwidGFyZ2V0Q2hhaW5JZCIsInRpbWVTaW5jZUxhc3RBdHRlbXB0IiwiaXNDb3JyZWN0TmV0d29yayIsIndpbmRvdyIsImV0aGVyZXVtIiwiRXJyb3IiLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwidG9TdHJpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJuZXdDaGFpbklkIiwiZXhwZWN0ZWRDaGFpbklkIiwic3dpdGNoRXJyb3IiLCJjb2RlIiwiY2hhaW5OYW1lIiwicnBjVXJscyIsIm5hdGl2ZUN1cnJlbmN5IiwibmFtZSIsInN5bWJvbCIsImRlY2ltYWxzIiwiZXhhbU1hbmFnZW1lbnQiLCJhYmkiLCJjbGllbnQiLCJiYXNlQ29udHJhY3QiLCJpc0luc3RpdHV0aW9uIiwicmVhZCIsImdldEluc3RpdHV0aW9uIiwiZ2V0SW5zdGl0dXRpb25FeGFtcyIsImdldEV4YW1SZXN1bHRzIiwiZXhhbUlkIiwid3JpdGUiLCJleGFtTWFuYWdlbWVudFdyaXRlIiwidXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlIiwiaGFzaCIsImFyZ3MiLCJ3YWl0Iiwid2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCIsInN1Ym1pdEV4YW1SZXN1bHRzIiwicmVnaXN0ZXJTdHVkZW50cyIsInVwZGF0ZUV4YW1TdGF0dXMiLCJjcmVhdGVFeGFtIiwiaXNzdWVDZXJ0aWZpY2F0ZSIsImVycm9yIiwiZGVsYXkiLCJNYXRoIiwibWluIiwicG93IiwibWVzc2FnZSIsImNsZWFyVGltZW91dCIsIm9uIiwiaGFuZGxlQ2hhaW5DaGFuZ2VkIiwicmVtb3ZlTGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useContract.ts\n"));

/***/ })

});