"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard/institution",{

/***/ "./hooks/useContract.ts":
/*!******************************!*\
  !*** ./hooks/useContract.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useContract: function() { return /* binding */ useContract; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wagmi */ \"./node_modules/wagmi/dist/esm/exports/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"./node_modules/viem/_esm/index.js\");\n/* harmony import */ var _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/ExamManagement.json */ \"./contracts/ExamManagement.json\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n\n\n\n\n\nconst EXAM_MANAGEMENT_ADDRESS = \"0x15B70b2C305c684Ef6335b64b0CA430e481c3ac5\" || 0;\nconst CERTIFICATES_ADDRESS = \"0x91F73a8778C82983253fEC5C0a63f87beA461AFd\" || 0;\nconst EXAMINATIONS_ADDRESS = \"0x1cE1DF501cF629b04c6B647e5A7BDE8245BcE02A\" || 0;\nconst IDENTITY_ADDRESS = \"0xb8F6dE405c3A2876d0a14Fa08Ee5D92793bFbbA1\" || 0;\nconst SECURITY_UTILS_ADDRESS = \"0x705D62Df2879E56545e9A9A6381c6a8e200e390c\" || 0;\nconst TARGET_CHAIN_ID = 1337; // Local network chain ID\nconst useContract = ()=>{\n    const { address: account } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useAccount)();\n    const publicClient = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.usePublicClient)();\n    const { data: walletClient } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useWalletClient)();\n    const chainId = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useChainId)();\n    const { connect } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useConnect)();\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        examManagementContract: null,\n        certificatesContract: null,\n        examinationsContract: null,\n        identityContract: null,\n        securityUtilsContract: null,\n        isConnected: false,\n        isInitialized: false,\n        isLoading: true,\n        networkSwitchAttempted: false,\n        initializationAttempted: false,\n        initializationError: null,\n        retryCount: 0,\n        lastInitAttemptTime: 0,\n        initializationQueue: []\n    });\n    // Check connection and initialize contracts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        let retryTimeout;\n        const initialize = async ()=>{\n            if (!isMounted) return;\n            // Prevent rapid re-initialization attempts\n            const now = Date.now();\n            if (now - state.lastInitAttemptTime < 2000) {\n                return;\n            }\n            console.log(\"Checking connection and initializing:\", {\n                account,\n                hasWalletClient: !!walletClient,\n                chainId,\n                targetChainId: TARGET_CHAIN_ID,\n                retryCount: state.retryCount,\n                isLoading: state.isLoading,\n                timeSinceLastAttempt: now - state.lastInitAttemptTime,\n                initializationQueue: state.initializationQueue\n            });\n            // Set loading state at the start of initialization\n            setState((prev)=>({\n                    ...prev,\n                    isLoading: true,\n                    lastInitAttemptTime: now,\n                    initializationQueue: [\n                        \"connection\",\n                        \"network\",\n                        \"contract\"\n                    ]\n                }));\n            try {\n                // Step 1: Check wallet connection\n                const isConnectedToWallet = !!account && !!walletClient;\n                if (!isConnectedToWallet) {\n                    throw new Error(\"Wallet not connected\");\n                }\n                setState((prev)=>({\n                        ...prev,\n                        initializationQueue: prev.initializationQueue.filter((step)=>step !== \"connection\")\n                    }));\n                // Step 2: Check network\n                const isCorrectNetwork = chainId === TARGET_CHAIN_ID;\n                if (!isCorrectNetwork) {\n                    throw new Error(\"Wrong network\");\n                }\n                setState((prev)=>({\n                        ...prev,\n                        initializationQueue: prev.initializationQueue.filter((step)=>step !== \"network\")\n                    }));\n                // Step 3: Initialize contracts\n                if (!EXAM_MANAGEMENT_ADDRESS || !publicClient) {\n                    throw new Error(\"Missing required configuration\");\n                }\n                // Initialize read contract\n                const examManagement = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                    address: EXAM_MANAGEMENT_ADDRESS,\n                    abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                    client: publicClient\n                });\n                // Verify contract is accessible with retries\n                let verificationSuccess = false;\n                for(let i = 0; i < 3; i++){\n                    if (!isMounted) return;\n                    try {\n                        await examManagement.read.isInstitution([\n                            account\n                        ]);\n                        verificationSuccess = true;\n                        break;\n                    } catch (error) {\n                        console.warn(\"Contract verification attempt \".concat(i + 1, \" failed:\"), error);\n                        if (i < 2) {\n                            await new Promise((resolve)=>setTimeout(resolve, 2000)); // Increased to 2 seconds\n                        }\n                    }\n                }\n                if (!verificationSuccess) {\n                    throw new Error(\"Contract verification failed after multiple attempts\");\n                }\n                // Create base contract\n                const baseContract = {\n                    isInstitution: async (address)=>{\n                        return await examManagement.read.isInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitution: async (address)=>{\n                        return await examManagement.read.getInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitutionExams: async (address)=>{\n                        return await examManagement.read.getInstitutionExams([\n                            address\n                        ]);\n                    },\n                    getExamResults: async (examId)=>{\n                        return await examManagement.read.getExamResults([\n                            examId\n                        ]);\n                    },\n                    write: {}\n                };\n                // Initialize write methods if wallet is connected\n                if (walletClient) {\n                    const examManagementWrite = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                        address: EXAM_MANAGEMENT_ADDRESS,\n                        abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                        client: walletClient\n                    });\n                    baseContract.write = {\n                        updateInstitutionProfile: async (params)=>{\n                            const hash = await examManagementWrite.write.updateInstitutionProfile(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        submitExamResults: async (params)=>{\n                            const hash = await examManagementWrite.write.submitExamResults(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        registerStudents: async (params)=>{\n                            const hash = await examManagementWrite.write.registerStudents(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        updateExamStatus: async (params)=>{\n                            const hash = await examManagementWrite.write.updateExamStatus(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        createExam: async (params)=>{\n                            const hash = await examManagementWrite.write.createExam(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        issueCertificate: async (params)=>{\n                            const hash = await examManagementWrite.write.issueCertificate(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        }\n                    };\n                }\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            examManagementContract: baseContract,\n                            isConnected: true,\n                            isInitialized: true,\n                            isLoading: false,\n                            initializationError: null,\n                            retryCount: 0,\n                            initializationQueue: []\n                        }));\n                    console.log(\"Contracts initialized successfully\");\n                }\n            } catch (error) {\n                console.error(\"Error initializing contracts:\", error);\n                if (isMounted && state.retryCount < 3) {\n                    // Retry initialization after a delay with exponential backoff\n                    const delay = Math.min(2000 * Math.pow(2, state.retryCount), 8000); // Increased delays\n                    retryTimeout = setTimeout(()=>{\n                        setState((prev)=>({\n                                ...prev,\n                                retryCount: prev.retryCount + 1,\n                                isLoading: false\n                            }));\n                    }, delay);\n                } else if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            isInitialized: false,\n                            isLoading: false,\n                            initializationError: error instanceof Error ? error.message : \"Unknown error\",\n                            retryCount: 0,\n                            initializationQueue: []\n                        }));\n                    // Show error toast after max retries\n                    toast({\n                        title: \"خطأ في تهيئة العقود | Contract Initialization Error\",\n                        description: \"\".concat(error instanceof Error ? error.message : \"Unknown error\", \" | يرجى التأكد من اتصال المحفظة والشبكة الصحيحة\"),\n                        status: \"error\",\n                        duration: 8000,\n                        isClosable: true\n                    });\n                }\n            }\n        };\n        initialize();\n        return ()=>{\n            isMounted = false;\n            if (retryTimeout) {\n                clearTimeout(retryTimeout);\n            }\n        };\n    }, [\n        account,\n        chainId,\n        walletClient,\n        publicClient,\n        state.retryCount,\n        state.lastInitAttemptTime\n    ]);\n    // Event listener for network changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _window_ethereum;\n        if ( true && ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.on)) {\n            const handleChainChanged = (newChainId)=>{\n                console.log(\"Network changed to:\", newChainId);\n                if (newChainId !== \"0x\".concat(TARGET_CHAIN_ID.toString(16))) {\n                    setState((prev)=>({\n                            ...prev,\n                            isInitialized: false,\n                            initializationAttempted: false,\n                            examManagementContract: null,\n                            certificatesContract: null,\n                            examinationsContract: null,\n                            identityContract: null,\n                            securityUtilsContract: null\n                        }));\n                }\n            };\n            window.ethereum.on(\"chainChanged\", handleChainChanged);\n            return ()=>{\n                var _window_ethereum;\n                if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.removeListener) {\n                    window.ethereum.removeListener(\"chainChanged\", handleChainChanged);\n                }\n            };\n        }\n    }, []);\n    return {\n        examManagementContract: state.examManagementContract,\n        certificatesContract: state.certificatesContract,\n        examinationsContract: state.examinationsContract,\n        identityContract: state.identityContract,\n        securityUtilsContract: state.securityUtilsContract,\n        account,\n        isConnected: state.isConnected,\n        isInitialized: state.isInitialized,\n        isLoading: state.isLoading,\n        isCorrectNetwork: chainId === TARGET_CHAIN_ID,\n        initializationError: state.initializationError\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0MsUUFBUSxDQUFDQyxFQUFFLENBQUMsZ0JBQWdCQztZQUVuQyxPQUFPO29CQUNESDtnQkFBSixLQUFJQSxtQkFBQUEsT0FBT0MsUUFBUSxjQUFmRCx1Q0FBQUEsaUJBQWlCTSxjQUFjLEVBQUU7b0JBQ25DTixPQUFPQyxRQUFRLENBQUNLLGNBQWMsQ0FBQyxnQkFBZ0JIO2dCQUNqRDtZQUNGO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTCxPQUFPO1FBQ0wxRSx3QkFBd0JGLE1BQU1FLHNCQUFzQjtRQUNwREMsc0JBQXNCSCxNQUFNRyxvQkFBb0I7UUFDaERDLHNCQUFzQkosTUFBTUksb0JBQW9CO1FBQ2hEQyxrQkFBa0JMLE1BQU1LLGdCQUFnQjtRQUN4Q0MsdUJBQXVCTixNQUFNTSxxQkFBcUI7UUFDbERiO1FBQ0FjLGFBQWFQLE1BQU1PLFdBQVc7UUFDOUJDLGVBQWVSLE1BQU1RLGFBQWE7UUFDbENDLFdBQVdULE1BQU1TLFNBQVM7UUFDMUJzQixrQkFBa0JsQyxZQUFZUDtRQUM5QnNCLHFCQUFxQlosTUFBTVksbUJBQW1CO0lBQ2hEO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VDb250cmFjdC50cz80ZjMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VBY2NvdW50LCB1c2VQdWJsaWNDbGllbnQsIHVzZVdhbGxldENsaWVudCwgdXNlQ2hhaW5JZCwgdXNlQ29ubmVjdCB9IGZyb20gJ3dhZ21pJztcbmltcG9ydCB7IGdldENvbnRyYWN0IH0gZnJvbSAndmllbSc7XG5pbXBvcnQgRXhhbU1hbmFnZW1lbnRBQkkgZnJvbSAnLi4vY29udHJhY3RzL0V4YW1NYW5hZ2VtZW50Lmpzb24nO1xuaW1wb3J0IENlcnRpZmljYXRlc0FCSSBmcm9tICcuLi9jb250cmFjdHMvQ2VydGlmaWNhdGVzLmpzb24nO1xuaW1wb3J0IEV4YW1pbmF0aW9uc0FCSSBmcm9tICcuLi9jb250cmFjdHMvRXhhbWluYXRpb25zLmpzb24nO1xuaW1wb3J0IElkZW50aXR5QUJJIGZyb20gJy4uL2NvbnRyYWN0cy9JZGVudGl0eS5qc29uJztcbmltcG9ydCBTZWN1cml0eVV0aWxzQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9TZWN1cml0eVV0aWxzLmpzb24nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcblxuY29uc3QgRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19FWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IENFUlRJRklDQVRFU19BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBFWEFNSU5BVElPTlNfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VYQU1JTkFUSU9OU19DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgSURFTlRJVFlfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0lERU5USVRZX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBTRUNVUklUWV9VVElMU19BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0VDVVJJVFlfVVRJTFNfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IFRBUkdFVF9DSEFJTl9JRCA9IDEzMzc7IC8vIExvY2FsIG5ldHdvcmsgY2hhaW4gSURcblxuaW50ZXJmYWNlIEV4YW1NYW5hZ2VtZW50Q29udHJhY3Qge1xuICBpc0luc3RpdHV0aW9uOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBnZXRJbnN0aXR1dGlvbjogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+O1xuICBnZXRJbnN0aXR1dGlvbkV4YW1zOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGFueVtdPjtcbiAgZ2V0RXhhbVJlc3VsdHM6IChleGFtSWQ6IHN0cmluZykgPT4gUHJvbWlzZTxhbnlbXT47XG4gIHByb3ZpZGVyPzogYW55O1xuICBydW5uZXI/OiBhbnk7XG4gIHdyaXRlOiB7XG4gICAgdXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgbWluaXN0cnk6IHN0cmluZyxcbiAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nLFxuICAgICAgICBjb2xsZWdlOiBzdHJpbmcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgICAgIGxvZ286IHN0cmluZyxcbiAgICAgICAgd2Vic2l0ZTogc3RyaW5nLFxuICAgICAgICBlbWFpbDogc3RyaW5nLFxuICAgICAgICBwaG9uZTogc3RyaW5nXG4gICAgICBdXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgc3VibWl0RXhhbVJlc3VsdHM6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZywgcmVzdWx0czogYW55W11dLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIHJlZ2lzdGVyU3R1ZGVudHM6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZywgc3R1ZGVudHM6IHN0cmluZ1tdXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICB1cGRhdGVFeGFtU3RhdHVzOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICBjcmVhdGVFeGFtOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbdGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgZGF0ZTogbnVtYmVyXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICBpc3N1ZUNlcnRpZmljYXRlOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbc3R1ZGVudDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIENlcnRpZmljYXRlc0NvbnRyYWN0IHtcbiAgZ2V0SW5zdGl0dXRpb25DZXJ0aWZpY2F0ZXM6IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuICB3cml0ZToge1xuICAgIGlzc3VlQ2VydGlmaWNhdGU6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtzdHVkZW50QWRkcmVzczogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEV4YW1pbmF0aW9uc0NvbnRyYWN0IHtcbiAgLy8gQWRkIGV4YW1pbmF0aW9uIGNvbnRyYWN0IG1ldGhvZHMgaGVyZVxuICB3cml0ZToge1xuICAgIGNyZWF0ZUV4YW1pbmF0aW9uOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbaXBmc0hhc2g6IHN0cmluZywgc3RhcnRUaW1lOiBudW1iZXIsIGVuZFRpbWU6IG51bWJlcl0sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgcmVnaXN0ZXJGb3JFeGFtOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgSWRlbnRpdHlDb250cmFjdCB7XG4gIC8vIEFkZCBpZGVudGl0eSBjb250cmFjdCBtZXRob2RzIGhlcmVcbiAgd3JpdGU6IHtcbiAgICByZWdpc3RlcklkZW50aXR5OiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbbmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFNlY3VyaXR5VXRpbHNDb250cmFjdCB7XG4gIC8vIEFkZCBzZWN1cml0eSB1dGlscyBjb250cmFjdCBtZXRob2RzIGhlcmVcbiAgd3JpdGU6IHtcbiAgICB2ZXJpZnlIYXNoOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbaGFzaDogc3RyaW5nLCBzaWduYXR1cmU6IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCB1c2VDb250cmFjdCA9ICgpID0+IHtcbiAgY29uc3QgeyBhZGRyZXNzOiBhY2NvdW50IH0gPSB1c2VBY2NvdW50KCk7XG4gIGNvbnN0IHB1YmxpY0NsaWVudCA9IHVzZVB1YmxpY0NsaWVudCgpO1xuICBjb25zdCB7IGRhdGE6IHdhbGxldENsaWVudCB9ID0gdXNlV2FsbGV0Q2xpZW50KCk7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKCk7XG4gIGNvbnN0IHsgY29ubmVjdCB9ID0gdXNlQ29ubmVjdCgpO1xuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XG4gIFxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBleGFtTWFuYWdlbWVudENvbnRyYWN0OiBudWxsIGFzIEV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfCBudWxsLFxuICAgIGNlcnRpZmljYXRlc0NvbnRyYWN0OiBudWxsIGFzIENlcnRpZmljYXRlc0NvbnRyYWN0IHwgbnVsbCxcbiAgICBleGFtaW5hdGlvbnNDb250cmFjdDogbnVsbCBhcyBFeGFtaW5hdGlvbnNDb250cmFjdCB8IG51bGwsXG4gICAgaWRlbnRpdHlDb250cmFjdDogbnVsbCBhcyBJZGVudGl0eUNvbnRyYWN0IHwgbnVsbCxcbiAgICBzZWN1cml0eVV0aWxzQ29udHJhY3Q6IG51bGwgYXMgU2VjdXJpdHlVdGlsc0NvbnRyYWN0IHwgbnVsbCxcbiAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgIG5ldHdvcmtTd2l0Y2hBdHRlbXB0ZWQ6IGZhbHNlLFxuICAgIGluaXRpYWxpemF0aW9uQXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsIGFzIHN0cmluZyB8IG51bGwsXG4gICAgcmV0cnlDb3VudDogMCxcbiAgICBsYXN0SW5pdEF0dGVtcHRUaW1lOiAwLFxuICAgIGluaXRpYWxpemF0aW9uUXVldWU6IFtdIGFzIHN0cmluZ1tdXG4gIH0pO1xuXG4gIC8vIENoZWNrIGNvbm5lY3Rpb24gYW5kIGluaXRpYWxpemUgY29udHJhY3RzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgbGV0IHJldHJ5VGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgICBjb25zdCBpbml0aWFsaXplID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjtcblxuICAgICAgLy8gUHJldmVudCByYXBpZCByZS1pbml0aWFsaXphdGlvbiBhdHRlbXB0c1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGlmIChub3cgLSBzdGF0ZS5sYXN0SW5pdEF0dGVtcHRUaW1lIDwgMjAwMCkgeyAvLyBJbmNyZWFzZWQgdG8gMiBzZWNvbmRzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0NoZWNraW5nIGNvbm5lY3Rpb24gYW5kIGluaXRpYWxpemluZzonLCB7XG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGhhc1dhbGxldENsaWVudDogISF3YWxsZXRDbGllbnQsXG4gICAgICAgIGNoYWluSWQsXG4gICAgICAgIHRhcmdldENoYWluSWQ6IFRBUkdFVF9DSEFJTl9JRCxcbiAgICAgICAgcmV0cnlDb3VudDogc3RhdGUucmV0cnlDb3VudCxcbiAgICAgICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RBdHRlbXB0OiBub3cgLSBzdGF0ZS5sYXN0SW5pdEF0dGVtcHRUaW1lLFxuICAgICAgICBpbml0aWFsaXphdGlvblF1ZXVlOiBzdGF0ZS5pbml0aWFsaXphdGlvblF1ZXVlXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IGxvYWRpbmcgc3RhdGUgYXQgdGhlIHN0YXJ0IG9mIGluaXRpYWxpemF0aW9uXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IFxuICAgICAgICAuLi5wcmV2LCBcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgICAgICBsYXN0SW5pdEF0dGVtcHRUaW1lOiBub3csXG4gICAgICAgIGluaXRpYWxpemF0aW9uUXVldWU6IFsnY29ubmVjdGlvbicsICduZXR3b3JrJywgJ2NvbnRyYWN0J11cbiAgICAgIH0pKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gU3RlcCAxOiBDaGVjayB3YWxsZXQgY29ubmVjdGlvblxuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZFRvV2FsbGV0ID0gISFhY2NvdW50ICYmICEhd2FsbGV0Q2xpZW50O1xuICAgICAgICBpZiAoIWlzQ29ubmVjdGVkVG9XYWxsZXQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBub3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgaW5pdGlhbGl6YXRpb25RdWV1ZTogcHJldi5pbml0aWFsaXphdGlvblF1ZXVlLmZpbHRlcihzdGVwID0+IHN0ZXAgIT09ICdjb25uZWN0aW9uJylcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vIFN0ZXAgMjogQ2hlY2sgbmV0d29ya1xuICAgICAgICBjb25zdCBpc0NvcnJlY3ROZXR3b3JrID0gY2hhaW5JZCA9PT0gVEFSR0VUX0NIQUlOX0lEO1xuICAgICAgICBpZiAoIWlzQ29ycmVjdE5ldHdvcmspIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIG5ldHdvcmsnKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBpbml0aWFsaXphdGlvblF1ZXVlOiBwcmV2LmluaXRpYWxpemF0aW9uUXVldWUuZmlsdGVyKHN0ZXAgPT4gc3RlcCAhPT0gJ25ldHdvcmsnKVxuICAgICAgICB9KSk7XG5cbiAgICAgICAgLy8gU3RlcCAzOiBJbml0aWFsaXplIGNvbnRyYWN0c1xuICAgICAgICBpZiAoIUVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIHx8ICFwdWJsaWNDbGllbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcmVxdWlyZWQgY29uZmlndXJhdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSByZWFkIGNvbnRyYWN0XG4gICAgICAgIGNvbnN0IGV4YW1NYW5hZ2VtZW50ID0gZ2V0Q29udHJhY3Qoe1xuICAgICAgICAgIGFkZHJlc3M6IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIGFzIGAweCR7c3RyaW5nfWAsXG4gICAgICAgICAgYWJpOiBFeGFtTWFuYWdlbWVudEFCSS5hYmksXG4gICAgICAgICAgY2xpZW50OiBwdWJsaWNDbGllbnQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFZlcmlmeSBjb250cmFjdCBpcyBhY2Nlc3NpYmxlIHdpdGggcmV0cmllc1xuICAgICAgICBsZXQgdmVyaWZpY2F0aW9uU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuaXNJbnN0aXR1dGlvbihbYWNjb3VudCBhcyBzdHJpbmddKTtcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvblN1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ29udHJhY3QgdmVyaWZpY2F0aW9uIGF0dGVtcHQgJHtpICsgMX0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIGlmIChpIDwgMikge1xuICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjAwMCkpOyAvLyBJbmNyZWFzZWQgdG8gMiBzZWNvbmRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2ZXJpZmljYXRpb25TdWNjZXNzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250cmFjdCB2ZXJpZmljYXRpb24gZmFpbGVkIGFmdGVyIG11bHRpcGxlIGF0dGVtcHRzJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYmFzZSBjb250cmFjdFxuICAgICAgICBjb25zdCBiYXNlQ29udHJhY3QgPSB7XG4gICAgICAgICAgaXNJbnN0aXR1dGlvbjogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuaXNJbnN0aXR1dGlvbihbYWRkcmVzc10pIGFzIFByb21pc2U8Ym9vbGVhbj47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRJbnN0aXR1dGlvbjogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0SW5zdGl0dXRpb24oW2FkZHJlc3NdKSBhcyBQcm9taXNlPGFueT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRJbnN0aXR1dGlvbkV4YW1zOiBhc3luYyAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXhhbU1hbmFnZW1lbnQucmVhZC5nZXRJbnN0aXR1dGlvbkV4YW1zKFthZGRyZXNzXSkgYXMgUHJvbWlzZTxhbnlbXT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXRFeGFtUmVzdWx0czogYXN5bmMgKGV4YW1JZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgZXhhbU1hbmFnZW1lbnQucmVhZC5nZXRFeGFtUmVzdWx0cyhbZXhhbUlkXSkgYXMgUHJvbWlzZTxhbnlbXT47XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3cml0ZToge30gYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdFsnd3JpdGUnXVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgd3JpdGUgbWV0aG9kcyBpZiB3YWxsZXQgaXMgY29ubmVjdGVkXG4gICAgICAgIGlmICh3YWxsZXRDbGllbnQpIHtcbiAgICAgICAgICBjb25zdCBleGFtTWFuYWdlbWVudFdyaXRlID0gZ2V0Q29udHJhY3Qoe1xuICAgICAgICAgICAgYWRkcmVzczogRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MgYXMgYDB4JHtzdHJpbmd9YCxcbiAgICAgICAgICAgIGFiaTogRXhhbU1hbmFnZW1lbnRBQkkuYWJpLFxuICAgICAgICAgICAgY2xpZW50OiB3YWxsZXRDbGllbnQsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBiYXNlQ29udHJhY3Qud3JpdGUgPSB7XG4gICAgICAgICAgICB1cGRhdGVJbnN0aXR1dGlvblByb2ZpbGU6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRXcml0ZS53cml0ZS51cGRhdGVJbnN0aXR1dGlvblByb2ZpbGUocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Ym1pdEV4YW1SZXN1bHRzOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50V3JpdGUud3JpdGUuc3VibWl0RXhhbVJlc3VsdHMocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyU3R1ZGVudHM6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRXcml0ZS53cml0ZS5yZWdpc3RlclN0dWRlbnRzKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVFeGFtU3RhdHVzOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50V3JpdGUud3JpdGUudXBkYXRlRXhhbVN0YXR1cyhwYXJhbXMuYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiB7IHdhaXQ6IGFzeW5jICgpID0+IHsgYXdhaXQgcHVibGljQ2xpZW50LndhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHQoeyBoYXNoIH0pOyB9IH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlRXhhbTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBleGFtTWFuYWdlbWVudFdyaXRlLndyaXRlLmNyZWF0ZUV4YW0ocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzc3VlQ2VydGlmaWNhdGU6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgZXhhbU1hbmFnZW1lbnRXcml0ZS53cml0ZS5pc3N1ZUNlcnRpZmljYXRlKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGFzIEV4YW1NYW5hZ2VtZW50Q29udHJhY3RbJ3dyaXRlJ107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IGJhc2VDb250cmFjdCBhcyBFeGFtTWFuYWdlbWVudENvbnRyYWN0LFxuICAgICAgICAgICAgaXNDb25uZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0luaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uRXJyb3I6IG51bGwsXG4gICAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25RdWV1ZTogW11cbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0NvbnRyYWN0cyBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNvbnRyYWN0czonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNNb3VudGVkICYmIHN0YXRlLnJldHJ5Q291bnQgPCAzKSB7XG4gICAgICAgICAgLy8gUmV0cnkgaW5pdGlhbGl6YXRpb24gYWZ0ZXIgYSBkZWxheSB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgICAgICAgICBjb25zdCBkZWxheSA9IE1hdGgubWluKDIwMDAgKiBNYXRoLnBvdygyLCBzdGF0ZS5yZXRyeUNvdW50KSwgODAwMCk7IC8vIEluY3JlYXNlZCBkZWxheXNcbiAgICAgICAgICByZXRyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgXG4gICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgIHJldHJ5Q291bnQ6IHByZXYucmV0cnlDb3VudCArIDEsXG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoeyBcbiAgICAgICAgICAgIC4uLnByZXYsIFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25FcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgICByZXRyeUNvdW50OiAwLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25RdWV1ZTogW11cbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAvLyBTaG93IGVycm9yIHRvYXN0IGFmdGVyIG1heCByZXRyaWVzXG4gICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgdGl0bGU6ICfYrti32KMg2YHZiiDYqtmH2YrYptipINin2YTYudmC2YjYryB8IENvbnRyYWN0IEluaXRpYWxpemF0aW9uIEVycm9yJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ30gfCDZitix2KzZiSDYp9mE2KrYo9mD2K8g2YXZhiDYp9iq2LXYp9mEINin2YTZhdit2YHYuNipINmI2KfZhNi02KjZg9ipINin2YTYtdit2YrYrdipYCxcbiAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAwLFxuICAgICAgICAgICAgaXNDbG9zYWJsZTogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpbml0aWFsaXplKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgICBpZiAocmV0cnlUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZXRyeVRpbWVvdXQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFthY2NvdW50LCBjaGFpbklkLCB3YWxsZXRDbGllbnQsIHB1YmxpY0NsaWVudCwgc3RhdGUucmV0cnlDb3VudCwgc3RhdGUubGFzdEluaXRBdHRlbXB0VGltZV0pO1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBuZXR3b3JrIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtPy5vbikge1xuICAgICAgY29uc3QgaGFuZGxlQ2hhaW5DaGFuZ2VkID0gKG5ld0NoYWluSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBjaGFuZ2VkIHRvOicsIG5ld0NoYWluSWQpO1xuICAgICAgICBpZiAobmV3Q2hhaW5JZCAhPT0gYDB4JHtUQVJHRVRfQ0hBSU5fSUQudG9TdHJpbmcoMTYpfWApIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkF0dGVtcHRlZDogZmFsc2UsXG4gICAgICAgICAgICBleGFtTWFuYWdlbWVudENvbnRyYWN0OiBudWxsLFxuICAgICAgICAgICAgY2VydGlmaWNhdGVzQ29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgICBleGFtaW5hdGlvbnNDb250cmFjdDogbnVsbCxcbiAgICAgICAgICAgIGlkZW50aXR5Q29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgICBzZWN1cml0eVV0aWxzQ29udHJhY3Q6IG51bGxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5ldGhlcmV1bT8ucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICB3aW5kb3cuZXRoZXJldW0ucmVtb3ZlTGlzdGVuZXIoJ2NoYWluQ2hhbmdlZCcsIGhhbmRsZUNoYWluQ2hhbmdlZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBleGFtTWFuYWdlbWVudENvbnRyYWN0OiBzdGF0ZS5leGFtTWFuYWdlbWVudENvbnRyYWN0LFxuICAgIGNlcnRpZmljYXRlc0NvbnRyYWN0OiBzdGF0ZS5jZXJ0aWZpY2F0ZXNDb250cmFjdCxcbiAgICBleGFtaW5hdGlvbnNDb250cmFjdDogc3RhdGUuZXhhbWluYXRpb25zQ29udHJhY3QsXG4gICAgaWRlbnRpdHlDb250cmFjdDogc3RhdGUuaWRlbnRpdHlDb250cmFjdCxcbiAgICBzZWN1cml0eVV0aWxzQ29udHJhY3Q6IHN0YXRlLnNlY3VyaXR5VXRpbHNDb250cmFjdCxcbiAgICBhY2NvdW50LFxuICAgIGlzQ29ubmVjdGVkOiBzdGF0ZS5pc0Nvbm5lY3RlZCxcbiAgICBpc0luaXRpYWxpemVkOiBzdGF0ZS5pc0luaXRpYWxpemVkLFxuICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICAgIGlzQ29ycmVjdE5ldHdvcms6IGNoYWluSWQgPT09IFRBUkdFVF9DSEFJTl9JRCxcbiAgICBpbml0aWFsaXphdGlvbkVycm9yOiBzdGF0ZS5pbml0aWFsaXphdGlvbkVycm9yXG4gIH07XG59OyAiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VBY2NvdW50IiwidXNlUHVibGljQ2xpZW50IiwidXNlV2FsbGV0Q2xpZW50IiwidXNlQ2hhaW5JZCIsInVzZUNvbm5lY3QiLCJnZXRDb250cmFjdCIsIkV4YW1NYW5hZ2VtZW50QUJJIiwidXNlVG9hc3QiLCJFWEFNX01BTkFHRU1FTlRfQUREUkVTUyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19FWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUyIsIkNFUlRJRklDQVRFU19BRERSRVNTIiwiTkVYVF9QVUJMSUNfQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MiLCJFWEFNSU5BVElPTlNfQUREUkVTUyIsIk5FWFRfUFVCTElDX0VYQU1JTkFUSU9OU19DT05UUkFDVF9BRERSRVNTIiwiSURFTlRJVFlfQUREUkVTUyIsIk5FWFRfUFVCTElDX0lERU5USVRZX0NPTlRSQUNUX0FERFJFU1MiLCJTRUNVUklUWV9VVElMU19BRERSRVNTIiwiTkVYVF9QVUJMSUNfU0VDVVJJVFlfVVRJTFNfQ09OVFJBQ1RfQUREUkVTUyIsIlRBUkdFVF9DSEFJTl9JRCIsInVzZUNvbnRyYWN0IiwiYWRkcmVzcyIsImFjY291bnQiLCJwdWJsaWNDbGllbnQiLCJkYXRhIiwid2FsbGV0Q2xpZW50IiwiY2hhaW5JZCIsImNvbm5lY3QiLCJ0b2FzdCIsInN0YXRlIiwic2V0U3RhdGUiLCJleGFtTWFuYWdlbWVudENvbnRyYWN0IiwiY2VydGlmaWNhdGVzQ29udHJhY3QiLCJleGFtaW5hdGlvbnNDb250cmFjdCIsImlkZW50aXR5Q29udHJhY3QiLCJzZWN1cml0eVV0aWxzQ29udHJhY3QiLCJpc0Nvbm5lY3RlZCIsImlzSW5pdGlhbGl6ZWQiLCJpc0xvYWRpbmciLCJuZXR3b3JrU3dpdGNoQXR0ZW1wdGVkIiwiaW5pdGlhbGl6YXRpb25BdHRlbXB0ZWQiLCJpbml0aWFsaXphdGlvbkVycm9yIiwicmV0cnlDb3VudCIsImxhc3RJbml0QXR0ZW1wdFRpbWUiLCJpbml0aWFsaXphdGlvblF1ZXVlIiwiaXNNb3VudGVkIiwicmV0cnlUaW1lb3V0IiwiaW5pdGlhbGl6ZSIsIm5vdyIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiaGFzV2FsbGV0Q2xpZW50IiwidGFyZ2V0Q2hhaW5JZCIsInRpbWVTaW5jZUxhc3RBdHRlbXB0IiwicHJldiIsImlzQ29ubmVjdGVkVG9XYWxsZXQiLCJFcnJvciIsImZpbHRlciIsInN0ZXAiLCJpc0NvcnJlY3ROZXR3b3JrIiwiZXhhbU1hbmFnZW1lbnQiLCJhYmkiLCJjbGllbnQiLCJ2ZXJpZmljYXRpb25TdWNjZXNzIiwiaSIsInJlYWQiLCJpc0luc3RpdHV0aW9uIiwiZXJyb3IiLCJ3YXJuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiYmFzZUNvbnRyYWN0IiwiZ2V0SW5zdGl0dXRpb24iLCJnZXRJbnN0aXR1dGlvbkV4YW1zIiwiZ2V0RXhhbVJlc3VsdHMiLCJleGFtSWQiLCJ3cml0ZSIsImV4YW1NYW5hZ2VtZW50V3JpdGUiLCJ1cGRhdGVJbnN0aXR1dGlvblByb2ZpbGUiLCJwYXJhbXMiLCJoYXNoIiwiYXJncyIsIndhaXQiLCJ3YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0Iiwic3VibWl0RXhhbVJlc3VsdHMiLCJyZWdpc3RlclN0dWRlbnRzIiwidXBkYXRlRXhhbVN0YXR1cyIsImNyZWF0ZUV4YW0iLCJpc3N1ZUNlcnRpZmljYXRlIiwiZGVsYXkiLCJNYXRoIiwibWluIiwicG93IiwibWVzc2FnZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkdXJhdGlvbiIsImlzQ2xvc2FibGUiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJldGhlcmV1bSIsIm9uIiwiaGFuZGxlQ2hhaW5DaGFuZ2VkIiwibmV3Q2hhaW5JZCIsInRvU3RyaW5nIiwicmVtb3ZlTGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useContract.ts\n"));

/***/ })

});