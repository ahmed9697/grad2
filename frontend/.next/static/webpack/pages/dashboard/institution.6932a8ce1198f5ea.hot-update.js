"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard/institution",{

/***/ "./hooks/useContract.ts":
/*!******************************!*\
  !*** ./hooks/useContract.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useContract: function() { return /* binding */ useContract; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wagmi */ \"./node_modules/wagmi/dist/esm/exports/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"./node_modules/viem/_esm/index.js\");\n/* harmony import */ var _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/ExamManagement.json */ \"./contracts/ExamManagement.json\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n\n\n\n\n\nconst EXAM_MANAGEMENT_ADDRESS = \"0x15B70b2C305c684Ef6335b64b0CA430e481c3ac5\" || 0;\nconst CERTIFICATES_ADDRESS = \"0x91F73a8778C82983253fEC5C0a63f87beA461AFd\" || 0;\nconst EXAMINATIONS_ADDRESS = \"0x1cE1DF501cF629b04c6B647e5A7BDE8245BcE02A\" || 0;\nconst IDENTITY_ADDRESS = \"0xb8F6dE405c3A2876d0a14Fa08Ee5D92793bFbbA1\" || 0;\nconst SECURITY_UTILS_ADDRESS = \"0x705D62Df2879E56545e9A9A6381c6a8e200e390c\" || 0;\nconst TARGET_CHAIN_ID = 1337; // Local network chain ID\nconst useContract = ()=>{\n    const { address: account } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useAccount)();\n    const publicClient = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.usePublicClient)();\n    const { data: walletClient } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useWalletClient)();\n    const chainId = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useChainId)();\n    const { connect } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useConnect)();\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        examManagementContract: null,\n        certificatesContract: null,\n        examinationsContract: null,\n        identityContract: null,\n        securityUtilsContract: null,\n        isConnected: false,\n        isInitialized: false,\n        isLoading: false,\n        networkSwitchAttempted: false,\n        initializationAttempted: false,\n        initializationError: null\n    });\n    // Single effect to handle both network validation and contract initialization\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        let switchAttempts = 0;\n        const MAX_SWITCH_ATTEMPTS = 3;\n        const verifyNetwork = async (expectedChainId)=>{\n            try {\n                const currentChainId = await (publicClient === null || publicClient === void 0 ? void 0 : publicClient.getChainId());\n                if (typeof currentChainId === \"undefined\") {\n                    console.error(\"Unable to get chain ID\");\n                    return false;\n                }\n                console.log(\"Verifying network - Current: \".concat(currentChainId, \", Expected: \").concat(expectedChainId));\n                return currentChainId === expectedChainId;\n            } catch (error) {\n                console.error(\"Network verification error:\", error);\n                return false;\n            }\n        };\n        const waitForNetworkSwitch = async (expectedChainId)=>{\n            return new Promise((resolve, reject)=>{\n                var _window_ethereum;\n                let attempts = 0;\n                const maxAttempts = 15; // Increased max attempts\n                const checkInterval = 2000; // 2 seconds between checks\n                let intervalId;\n                let timeoutId;\n                // Setup network change listener\n                const handleNetworkChange = async (newChainId)=>{\n                    const newChainIdDecimal = parseInt(newChainId, 16);\n                    console.log(\"Network changed to:\", newChainIdDecimal);\n                    if (newChainIdDecimal === expectedChainId) {\n                        cleanup();\n                        resolve();\n                    }\n                };\n                // Setup interval check\n                const checkNetwork = async ()=>{\n                    const isCorrect = await verifyNetwork(expectedChainId);\n                    console.log(\"Network check attempt \".concat(attempts + 1, \"/\").concat(maxAttempts));\n                    if (isCorrect) {\n                        cleanup();\n                        resolve();\n                        return;\n                    }\n                    attempts++;\n                    if (attempts >= maxAttempts) {\n                        cleanup();\n                        reject(new Error(\"فشل في التحقق من تبديل الشبكة | Network switch verification timeout\"));\n                    }\n                };\n                // Cleanup function\n                const cleanup = ()=>{\n                    var _window_ethereum;\n                    if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.removeListener) {\n                        window.ethereum.removeListener(\"chainChanged\", handleNetworkChange);\n                    }\n                    if (intervalId) clearInterval(intervalId);\n                    if (timeoutId) clearTimeout(timeoutId);\n                };\n                // Start listening for network changes\n                if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.on) {\n                    window.ethereum.on(\"chainChanged\", handleNetworkChange);\n                }\n                // Start interval checks\n                intervalId = setInterval(checkNetwork, checkInterval);\n                // Initial check\n                checkNetwork();\n                // Set overall timeout\n                timeoutId = setTimeout(()=>{\n                    cleanup();\n                    reject(new Error(\"تجاوز الوقت المحدد لتبديل الشبكة | Network switch timeout exceeded\"));\n                }, maxAttempts * checkInterval + 5000); // Total timeout = maxAttempts * interval + 5 seconds buffer\n            });\n        };\n        const switchNetwork = async ()=>{\n            if (!window.ethereum) {\n                throw new Error(\"MetaMask غير مثبت | MetaMask is not installed\");\n            }\n            try {\n                console.log(\"Attempting to switch network...\");\n                // First try to switch\n                try {\n                    await window.ethereum.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [\n                            {\n                                chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16))\n                            }\n                        ]\n                    });\n                } catch (switchError) {\n                    // If network doesn't exist, add it\n                    if (switchError.code === 4902) {\n                        console.log(\"Network not found, adding...\");\n                        await window.ethereum.request({\n                            method: \"wallet_addEthereumChain\",\n                            params: [\n                                {\n                                    chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16)),\n                                    chainName: \"Ganache Local\",\n                                    rpcUrls: [\n                                        \"http://127.0.0.1:7545\"\n                                    ],\n                                    nativeCurrency: {\n                                        name: \"ETH\",\n                                        symbol: \"ETH\",\n                                        decimals: 18\n                                    }\n                                }\n                            ]\n                        });\n                    } else {\n                        throw switchError;\n                    }\n                }\n                // Wait for network switch to complete\n                console.log(\"Waiting for network switch to complete...\");\n                await waitForNetworkSwitch(TARGET_CHAIN_ID);\n                console.log(\"Network switch completed successfully\");\n            } catch (error) {\n                console.error(\"Network switch failed:\", error);\n                throw error;\n            }\n        };\n        const initializeContracts = async ()=>{\n            if (!isMounted || !account || !walletClient || !publicClient) {\n                console.log(\"Waiting for dependencies...\", {\n                    hasAccount: !!account,\n                    hasWalletClient: !!walletClient,\n                    hasPublicClient: !!publicClient\n                });\n                return;\n            }\n            setState((prev)=>({\n                    ...prev,\n                    isLoading: true\n                }));\n            try {\n                // 1. Network Validation\n                const isCorrectNetwork = await verifyNetwork(TARGET_CHAIN_ID);\n                if (!isCorrectNetwork) {\n                    if (switchAttempts >= MAX_SWITCH_ATTEMPTS) {\n                        throw new Error(\"تجاوز الحد الأقصى لمحاولات تبديل الشبكة | Maximum network switch attempts exceeded\");\n                    }\n                    switchAttempts++;\n                    console.log(\"Attempting network switch (\".concat(switchAttempts, \"/\").concat(MAX_SWITCH_ATTEMPTS, \")...\"));\n                    await switchNetwork();\n                    // After successful switch, verify one more time\n                    const finalCheck = await verifyNetwork(TARGET_CHAIN_ID);\n                    if (!finalCheck) {\n                        throw new Error(\"فشل في التحقق النهائي من الشبكة | Final network verification failed\");\n                    }\n                }\n                // 2. Contract Initialization\n                if (!EXAM_MANAGEMENT_ADDRESS) {\n                    throw new Error(\"عنوان العقد غير متوفر | Contract address not available\");\n                }\n                console.log(\"Verifying contract deployment...\");\n                const code = await publicClient.getBytecode({\n                    address: EXAM_MANAGEMENT_ADDRESS\n                });\n                if (!code || code === \"0x\") {\n                    throw new Error(\"العقد غير موجود على هذا العنوان | Contract not found at address\");\n                }\n                console.log(\"Initializing contract...\");\n                const examManagement = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                    address: EXAM_MANAGEMENT_ADDRESS,\n                    abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                    client: publicClient\n                });\n                // Create contract interface with write methods\n                const contract = {\n                    isInstitution: async (address)=>{\n                        return await examManagement.read.isInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitution: async (address)=>{\n                        return await examManagement.read.getInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitutionExams: async (address)=>{\n                        return await examManagement.read.getInstitutionExams([\n                            address\n                        ]);\n                    },\n                    getExamResults: async (examId)=>{\n                        return await examManagement.read.getExamResults([\n                            examId\n                        ]);\n                    },\n                    write: {\n                        updateInstitutionProfile: async (params)=>{\n                            const hash = await examManagement.write.updateInstitutionProfile(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        submitExamResults: async (params)=>{\n                            const hash = await examManagement.write.submitExamResults(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        registerStudents: async (params)=>{\n                            const hash = await examManagement.write.registerStudents(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        updateExamStatus: async (params)=>{\n                            const hash = await examManagement.write.updateExamStatus(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        createExam: async (params)=>{\n                            const hash = await examManagement.write.createExam(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        },\n                        issueCertificate: async (params)=>{\n                            const hash = await examManagement.write.issueCertificate(params.args);\n                            return {\n                                wait: async ()=>{\n                                    await publicClient.waitForTransactionReceipt({\n                                        hash\n                                    });\n                                }\n                            };\n                        }\n                    }\n                };\n                // Test contract\n                try {\n                    await contract.isInstitution(account);\n                    console.log(\"Contract test successful\");\n                } catch (error) {\n                    console.error(\"Contract test failed:\", error);\n                    throw new Error(\"فشل في الاتصال بالعقد | Contract connection failed\");\n                }\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            examManagementContract: contract,\n                            isConnected: true,\n                            isInitialized: true,\n                            isLoading: false,\n                            initializationError: null\n                        }));\n                    console.log(\"Contract initialization complete\");\n                }\n            } catch (error) {\n                console.error(\"Initialization error:\", error);\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            isLoading: false,\n                            isInitialized: false,\n                            initializationError: error instanceof Error ? error.message : \"Unknown error\"\n                        }));\n                    toast({\n                        title: \"خطأ في التهيئة | Initialization Error\",\n                        description: error instanceof Error ? \"\".concat(error.message, \" | يرجى التأكد من اتصال المحفظة والشبكة الصحيحة\") : \"حدث خطأ غير معروف | An unknown error occurred\",\n                        status: \"error\",\n                        duration: 5000,\n                        isClosable: true\n                    });\n                }\n            }\n        };\n        initializeContracts();\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        account,\n        walletClient,\n        publicClient,\n        toast\n    ]);\n    // Handle network changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _window_ethereum;\n        if ( true && ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.on)) {\n            const handleChainChanged = ()=>{\n                console.log(\"Network changed, resetting state...\");\n                setState((prev)=>({\n                        ...prev,\n                        examManagementContract: null,\n                        certificatesContract: null,\n                        examinationsContract: null,\n                        identityContract: null,\n                        securityUtilsContract: null,\n                        isInitialized: false,\n                        isConnected: false,\n                        isLoading: false,\n                        initializationError: null\n                    }));\n            };\n            window.ethereum.on(\"chainChanged\", handleChainChanged);\n            return ()=>{\n                var _window_ethereum;\n                if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.removeListener) {\n                    window.ethereum.removeListener(\"chainChanged\", handleChainChanged);\n                }\n            };\n        }\n    }, []);\n    return {\n        examManagementContract: state.examManagementContract,\n        certificatesContract: state.certificatesContract,\n        examinationsContract: state.examinationsContract,\n        identityContract: state.identityContract,\n        securityUtilsContract: state.securityUtilsContract,\n        account,\n        isConnected: state.isConnected,\n        isInitialized: state.isInitialized,\n        isLoading: state.isLoading,\n        isCorrectNetwork: chainId === TARGET_CHAIN_ID,\n        initializationError: state.initializationError\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUM7Z0JBQ1pyQixTQUFTZ0UsQ0FBQUEsT0FBUzt3QkFDaEIsR0FBR0EsSUFBSTt3QkFDUC9ELHdCQUF3Qjt3QkFDeEJDLHNCQUFzQjt3QkFDdEJDLHNCQUFzQjt3QkFDdEJDLGtCQUFrQjt3QkFDbEJDLHVCQUF1Qjt3QkFDdkJFLGVBQWU7d0JBQ2ZELGFBQWE7d0JBQ2JFLFdBQVc7d0JBQ1hHLHFCQUFxQjtvQkFDdkI7WUFDRjtZQUVBZSxPQUFPYyxRQUFRLENBQUNJLEVBQUUsQ0FBQyxnQkFBZ0JtRDtZQUNuQyxPQUFPO29CQUNEckU7Z0JBQUosS0FBSUEsbUJBQUFBLE9BQU9jLFFBQVEsY0FBZmQsdUNBQUFBLGlCQUFpQmUsY0FBYyxFQUFFO29CQUNuQ2YsT0FBT2MsUUFBUSxDQUFDQyxjQUFjLENBQUMsZ0JBQWdCc0Q7Z0JBQ2pEO1lBQ0Y7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFDTDlGLHdCQUF3QkYsTUFBTUUsc0JBQXNCO1FBQ3BEQyxzQkFBc0JILE1BQU1HLG9CQUFvQjtRQUNoREMsc0JBQXNCSixNQUFNSSxvQkFBb0I7UUFDaERDLGtCQUFrQkwsTUFBTUssZ0JBQWdCO1FBQ3hDQyx1QkFBdUJOLE1BQU1NLHFCQUFxQjtRQUNsRGI7UUFDQWMsYUFBYVAsTUFBTU8sV0FBVztRQUM5QkMsZUFBZVIsTUFBTVEsYUFBYTtRQUNsQ0MsV0FBV1QsTUFBTVMsU0FBUztRQUMxQnlELGtCQUFrQnJFLFlBQVlQO1FBQzlCc0IscUJBQXFCWixNQUFNWSxtQkFBbUI7SUFDaEQ7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZUNvbnRyYWN0LnRzPzRmMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUFjY291bnQsIHVzZVB1YmxpY0NsaWVudCwgdXNlV2FsbGV0Q2xpZW50LCB1c2VDaGFpbklkLCB1c2VDb25uZWN0IH0gZnJvbSAnd2FnbWknO1xuaW1wb3J0IHsgZ2V0Q29udHJhY3QgfSBmcm9tICd2aWVtJztcbmltcG9ydCBFeGFtTWFuYWdlbWVudEFCSSBmcm9tICcuLi9jb250cmFjdHMvRXhhbU1hbmFnZW1lbnQuanNvbic7XG5pbXBvcnQgQ2VydGlmaWNhdGVzQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9DZXJ0aWZpY2F0ZXMuanNvbic7XG5pbXBvcnQgRXhhbWluYXRpb25zQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9FeGFtaW5hdGlvbnMuanNvbic7XG5pbXBvcnQgSWRlbnRpdHlBQkkgZnJvbSAnLi4vY29udHJhY3RzL0lkZW50aXR5Lmpzb24nO1xuaW1wb3J0IFNlY3VyaXR5VXRpbHNBQkkgZnJvbSAnLi4vY29udHJhY3RzL1NlY3VyaXR5VXRpbHMuanNvbic7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnO1xuXG5jb25zdCBFWEFNX01BTkFHRU1FTlRfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VYQU1fTUFOQUdFTUVOVF9DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgQ0VSVElGSUNBVEVTX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DRVJUSUZJQ0FURVNfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IEVYQU1JTkFUSU9OU19BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRVhBTUlOQVRJT05TX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBJREVOVElUWV9BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IFNFQ1VSSVRZX1VUSUxTX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TRUNVUklUWV9VVElMU19DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgVEFSR0VUX0NIQUlOX0lEID0gMTMzNzsgLy8gTG9jYWwgbmV0d29yayBjaGFpbiBJRFxuXG5pbnRlcmZhY2UgRXhhbU1hbmFnZW1lbnRDb250cmFjdCB7XG4gIGlzSW5zdGl0dXRpb246IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8Ym9vbGVhbj47XG4gIGdldEluc3RpdHV0aW9uOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGFueT47XG4gIGdldEluc3RpdHV0aW9uRXhhbXM6IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuICBnZXRFeGFtUmVzdWx0czogKGV4YW1JZDogc3RyaW5nKSA9PiBQcm9taXNlPGFueVtdPjtcbiAgcHJvdmlkZXI/OiBhbnk7XG4gIHJ1bm5lcj86IGFueTtcbiAgd3JpdGU6IHtcbiAgICB1cGRhdGVJbnN0aXR1dGlvblByb2ZpbGU6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtcbiAgICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgICBtaW5pc3RyeTogc3RyaW5nLFxuICAgICAgICB1bml2ZXJzaXR5OiBzdHJpbmcsXG4gICAgICAgIGNvbGxlZ2U6IHN0cmluZyxcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICAgICAgbG9nbzogc3RyaW5nLFxuICAgICAgICB3ZWJzaXRlOiBzdHJpbmcsXG4gICAgICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgICAgIHBob25lOiBzdHJpbmdcbiAgICAgIF1cbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICBzdWJtaXRFeGFtUmVzdWx0czogKHBhcmFtczoge1xuICAgICAgYXJnczogW2V4YW1JZDogc3RyaW5nLCByZXN1bHRzOiBhbnlbXV0sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgcmVnaXN0ZXJTdHVkZW50czogKHBhcmFtczoge1xuICAgICAgYXJnczogW2V4YW1JZDogc3RyaW5nLCBzdHVkZW50czogc3RyaW5nW11dLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIHVwZGF0ZUV4YW1TdGF0dXM6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIGNyZWF0ZUV4YW06IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFt0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBkYXRlOiBudW1iZXJdLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIGlzc3VlQ2VydGlmaWNhdGU6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtzdHVkZW50OiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgQ2VydGlmaWNhdGVzQ29udHJhY3Qge1xuICBnZXRJbnN0aXR1dGlvbkNlcnRpZmljYXRlczogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxhbnlbXT47XG4gIHdyaXRlOiB7XG4gICAgaXNzdWVDZXJ0aWZpY2F0ZTogKHBhcmFtczoge1xuICAgICAgYXJnczogW3N0dWRlbnRBZGRyZXNzOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIGRlc2NyaXB0aW9uOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgRXhhbWluYXRpb25zQ29udHJhY3Qge1xuICAvLyBBZGQgZXhhbWluYXRpb24gY29udHJhY3QgbWV0aG9kcyBoZXJlXG4gIHdyaXRlOiB7XG4gICAgY3JlYXRlRXhhbWluYXRpb246IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtpcGZzSGFzaDogc3RyaW5nLCBzdGFydFRpbWU6IG51bWJlciwgZW5kVGltZTogbnVtYmVyXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICByZWdpc3RlckZvckV4YW06IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmludGVyZmFjZSBJZGVudGl0eUNvbnRyYWN0IHtcbiAgLy8gQWRkIGlkZW50aXR5IGNvbnRyYWN0IG1ldGhvZHMgaGVyZVxuICB3cml0ZToge1xuICAgIHJlZ2lzdGVySWRlbnRpdHk6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgU2VjdXJpdHlVdGlsc0NvbnRyYWN0IHtcbiAgLy8gQWRkIHNlY3VyaXR5IHV0aWxzIGNvbnRyYWN0IG1ldGhvZHMgaGVyZVxuICB3cml0ZToge1xuICAgIHZlcmlmeUhhc2g6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtoYXNoOiBzdHJpbmcsIHNpZ25hdHVyZTogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUNvbnRyYWN0ID0gKCkgPT4ge1xuICBjb25zdCB7IGFkZHJlc3M6IGFjY291bnQgfSA9IHVzZUFjY291bnQoKTtcbiAgY29uc3QgcHVibGljQ2xpZW50ID0gdXNlUHVibGljQ2xpZW50KCk7XG4gIGNvbnN0IHsgZGF0YTogd2FsbGV0Q2xpZW50IH0gPSB1c2VXYWxsZXRDbGllbnQoKTtcbiAgY29uc3QgY2hhaW5JZCA9IHVzZUNoYWluSWQoKTtcbiAgY29uc3QgeyBjb25uZWN0IH0gPSB1c2VDb25uZWN0KCk7XG4gIGNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKTtcbiAgXG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xuICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IG51bGwgYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdCB8IG51bGwsXG4gICAgY2VydGlmaWNhdGVzQ29udHJhY3Q6IG51bGwgYXMgQ2VydGlmaWNhdGVzQ29udHJhY3QgfCBudWxsLFxuICAgIGV4YW1pbmF0aW9uc0NvbnRyYWN0OiBudWxsIGFzIEV4YW1pbmF0aW9uc0NvbnRyYWN0IHwgbnVsbCxcbiAgICBpZGVudGl0eUNvbnRyYWN0OiBudWxsIGFzIElkZW50aXR5Q29udHJhY3QgfCBudWxsLFxuICAgIHNlY3VyaXR5VXRpbHNDb250cmFjdDogbnVsbCBhcyBTZWN1cml0eVV0aWxzQ29udHJhY3QgfCBudWxsLFxuICAgIGlzQ29ubmVjdGVkOiBmYWxzZSxcbiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgIG5ldHdvcmtTd2l0Y2hBdHRlbXB0ZWQ6IGZhbHNlLFxuICAgIGluaXRpYWxpemF0aW9uQXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsIGFzIHN0cmluZyB8IG51bGxcbiAgfSk7XG5cbiAgLy8gU2luZ2xlIGVmZmVjdCB0byBoYW5kbGUgYm90aCBuZXR3b3JrIHZhbGlkYXRpb24gYW5kIGNvbnRyYWN0IGluaXRpYWxpemF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgbGV0IHN3aXRjaEF0dGVtcHRzID0gMDtcbiAgICBjb25zdCBNQVhfU1dJVENIX0FUVEVNUFRTID0gMztcblxuICAgIGNvbnN0IHZlcmlmeU5ldHdvcmsgPSBhc3luYyAoZXhwZWN0ZWRDaGFpbklkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDaGFpbklkID0gYXdhaXQgcHVibGljQ2xpZW50Py5nZXRDaGFpbklkKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudENoYWluSWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGdldCBjaGFpbiBJRCcpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhgVmVyaWZ5aW5nIG5ldHdvcmsgLSBDdXJyZW50OiAke2N1cnJlbnRDaGFpbklkfSwgRXhwZWN0ZWQ6ICR7ZXhwZWN0ZWRDaGFpbklkfWApO1xuICAgICAgICByZXR1cm4gY3VycmVudENoYWluSWQgPT09IGV4cGVjdGVkQ2hhaW5JZDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05ldHdvcmsgdmVyaWZpY2F0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB3YWl0Rm9yTmV0d29ya1N3aXRjaCA9IGFzeW5jIChleHBlY3RlZENoYWluSWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAxNTsgLy8gSW5jcmVhc2VkIG1heCBhdHRlbXB0c1xuICAgICAgICBjb25zdCBjaGVja0ludGVydmFsID0gMjAwMDsgLy8gMiBzZWNvbmRzIGJldHdlZW4gY2hlY2tzXG4gICAgICAgIGxldCBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dDtcbiAgICAgICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgICAgICAgLy8gU2V0dXAgbmV0d29yayBjaGFuZ2UgbGlzdGVuZXJcbiAgICAgICAgY29uc3QgaGFuZGxlTmV0d29ya0NoYW5nZSA9IGFzeW5jIChuZXdDaGFpbklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdDaGFpbklkRGVjaW1hbCA9IHBhcnNlSW50KG5ld0NoYWluSWQsIDE2KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBjaGFuZ2VkIHRvOicsIG5ld0NoYWluSWREZWNpbWFsKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAobmV3Q2hhaW5JZERlY2ltYWwgPT09IGV4cGVjdGVkQ2hhaW5JZCkge1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTZXR1cCBpbnRlcnZhbCBjaGVja1xuICAgICAgICBjb25zdCBjaGVja05ldHdvcmsgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaXNDb3JyZWN0ID0gYXdhaXQgdmVyaWZ5TmV0d29yayhleHBlY3RlZENoYWluSWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBOZXR3b3JrIGNoZWNrIGF0dGVtcHQgJHthdHRlbXB0cyArIDF9LyR7bWF4QXR0ZW1wdHN9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCfZgdi02YQg2YHZiiDYp9mE2KrYrdmC2YIg2YXZhiDYqtio2K/ZitmEINin2YTYtNio2YPYqSB8IE5ldHdvcmsgc3dpdGNoIHZlcmlmaWNhdGlvbiB0aW1lb3V0JykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5ldGhlcmV1bT8ucmVtb3ZlTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVMaXN0ZW5lcignY2hhaW5DaGFuZ2VkJywgaGFuZGxlTmV0d29ya0NoYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnRlcnZhbElkKSBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgICAgIGlmICh0aW1lb3V0SWQpIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgbmV0d29yayBjaGFuZ2VzXG4gICAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0/Lm9uKSB7XG4gICAgICAgICAgd2luZG93LmV0aGVyZXVtLm9uKCdjaGFpbkNoYW5nZWQnLCBoYW5kbGVOZXR3b3JrQ2hhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IGludGVydmFsIGNoZWNrc1xuICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoY2hlY2tOZXR3b3JrLCBjaGVja0ludGVydmFsKTtcblxuICAgICAgICAvLyBJbml0aWFsIGNoZWNrXG4gICAgICAgIGNoZWNrTmV0d29yaygpO1xuXG4gICAgICAgIC8vIFNldCBvdmVyYWxsIHRpbWVvdXRcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ9iq2KzYp9mI2LIg2KfZhNmI2YLYqiDYp9mE2YXYrdiv2K8g2YTYqtio2K/ZitmEINin2YTYtNio2YPYqSB8IE5ldHdvcmsgc3dpdGNoIHRpbWVvdXQgZXhjZWVkZWQnKSk7XG4gICAgICAgIH0sIG1heEF0dGVtcHRzICogY2hlY2tJbnRlcnZhbCArIDUwMDApOyAvLyBUb3RhbCB0aW1lb3V0ID0gbWF4QXR0ZW1wdHMgKiBpbnRlcnZhbCArIDUgc2Vjb25kcyBidWZmZXJcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzd2l0Y2hOZXR3b3JrID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhTWFzayDYutmK2LEg2YXYq9io2KogfCBNZXRhTWFzayBpcyBub3QgaW5zdGFsbGVkJyk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHN3aXRjaCBuZXR3b3JrLi4uJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaXJzdCB0cnkgdG8gc3dpdGNoXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiBgMHgke1RBUkdFVF9DSEFJTl9JRC50b1N0cmluZygxNil9YCB9XVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChzd2l0Y2hFcnJvcjogYW55KSB7XG4gICAgICAgICAgLy8gSWYgbmV0d29yayBkb2Vzbid0IGV4aXN0LCBhZGQgaXRcbiAgICAgICAgICBpZiAoc3dpdGNoRXJyb3IuY29kZSA9PT0gNDkwMikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05ldHdvcmsgbm90IGZvdW5kLCBhZGRpbmcuLi4nKTtcbiAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnd2FsbGV0X2FkZEV0aGVyZXVtQ2hhaW4nLFxuICAgICAgICAgICAgICBwYXJhbXM6IFt7XG4gICAgICAgICAgICAgICAgY2hhaW5JZDogYDB4JHtUQVJHRVRfQ0hBSU5fSUQudG9TdHJpbmcoMTYpfWAsXG4gICAgICAgICAgICAgICAgY2hhaW5OYW1lOiAnR2FuYWNoZSBMb2NhbCcsXG4gICAgICAgICAgICAgICAgcnBjVXJsczogWydodHRwOi8vMTI3LjAuMC4xOjc1NDUnXSxcbiAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeToge1xuICAgICAgICAgICAgICAgICAgbmFtZTogJ0VUSCcsXG4gICAgICAgICAgICAgICAgICBzeW1ib2w6ICdFVEgnLFxuICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IHN3aXRjaEVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdhaXQgZm9yIG5ldHdvcmsgc3dpdGNoIHRvIGNvbXBsZXRlXG4gICAgICAgIGNvbnNvbGUubG9nKCdXYWl0aW5nIGZvciBuZXR3b3JrIHN3aXRjaCB0byBjb21wbGV0ZS4uLicpO1xuICAgICAgICBhd2FpdCB3YWl0Rm9yTmV0d29ya1N3aXRjaChUQVJHRVRfQ0hBSU5fSUQpO1xuICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBzd2l0Y2ggY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTmV0d29yayBzd2l0Y2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRpYWxpemVDb250cmFjdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIWlzTW91bnRlZCB8fCAhYWNjb3VudCB8fCAhd2FsbGV0Q2xpZW50IHx8ICFwdWJsaWNDbGllbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1dhaXRpbmcgZm9yIGRlcGVuZGVuY2llcy4uLicsIHtcbiAgICAgICAgICBoYXNBY2NvdW50OiAhIWFjY291bnQsXG4gICAgICAgICAgaGFzV2FsbGV0Q2xpZW50OiAhIXdhbGxldENsaWVudCxcbiAgICAgICAgICBoYXNQdWJsaWNDbGllbnQ6ICEhcHVibGljQ2xpZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHsgLi4ucHJldiwgaXNMb2FkaW5nOiB0cnVlIH0pKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gMS4gTmV0d29yayBWYWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IGlzQ29ycmVjdE5ldHdvcmsgPSBhd2FpdCB2ZXJpZnlOZXR3b3JrKFRBUkdFVF9DSEFJTl9JRCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzQ29ycmVjdE5ldHdvcmspIHtcbiAgICAgICAgICBpZiAoc3dpdGNoQXR0ZW1wdHMgPj0gTUFYX1NXSVRDSF9BVFRFTVBUUykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYqtis2KfZiNiyINin2YTYrdivINin2YTYo9mC2LXZiSDZhNmF2K3Yp9mI2YTYp9iqINiq2KjYr9mK2YQg2KfZhNi02KjZg9ipIHwgTWF4aW11bSBuZXR3b3JrIHN3aXRjaCBhdHRlbXB0cyBleGNlZWRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzd2l0Y2hBdHRlbXB0cysrO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIG5ldHdvcmsgc3dpdGNoICgke3N3aXRjaEF0dGVtcHRzfS8ke01BWF9TV0lUQ0hfQVRURU1QVFN9KS4uLmApO1xuICAgICAgICAgIGF3YWl0IHN3aXRjaE5ldHdvcmsoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZnRlciBzdWNjZXNzZnVsIHN3aXRjaCwgdmVyaWZ5IG9uZSBtb3JlIHRpbWVcbiAgICAgICAgICBjb25zdCBmaW5hbENoZWNrID0gYXdhaXQgdmVyaWZ5TmV0d29yayhUQVJHRVRfQ0hBSU5fSUQpO1xuICAgICAgICAgIGlmICghZmluYWxDaGVjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZgdi02YQg2YHZiiDYp9mE2KrYrdmC2YIg2KfZhNmG2YfYp9im2Yog2YXZhiDYp9mE2LTYqNmD2KkgfCBGaW5hbCBuZXR3b3JrIHZlcmlmaWNhdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBDb250cmFjdCBJbml0aWFsaXphdGlvblxuICAgICAgICBpZiAoIUVYQU1fTUFOQUdFTUVOVF9BRERSRVNTKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYudmG2YjYp9mGINin2YTYudmC2K8g2LrZitixINmF2KrZiNmB2LEgfCBDb250cmFjdCBhZGRyZXNzIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdWZXJpZnlpbmcgY29udHJhY3QgZGVwbG95bWVudC4uLicpO1xuICAgICAgICBjb25zdCBjb2RlID0gYXdhaXQgcHVibGljQ2xpZW50LmdldEJ5dGVjb2RlKHsgXG4gICAgICAgICAgYWRkcmVzczogRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MgYXMgYDB4JHtzdHJpbmd9YCBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFjb2RlIHx8IGNvZGUgPT09ICcweCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ9in2YTYudmC2K8g2LrZitixINmF2YjYrNmI2K8g2LnZhNmJINmH2LDYpyDYp9mE2LnZhtmI2KfZhiB8IENvbnRyYWN0IG5vdCBmb3VuZCBhdCBhZGRyZXNzJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGNvbnRyYWN0Li4uJyk7XG4gICAgICAgIGNvbnN0IGV4YW1NYW5hZ2VtZW50ID0gZ2V0Q29udHJhY3Qoe1xuICAgICAgICAgIGFkZHJlc3M6IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIGFzIGAweCR7c3RyaW5nfWAsXG4gICAgICAgICAgYWJpOiBFeGFtTWFuYWdlbWVudEFCSS5hYmksXG4gICAgICAgICAgY2xpZW50OiBwdWJsaWNDbGllbnQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb250cmFjdCBpbnRlcmZhY2Ugd2l0aCB3cml0ZSBtZXRob2RzXG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0ge1xuICAgICAgICAgIGlzSW5zdGl0dXRpb246IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleGFtTWFuYWdlbWVudC5yZWFkLmlzSW5zdGl0dXRpb24oW2FkZHJlc3NdKSBhcyBQcm9taXNlPGJvb2xlYW4+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0SW5zdGl0dXRpb246IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleGFtTWFuYWdlbWVudC5yZWFkLmdldEluc3RpdHV0aW9uKFthZGRyZXNzXSkgYXMgUHJvbWlzZTxhbnk+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0SW5zdGl0dXRpb25FeGFtczogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0SW5zdGl0dXRpb25FeGFtcyhbYWRkcmVzc10pIGFzIFByb21pc2U8YW55W10+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0RXhhbVJlc3VsdHM6IGFzeW5jIChleGFtSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0RXhhbVJlc3VsdHMoW2V4YW1JZF0pIGFzIFByb21pc2U8YW55W10+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd3JpdGU6IHtcbiAgICAgICAgICAgIHVwZGF0ZUluc3RpdHV0aW9uUHJvZmlsZTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBleGFtTWFuYWdlbWVudC53cml0ZS51cGRhdGVJbnN0aXR1dGlvblByb2ZpbGUocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Ym1pdEV4YW1SZXN1bHRzOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50LndyaXRlLnN1Ym1pdEV4YW1SZXN1bHRzKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3RlclN0dWRlbnRzOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50LndyaXRlLnJlZ2lzdGVyU3R1ZGVudHMocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZUV4YW1TdGF0dXM6IGFzeW5jIChwYXJhbXM6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgZXhhbU1hbmFnZW1lbnQud3JpdGUudXBkYXRlRXhhbVN0YXR1cyhwYXJhbXMuYXJncyk7XG4gICAgICAgICAgICAgIHJldHVybiB7IHdhaXQ6IGFzeW5jICgpID0+IHsgYXdhaXQgcHVibGljQ2xpZW50LndhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHQoeyBoYXNoIH0pOyB9IH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlRXhhbTogYXN5bmMgKHBhcmFtczogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBleGFtTWFuYWdlbWVudC53cml0ZS5jcmVhdGVFeGFtKHBhcmFtcy5hcmdzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgd2FpdDogYXN5bmMgKCkgPT4geyBhd2FpdCBwdWJsaWNDbGllbnQud2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdCh7IGhhc2ggfSk7IH0gfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc3N1ZUNlcnRpZmljYXRlOiBhc3luYyAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IGV4YW1NYW5hZ2VtZW50LndyaXRlLmlzc3VlQ2VydGlmaWNhdGUocGFyYW1zLmFyZ3MpO1xuICAgICAgICAgICAgICByZXR1cm4geyB3YWl0OiBhc3luYyAoKSA9PiB7IGF3YWl0IHB1YmxpY0NsaWVudC53YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0KHsgaGFzaCB9KTsgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUZXN0IGNvbnRyYWN0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgY29udHJhY3QuaXNJbnN0aXR1dGlvbihhY2NvdW50KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ29udHJhY3QgdGVzdCBzdWNjZXNzZnVsJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ29udHJhY3QgdGVzdCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2YHYtNmEINmB2Yog2KfZhNin2KrYtdin2YQg2KjYp9mE2LnZgtivIHwgQ29udHJhY3QgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgZXhhbU1hbmFnZW1lbnRDb250cmFjdDogY29udHJhY3QgYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb250cmFjdCBpbml0aWFsaXphdGlvbiBjb21wbGV0ZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25FcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogJ9iu2LfYoyDZgdmKINin2YTYqtmH2YrYptipIHwgSW5pdGlhbGl6YXRpb24gRXJyb3InLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgXG4gICAgICAgICAgICAgID8gYCR7ZXJyb3IubWVzc2FnZX0gfCDZitix2KzZiSDYp9mE2KrYo9mD2K8g2YXZhiDYp9iq2LXYp9mEINin2YTZhdit2YHYuNipINmI2KfZhNi02KjZg9ipINin2YTYtdit2YrYrdipYFxuICAgICAgICAgICAgICA6ICfYrdiv2Ksg2K7Yt9ijINi62YrYsSDZhdi52LHZiNmBIHwgQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZUNvbnRyYWN0cygpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFthY2NvdW50LCB3YWxsZXRDbGllbnQsIHB1YmxpY0NsaWVudCwgdG9hc3RdKTtcblxuICAvLyBIYW5kbGUgbmV0d29yayBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bT8ub24pIHtcbiAgICAgIGNvbnN0IGhhbmRsZUNoYWluQ2hhbmdlZCA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ05ldHdvcmsgY2hhbmdlZCwgcmVzZXR0aW5nIHN0YXRlLi4uJyk7XG4gICAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgY2VydGlmaWNhdGVzQ29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgZXhhbWluYXRpb25zQ29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgaWRlbnRpdHlDb250cmFjdDogbnVsbCxcbiAgICAgICAgICBzZWN1cml0eVV0aWxzQ29udHJhY3Q6IG51bGwsXG4gICAgICAgICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgaW5pdGlhbGl6YXRpb25FcnJvcjogbnVsbFxuICAgICAgICB9KSk7XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuZXRoZXJldW0ub24oJ2NoYWluQ2hhbmdlZCcsIGhhbmRsZUNoYWluQ2hhbmdlZCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAod2luZG93LmV0aGVyZXVtPy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgIHdpbmRvdy5ldGhlcmV1bS5yZW1vdmVMaXN0ZW5lcignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIGV4YW1NYW5hZ2VtZW50Q29udHJhY3Q6IHN0YXRlLmV4YW1NYW5hZ2VtZW50Q29udHJhY3QsXG4gICAgY2VydGlmaWNhdGVzQ29udHJhY3Q6IHN0YXRlLmNlcnRpZmljYXRlc0NvbnRyYWN0LFxuICAgIGV4YW1pbmF0aW9uc0NvbnRyYWN0OiBzdGF0ZS5leGFtaW5hdGlvbnNDb250cmFjdCxcbiAgICBpZGVudGl0eUNvbnRyYWN0OiBzdGF0ZS5pZGVudGl0eUNvbnRyYWN0LFxuICAgIHNlY3VyaXR5VXRpbHNDb250cmFjdDogc3RhdGUuc2VjdXJpdHlVdGlsc0NvbnRyYWN0LFxuICAgIGFjY291bnQsXG4gICAgaXNDb25uZWN0ZWQ6IHN0YXRlLmlzQ29ubmVjdGVkLFxuICAgIGlzSW5pdGlhbGl6ZWQ6IHN0YXRlLmlzSW5pdGlhbGl6ZWQsXG4gICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgaXNDb3JyZWN0TmV0d29yazogY2hhaW5JZCA9PT0gVEFSR0VUX0NIQUlOX0lELFxuICAgIGluaXRpYWxpemF0aW9uRXJyb3I6IHN0YXRlLmluaXRpYWxpemF0aW9uRXJyb3JcbiAgfTtcbn07ICJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUFjY291bnQiLCJ1c2VQdWJsaWNDbGllbnQiLCJ1c2VXYWxsZXRDbGllbnQiLCJ1c2VDaGFpbklkIiwidXNlQ29ubmVjdCIsImdldENvbnRyYWN0IiwiRXhhbU1hbmFnZW1lbnRBQkkiLCJ1c2VUb2FzdCIsIkVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0VYQU1fTUFOQUdFTUVOVF9DT05UUkFDVF9BRERSRVNTIiwiQ0VSVElGSUNBVEVTX0FERFJFU1MiLCJORVhUX1BVQkxJQ19DRVJUSUZJQ0FURVNfQ09OVFJBQ1RfQUREUkVTUyIsIkVYQU1JTkFUSU9OU19BRERSRVNTIiwiTkVYVF9QVUJMSUNfRVhBTUlOQVRJT05TX0NPTlRSQUNUX0FERFJFU1MiLCJJREVOVElUWV9BRERSRVNTIiwiTkVYVF9QVUJMSUNfSURFTlRJVFlfQ09OVFJBQ1RfQUREUkVTUyIsIlNFQ1VSSVRZX1VUSUxTX0FERFJFU1MiLCJORVhUX1BVQkxJQ19TRUNVUklUWV9VVElMU19DT05UUkFDVF9BRERSRVNTIiwiVEFSR0VUX0NIQUlOX0lEIiwidXNlQ29udHJhY3QiLCJhZGRyZXNzIiwiYWNjb3VudCIsInB1YmxpY0NsaWVudCIsImRhdGEiLCJ3YWxsZXRDbGllbnQiLCJjaGFpbklkIiwiY29ubmVjdCIsInRvYXN0Iiwic3RhdGUiLCJzZXRTdGF0ZSIsImV4YW1NYW5hZ2VtZW50Q29udHJhY3QiLCJjZXJ0aWZpY2F0ZXNDb250cmFjdCIsImV4YW1pbmF0aW9uc0NvbnRyYWN0IiwiaWRlbnRpdHlDb250cmFjdCIsInNlY3VyaXR5VXRpbHNDb250cmFjdCIsImlzQ29ubmVjdGVkIiwiaXNJbml0aWFsaXplZCIsImlzTG9hZGluZyIsIm5ldHdvcmtTd2l0Y2hBdHRlbXB0ZWQiLCJpbml0aWFsaXphdGlvbkF0dGVtcHRlZCIsImluaXRpYWxpemF0aW9uRXJyb3IiLCJpc01vdW50ZWQiLCJzd2l0Y2hBdHRlbXB0cyIsIk1BWF9TV0lUQ0hfQVRURU1QVFMiLCJ2ZXJpZnlOZXR3b3JrIiwiZXhwZWN0ZWRDaGFpbklkIiwiY3VycmVudENoYWluSWQiLCJnZXRDaGFpbklkIiwiY29uc29sZSIsImVycm9yIiwibG9nIiwid2FpdEZvck5ldHdvcmtTd2l0Y2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIndpbmRvdyIsImF0dGVtcHRzIiwibWF4QXR0ZW1wdHMiLCJjaGVja0ludGVydmFsIiwiaW50ZXJ2YWxJZCIsInRpbWVvdXRJZCIsImhhbmRsZU5ldHdvcmtDaGFuZ2UiLCJuZXdDaGFpbklkIiwibmV3Q2hhaW5JZERlY2ltYWwiLCJwYXJzZUludCIsImNsZWFudXAiLCJjaGVja05ldHdvcmsiLCJpc0NvcnJlY3QiLCJFcnJvciIsImV0aGVyZXVtIiwicmVtb3ZlTGlzdGVuZXIiLCJjbGVhckludGVydmFsIiwiY2xlYXJUaW1lb3V0Iiwib24iLCJzZXRJbnRlcnZhbCIsInNldFRpbWVvdXQiLCJzd2l0Y2hOZXR3b3JrIiwicmVxdWVzdCIsIm1ldGhvZCIsInBhcmFtcyIsInRvU3RyaW5nIiwic3dpdGNoRXJyb3IiLCJjb2RlIiwiY2hhaW5OYW1lIiwicnBjVXJscyIsIm5hdGl2ZUN1cnJlbmN5IiwibmFtZSIsInN5bWJvbCIsImRlY2ltYWxzIiwiaW5pdGlhbGl6ZUNvbnRyYWN0cyIsImhhc0FjY291bnQiLCJoYXNXYWxsZXRDbGllbnQiLCJoYXNQdWJsaWNDbGllbnQiLCJwcmV2IiwiaXNDb3JyZWN0TmV0d29yayIsImZpbmFsQ2hlY2siLCJnZXRCeXRlY29kZSIsImV4YW1NYW5hZ2VtZW50IiwiYWJpIiwiY2xpZW50IiwiY29udHJhY3QiLCJpc0luc3RpdHV0aW9uIiwicmVhZCIsImdldEluc3RpdHV0aW9uIiwiZ2V0SW5zdGl0dXRpb25FeGFtcyIsImdldEV4YW1SZXN1bHRzIiwiZXhhbUlkIiwid3JpdGUiLCJ1cGRhdGVJbnN0aXR1dGlvblByb2ZpbGUiLCJoYXNoIiwiYXJncyIsIndhaXQiLCJ3YWl0Rm9yVHJhbnNhY3Rpb25SZWNlaXB0Iiwic3VibWl0RXhhbVJlc3VsdHMiLCJyZWdpc3RlclN0dWRlbnRzIiwidXBkYXRlRXhhbVN0YXR1cyIsImNyZWF0ZUV4YW0iLCJpc3N1ZUNlcnRpZmljYXRlIiwibWVzc2FnZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJkdXJhdGlvbiIsImlzQ2xvc2FibGUiLCJoYW5kbGVDaGFpbkNoYW5nZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useContract.ts\n"));

/***/ })

});