"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/dashboard/institution",{

/***/ "./hooks/useContract.ts":
/*!******************************!*\
  !*** ./hooks/useContract.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useContract: function() { return /* binding */ useContract; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wagmi */ \"./node_modules/wagmi/dist/esm/exports/index.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"./node_modules/viem/_esm/index.js\");\n/* harmony import */ var _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../contracts/ExamManagement.json */ \"./contracts/ExamManagement.json\");\n/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react */ \"./node_modules/@chakra-ui/react/dist/index.mjs\");\n\n\n\n\n\nconst EXAM_MANAGEMENT_ADDRESS = \"0x15B70b2C305c684Ef6335b64b0CA430e481c3ac5\" || 0;\nconst CERTIFICATES_ADDRESS = \"0x91F73a8778C82983253fEC5C0a63f87beA461AFd\" || 0;\nconst EXAMINATIONS_ADDRESS = \"0x1cE1DF501cF629b04c6B647e5A7BDE8245BcE02A\" || 0;\nconst IDENTITY_ADDRESS = \"0xb8F6dE405c3A2876d0a14Fa08Ee5D92793bFbbA1\" || 0;\nconst SECURITY_UTILS_ADDRESS = \"0x705D62Df2879E56545e9A9A6381c6a8e200e390c\" || 0;\nconst TARGET_CHAIN_ID = 1337; // Local network chain ID\nconst useContract = ()=>{\n    const { address: account } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useAccount)();\n    const publicClient = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.usePublicClient)();\n    const { data: walletClient } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useWalletClient)();\n    const chainId = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useChainId)();\n    const { connect } = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useConnect)();\n    const toast = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        examManagementContract: null,\n        certificatesContract: null,\n        examinationsContract: null,\n        identityContract: null,\n        securityUtilsContract: null,\n        isConnected: false,\n        isInitialized: false,\n        isLoading: false,\n        networkSwitchAttempted: false,\n        initializationAttempted: false,\n        initializationError: null\n    });\n    // Single effect to handle both network validation and contract initialization\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isMounted = true;\n        let initTimeout;\n        const initializeContracts = async ()=>{\n            if (!isMounted || !account || !walletClient || !publicClient) {\n                console.log(\"Waiting for dependencies...\", {\n                    hasAccount: !!account,\n                    hasWalletClient: !!walletClient,\n                    hasPublicClient: !!publicClient\n                });\n                return;\n            }\n            setState((prev)=>({\n                    ...prev,\n                    isLoading: true\n                }));\n            try {\n                // 1. Network Validation\n                const network = await publicClient.getChainId();\n                console.log(\"Current network:\", network, \"Expected:\", TARGET_CHAIN_ID);\n                if (network !== TARGET_CHAIN_ID) {\n                    if (!window.ethereum) {\n                        throw new Error(\"MetaMask غير مثبت | MetaMask is not installed\");\n                    }\n                    console.log(\"Switching to local network...\");\n                    try {\n                        // First try to switch\n                        await window.ethereum.request({\n                            method: \"wallet_switchEthereumChain\",\n                            params: [\n                                {\n                                    chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16))\n                                }\n                            ]\n                        });\n                        // Wait for switch to complete\n                        await new Promise((resolve)=>setTimeout(resolve, 3000));\n                        // Verify switch\n                        const newChainId = await publicClient.getChainId();\n                        if (newChainId !== TARGET_CHAIN_ID) {\n                            throw new Error(\"فشل في تبديل الشبكة | Network switch failed\");\n                        }\n                    } catch (switchError) {\n                        // If network doesn't exist, add it\n                        if (switchError.code === 4902) {\n                            console.log(\"Adding local network...\");\n                            await window.ethereum.request({\n                                method: \"wallet_addEthereumChain\",\n                                params: [\n                                    {\n                                        chainId: \"0x\".concat(TARGET_CHAIN_ID.toString(16)),\n                                        chainName: \"Ganache Local\",\n                                        rpcUrls: [\n                                            \"http://127.0.0.1:7545\"\n                                        ],\n                                        nativeCurrency: {\n                                            name: \"ETH\",\n                                            symbol: \"ETH\",\n                                            decimals: 18\n                                        }\n                                    }\n                                ]\n                            });\n                            // Wait for network to be added\n                            await new Promise((resolve)=>setTimeout(resolve, 3000));\n                            // Verify again\n                            const finalChainId = await publicClient.getChainId();\n                            if (finalChainId !== TARGET_CHAIN_ID) {\n                                throw new Error(\"فشل في إضافة الشبكة | Network add failed\");\n                            }\n                        } else {\n                            throw switchError;\n                        }\n                    }\n                }\n                // 2. Contract Initialization\n                if (!EXAM_MANAGEMENT_ADDRESS) {\n                    throw new Error(\"عنوان العقد غير متوفر | Contract address not available\");\n                }\n                console.log(\"Verifying contract deployment...\");\n                const code = await publicClient.getBytecode({\n                    address: EXAM_MANAGEMENT_ADDRESS\n                });\n                if (!code || code === \"0x\") {\n                    throw new Error(\"العقد غير موجود على هذا العنوان | Contract not found at address\");\n                }\n                console.log(\"Initializing contract...\");\n                const examManagement = (0,viem__WEBPACK_IMPORTED_MODULE_4__.getContract)({\n                    address: EXAM_MANAGEMENT_ADDRESS,\n                    abi: _contracts_ExamManagement_json__WEBPACK_IMPORTED_MODULE_1__.abi,\n                    client: publicClient\n                });\n                // Create contract interface\n                const contract = {\n                    isInstitution: async (address)=>{\n                        return await examManagement.read.isInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitution: async (address)=>{\n                        return await examManagement.read.getInstitution([\n                            address\n                        ]);\n                    },\n                    getInstitutionExams: async (address)=>{\n                        return await examManagement.read.getInstitutionExams([\n                            address\n                        ]);\n                    },\n                    getExamResults: async (examId)=>{\n                        return await examManagement.read.getExamResults([\n                            examId\n                        ]);\n                    },\n                    write: {}\n                };\n                // Test contract\n                try {\n                    await contract.isInstitution(account);\n                    console.log(\"Contract test successful\");\n                } catch (error) {\n                    console.error(\"Contract test failed:\", error);\n                    throw new Error(\"فشل في الاتصال بالعقد | Contract connection failed\");\n                }\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            examManagementContract: contract,\n                            isConnected: true,\n                            isInitialized: true,\n                            isLoading: false,\n                            initializationError: null\n                        }));\n                    console.log(\"Contract initialization complete\");\n                }\n            } catch (error) {\n                console.error(\"Initialization error:\", error);\n                if (isMounted) {\n                    setState((prev)=>({\n                            ...prev,\n                            isLoading: false,\n                            isInitialized: false,\n                            initializationError: error instanceof Error ? error.message : \"Unknown error\"\n                        }));\n                    toast({\n                        title: \"خطأ في التهيئة | Initialization Error\",\n                        description: error instanceof Error ? \"\".concat(error.message, \" | يرجى التأكد من اتصال المحفظة والشبكة الصحيحة\") : \"حدث خطأ غير معروف | An unknown error occurred\",\n                        status: \"error\",\n                        duration: 5000,\n                        isClosable: true\n                    });\n                }\n            }\n        };\n        // Start initialization\n        initializeContracts();\n        // Cleanup\n        return ()=>{\n            isMounted = false;\n            if (initTimeout) {\n                clearTimeout(initTimeout);\n            }\n        };\n    }, [\n        account,\n        walletClient,\n        publicClient,\n        toast\n    ]);\n    // Handle network changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        var _window_ethereum;\n        if ( true && ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.on)) {\n            const handleChainChanged = ()=>{\n                console.log(\"Network changed, resetting state...\");\n                setState((prev)=>({\n                        ...prev,\n                        examManagementContract: null,\n                        certificatesContract: null,\n                        examinationsContract: null,\n                        identityContract: null,\n                        securityUtilsContract: null,\n                        isInitialized: false,\n                        isConnected: false,\n                        isLoading: false,\n                        initializationError: null\n                    }));\n            };\n            window.ethereum.on(\"chainChanged\", handleChainChanged);\n            return ()=>{\n                var _window_ethereum;\n                if ((_window_ethereum = window.ethereum) === null || _window_ethereum === void 0 ? void 0 : _window_ethereum.removeListener) {\n                    window.ethereum.removeListener(\"chainChanged\", handleChainChanged);\n                }\n            };\n        }\n    }, []);\n    return {\n        examManagementContract: state.examManagementContract,\n        certificatesContract: state.certificatesContract,\n        examinationsContract: state.examinationsContract,\n        identityContract: state.identityContract,\n        securityUtilsContract: state.securityUtilsContract,\n        account,\n        isConnected: state.isConnected,\n        isInitialized: state.isInitialized,\n        isLoading: state.isLoading,\n        isCorrectNetwork: chainId === TARGET_CHAIN_ID,\n        initializationError: state.initializationError\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW1CO0lBQ2hEO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VDb250cmFjdC50cz80ZjMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VBY2NvdW50LCB1c2VQdWJsaWNDbGllbnQsIHVzZVdhbGxldENsaWVudCwgdXNlQ2hhaW5JZCwgdXNlQ29ubmVjdCB9IGZyb20gJ3dhZ21pJztcbmltcG9ydCB7IGdldENvbnRyYWN0IH0gZnJvbSAndmllbSc7XG5pbXBvcnQgRXhhbU1hbmFnZW1lbnRBQkkgZnJvbSAnLi4vY29udHJhY3RzL0V4YW1NYW5hZ2VtZW50Lmpzb24nO1xuaW1wb3J0IENlcnRpZmljYXRlc0FCSSBmcm9tICcuLi9jb250cmFjdHMvQ2VydGlmaWNhdGVzLmpzb24nO1xuaW1wb3J0IEV4YW1pbmF0aW9uc0FCSSBmcm9tICcuLi9jb250cmFjdHMvRXhhbWluYXRpb25zLmpzb24nO1xuaW1wb3J0IElkZW50aXR5QUJJIGZyb20gJy4uL2NvbnRyYWN0cy9JZGVudGl0eS5qc29uJztcbmltcG9ydCBTZWN1cml0eVV0aWxzQUJJIGZyb20gJy4uL2NvbnRyYWN0cy9TZWN1cml0eVV0aWxzLmpzb24nO1xuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcblxuY29uc3QgRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19FWEFNX01BTkFHRU1FTlRfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IENFUlRJRklDQVRFU19BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ0VSVElGSUNBVEVTX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBFWEFNSU5BVElPTlNfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0VYQU1JTkFUSU9OU19DT05UUkFDVF9BRERSRVNTIHx8ICcnO1xuY29uc3QgSURFTlRJVFlfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0lERU5USVRZX0NPTlRSQUNUX0FERFJFU1MgfHwgJyc7XG5jb25zdCBTRUNVUklUWV9VVElMU19BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0VDVVJJVFlfVVRJTFNfQ09OVFJBQ1RfQUREUkVTUyB8fCAnJztcbmNvbnN0IFRBUkdFVF9DSEFJTl9JRCA9IDEzMzc7IC8vIExvY2FsIG5ldHdvcmsgY2hhaW4gSURcblxuaW50ZXJmYWNlIEV4YW1NYW5hZ2VtZW50Q29udHJhY3Qge1xuICBpc0luc3RpdHV0aW9uOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xuICBnZXRJbnN0aXR1dGlvbjogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxhbnk+O1xuICBnZXRJbnN0aXR1dGlvbkV4YW1zOiAoYWRkcmVzczogc3RyaW5nKSA9PiBQcm9taXNlPGFueVtdPjtcbiAgZ2V0RXhhbVJlc3VsdHM6IChleGFtSWQ6IHN0cmluZykgPT4gUHJvbWlzZTxhbnlbXT47XG4gIHByb3ZpZGVyPzogYW55O1xuICBydW5uZXI/OiBhbnk7XG4gIHdyaXRlOiB7XG4gICAgdXBkYXRlSW5zdGl0dXRpb25Qcm9maWxlOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbXG4gICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgbWluaXN0cnk6IHN0cmluZyxcbiAgICAgICAgdW5pdmVyc2l0eTogc3RyaW5nLFxuICAgICAgICBjb2xsZWdlOiBzdHJpbmcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgICAgIGxvZ286IHN0cmluZyxcbiAgICAgICAgd2Vic2l0ZTogc3RyaW5nLFxuICAgICAgICBlbWFpbDogc3RyaW5nLFxuICAgICAgICBwaG9uZTogc3RyaW5nXG4gICAgICBdXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgc3VibWl0RXhhbVJlc3VsdHM6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZywgcmVzdWx0czogYW55W11dLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICAgIHJlZ2lzdGVyU3R1ZGVudHM6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtleGFtSWQ6IHN0cmluZywgc3R1ZGVudHM6IHN0cmluZ1tdXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICB1cGRhdGVFeGFtU3RhdHVzOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICBjcmVhdGVFeGFtOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbdGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgZGF0ZTogbnVtYmVyXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgICBpc3N1ZUNlcnRpZmljYXRlOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbc3R1ZGVudDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIENlcnRpZmljYXRlc0NvbnRyYWN0IHtcbiAgZ2V0SW5zdGl0dXRpb25DZXJ0aWZpY2F0ZXM6IChhZGRyZXNzOiBzdHJpbmcpID0+IFByb21pc2U8YW55W10+O1xuICB3cml0ZToge1xuICAgIGlzc3VlQ2VydGlmaWNhdGU6IChwYXJhbXM6IHtcbiAgICAgIGFyZ3M6IFtzdHVkZW50QWRkcmVzczogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEV4YW1pbmF0aW9uc0NvbnRyYWN0IHtcbiAgLy8gQWRkIGV4YW1pbmF0aW9uIGNvbnRyYWN0IG1ldGhvZHMgaGVyZVxuICB3cml0ZToge1xuICAgIGNyZWF0ZUV4YW1pbmF0aW9uOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbaXBmc0hhc2g6IHN0cmluZywgc3RhcnRUaW1lOiBudW1iZXIsIGVuZFRpbWU6IG51bWJlcl0sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gICAgcmVnaXN0ZXJGb3JFeGFtOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbZXhhbUlkOiBzdHJpbmddLFxuICAgICAgY2hhaW5JZD86IG51bWJlclxuICAgIH0pID0+IFByb21pc2U8eyB3YWl0OiAoKSA9PiBQcm9taXNlPHZvaWQ+IH0+O1xuICB9O1xufVxuXG5pbnRlcmZhY2UgSWRlbnRpdHlDb250cmFjdCB7XG4gIC8vIEFkZCBpZGVudGl0eSBjb250cmFjdCBtZXRob2RzIGhlcmVcbiAgd3JpdGU6IHtcbiAgICByZWdpc3RlcklkZW50aXR5OiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbbmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nXSxcbiAgICAgIGNoYWluSWQ/OiBudW1iZXJcbiAgICB9KSA9PiBQcm9taXNlPHsgd2FpdDogKCkgPT4gUHJvbWlzZTx2b2lkPiB9PjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFNlY3VyaXR5VXRpbHNDb250cmFjdCB7XG4gIC8vIEFkZCBzZWN1cml0eSB1dGlscyBjb250cmFjdCBtZXRob2RzIGhlcmVcbiAgd3JpdGU6IHtcbiAgICB2ZXJpZnlIYXNoOiAocGFyYW1zOiB7XG4gICAgICBhcmdzOiBbaGFzaDogc3RyaW5nLCBzaWduYXR1cmU6IHN0cmluZ10sXG4gICAgICBjaGFpbklkPzogbnVtYmVyXG4gICAgfSkgPT4gUHJvbWlzZTx7IHdhaXQ6ICgpID0+IFByb21pc2U8dm9pZD4gfT47XG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCB1c2VDb250cmFjdCA9ICgpID0+IHtcbiAgY29uc3QgeyBhZGRyZXNzOiBhY2NvdW50IH0gPSB1c2VBY2NvdW50KCk7XG4gIGNvbnN0IHB1YmxpY0NsaWVudCA9IHVzZVB1YmxpY0NsaWVudCgpO1xuICBjb25zdCB7IGRhdGE6IHdhbGxldENsaWVudCB9ID0gdXNlV2FsbGV0Q2xpZW50KCk7XG4gIGNvbnN0IGNoYWluSWQgPSB1c2VDaGFpbklkKCk7XG4gIGNvbnN0IHsgY29ubmVjdCB9ID0gdXNlQ29ubmVjdCgpO1xuICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7XG4gIFxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHtcbiAgICBleGFtTWFuYWdlbWVudENvbnRyYWN0OiBudWxsIGFzIEV4YW1NYW5hZ2VtZW50Q29udHJhY3QgfCBudWxsLFxuICAgIGNlcnRpZmljYXRlc0NvbnRyYWN0OiBudWxsIGFzIENlcnRpZmljYXRlc0NvbnRyYWN0IHwgbnVsbCxcbiAgICBleGFtaW5hdGlvbnNDb250cmFjdDogbnVsbCBhcyBFeGFtaW5hdGlvbnNDb250cmFjdCB8IG51bGwsXG4gICAgaWRlbnRpdHlDb250cmFjdDogbnVsbCBhcyBJZGVudGl0eUNvbnRyYWN0IHwgbnVsbCxcbiAgICBzZWN1cml0eVV0aWxzQ29udHJhY3Q6IG51bGwgYXMgU2VjdXJpdHlVdGlsc0NvbnRyYWN0IHwgbnVsbCxcbiAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgaXNJbml0aWFsaXplZDogZmFsc2UsXG4gICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICBuZXR3b3JrU3dpdGNoQXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBpbml0aWFsaXphdGlvbkF0dGVtcHRlZDogZmFsc2UsXG4gICAgaW5pdGlhbGl6YXRpb25FcnJvcjogbnVsbCBhcyBzdHJpbmcgfCBudWxsXG4gIH0pO1xuXG4gIC8vIFNpbmdsZSBlZmZlY3QgdG8gaGFuZGxlIGJvdGggbmV0d29yayB2YWxpZGF0aW9uIGFuZCBjb250cmFjdCBpbml0aWFsaXphdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xuICAgIGxldCBpbml0VGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XG5cbiAgICBjb25zdCBpbml0aWFsaXplQ29udHJhY3RzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFpc01vdW50ZWQgfHwgIWFjY291bnQgfHwgIXdhbGxldENsaWVudCB8fCAhcHVibGljQ2xpZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXYWl0aW5nIGZvciBkZXBlbmRlbmNpZXMuLi4nLCB7XG4gICAgICAgICAgaGFzQWNjb3VudDogISFhY2NvdW50LFxuICAgICAgICAgIGhhc1dhbGxldENsaWVudDogISF3YWxsZXRDbGllbnQsXG4gICAgICAgICAgaGFzUHVibGljQ2xpZW50OiAhIXB1YmxpY0NsaWVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIGlzTG9hZGluZzogdHJ1ZSB9KSk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIDEuIE5ldHdvcmsgVmFsaWRhdGlvblxuICAgICAgICBjb25zdCBuZXR3b3JrID0gYXdhaXQgcHVibGljQ2xpZW50LmdldENoYWluSWQoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0N1cnJlbnQgbmV0d29yazonLCBuZXR3b3JrLCAnRXhwZWN0ZWQ6JywgVEFSR0VUX0NIQUlOX0lEKTtcblxuICAgICAgICBpZiAobmV0d29yayAhPT0gVEFSR0VUX0NIQUlOX0lEKSB7XG4gICAgICAgICAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0YU1hc2sg2LrZitixINmF2KvYqNiqIHwgTWV0YU1hc2sgaXMgbm90IGluc3RhbGxlZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gbG9jYWwgbmV0d29yay4uLicpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBGaXJzdCB0cnkgdG8gc3dpdGNoXG4gICAgICAgICAgICBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICAgICAgcGFyYW1zOiBbeyBjaGFpbklkOiBgMHgke1RBUkdFVF9DSEFJTl9JRC50b1N0cmluZygxNil9YCB9XVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHN3aXRjaCB0byBjb21wbGV0ZVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVmVyaWZ5IHN3aXRjaFxuICAgICAgICAgICAgY29uc3QgbmV3Q2hhaW5JZCA9IGF3YWl0IHB1YmxpY0NsaWVudC5nZXRDaGFpbklkKCk7XG4gICAgICAgICAgICBpZiAobmV3Q2hhaW5JZCAhPT0gVEFSR0VUX0NIQUlOX0lEKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2YHYtNmEINmB2Yog2KrYqNiv2YrZhCDYp9mE2LTYqNmD2KkgfCBOZXR3b3JrIHN3aXRjaCBmYWlsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChzd2l0Y2hFcnJvcjogYW55KSB7XG4gICAgICAgICAgICAvLyBJZiBuZXR3b3JrIGRvZXNuJ3QgZXhpc3QsIGFkZCBpdFxuICAgICAgICAgICAgaWYgKHN3aXRjaEVycm9yLmNvZGUgPT09IDQ5MDIpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZGluZyBsb2NhbCBuZXR3b3JrLi4uJyk7XG4gICAgICAgICAgICAgIGF3YWl0IHdpbmRvdy5ldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICd3YWxsZXRfYWRkRXRoZXJldW1DaGFpbicsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgICAgY2hhaW5JZDogYDB4JHtUQVJHRVRfQ0hBSU5fSUQudG9TdHJpbmcoMTYpfWAsXG4gICAgICAgICAgICAgICAgICBjaGFpbk5hbWU6ICdHYW5hY2hlIExvY2FsJyxcbiAgICAgICAgICAgICAgICAgIHJwY1VybHM6IFsnaHR0cDovLzEyNy4wLjAuMTo3NTQ1J10sXG4gICAgICAgICAgICAgICAgICBuYXRpdmVDdXJyZW5jeToge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRVRIJyxcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sOiAnRVRIJyxcbiAgICAgICAgICAgICAgICAgICAgZGVjaW1hbHM6IDE4XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgbmV0d29yayB0byBiZSBhZGRlZFxuICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMzAwMCkpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gVmVyaWZ5IGFnYWluXG4gICAgICAgICAgICAgIGNvbnN0IGZpbmFsQ2hhaW5JZCA9IGF3YWl0IHB1YmxpY0NsaWVudC5nZXRDaGFpbklkKCk7XG4gICAgICAgICAgICAgIGlmIChmaW5hbENoYWluSWQgIT09IFRBUkdFVF9DSEFJTl9JRCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2YHYtNmEINmB2Yog2KXYttin2YHYqSDYp9mE2LTYqNmD2KkgfCBOZXR3b3JrIGFkZCBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgc3dpdGNoRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gMi4gQ29udHJhY3QgSW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKCFFWEFNX01BTkFHRU1FTlRfQUREUkVTUykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2LnZhtmI2KfZhiDYp9mE2LnZgtivINi62YrYsSDZhdiq2YjZgdixIHwgQ29udHJhY3QgYWRkcmVzcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIGNvbnRyYWN0IGRlcGxveW1lbnQuLi4nKTtcbiAgICAgICAgY29uc3QgY29kZSA9IGF3YWl0IHB1YmxpY0NsaWVudC5nZXRCeXRlY29kZSh7IFxuICAgICAgICAgIGFkZHJlc3M6IEVYQU1fTUFOQUdFTUVOVF9BRERSRVNTIGFzIGAweCR7c3RyaW5nfWAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghY29kZSB8fCBjb2RlID09PSAnMHgnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfYp9mE2LnZgtivINi62YrYsSDZhdmI2KzZiNivINi52YTZiSDZh9iw2Kcg2KfZhNi52YbZiNin2YYgfCBDb250cmFjdCBub3QgZm91bmQgYXQgYWRkcmVzcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBjb250cmFjdC4uLicpO1xuICAgICAgICBjb25zdCBleGFtTWFuYWdlbWVudCA9IGdldENvbnRyYWN0KHtcbiAgICAgICAgICBhZGRyZXNzOiBFWEFNX01BTkFHRU1FTlRfQUREUkVTUyBhcyBgMHgke3N0cmluZ31gLFxuICAgICAgICAgIGFiaTogRXhhbU1hbmFnZW1lbnRBQkkuYWJpLFxuICAgICAgICAgIGNsaWVudDogcHVibGljQ2xpZW50LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgY29udHJhY3QgaW50ZXJmYWNlXG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0ge1xuICAgICAgICAgIGlzSW5zdGl0dXRpb246IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleGFtTWFuYWdlbWVudC5yZWFkLmlzSW5zdGl0dXRpb24oW2FkZHJlc3NdKSBhcyBQcm9taXNlPGJvb2xlYW4+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0SW5zdGl0dXRpb246IGFzeW5jIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBleGFtTWFuYWdlbWVudC5yZWFkLmdldEluc3RpdHV0aW9uKFthZGRyZXNzXSkgYXMgUHJvbWlzZTxhbnk+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0SW5zdGl0dXRpb25FeGFtczogYXN5bmMgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0SW5zdGl0dXRpb25FeGFtcyhbYWRkcmVzc10pIGFzIFByb21pc2U8YW55W10+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0RXhhbVJlc3VsdHM6IGFzeW5jIChleGFtSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGV4YW1NYW5hZ2VtZW50LnJlYWQuZ2V0RXhhbVJlc3VsdHMoW2V4YW1JZF0pIGFzIFByb21pc2U8YW55W10+O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgd3JpdGU6IHt9IGFzIEV4YW1NYW5hZ2VtZW50Q29udHJhY3RbJ3dyaXRlJ11cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUZXN0IGNvbnRyYWN0XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgY29udHJhY3QuaXNJbnN0aXR1dGlvbihhY2NvdW50KTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ29udHJhY3QgdGVzdCBzdWNjZXNzZnVsJyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQ29udHJhY3QgdGVzdCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign2YHYtNmEINmB2Yog2KfZhNin2KrYtdin2YQg2KjYp9mE2LnZgtivIHwgQ29udHJhY3QgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgZXhhbU1hbmFnZW1lbnRDb250cmFjdDogY29udHJhY3QgYXMgRXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICAgICAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgaXNJbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdDb250cmFjdCBpbml0aWFsaXphdGlvbiBjb21wbGV0ZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzSW5pdGlhbGl6ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25FcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogJ9iu2LfYoyDZgdmKINin2YTYqtmH2YrYptipIHwgSW5pdGlhbGl6YXRpb24gRXJyb3InLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgXG4gICAgICAgICAgICAgID8gYCR7ZXJyb3IubWVzc2FnZX0gfCDZitix2KzZiSDYp9mE2KrYo9mD2K8g2YXZhiDYp9iq2LXYp9mEINin2YTZhdit2YHYuNipINmI2KfZhNi02KjZg9ipINin2YTYtdit2YrYrdipYFxuICAgICAgICAgICAgICA6ICfYrdiv2Ksg2K7Yt9ijINi62YrYsSDZhdi52LHZiNmBIHwgQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3RhcnQgaW5pdGlhbGl6YXRpb25cbiAgICBpbml0aWFsaXplQ29udHJhY3RzKCk7XG5cbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgaWYgKGluaXRUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChpbml0VGltZW91dCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2FjY291bnQsIHdhbGxldENsaWVudCwgcHVibGljQ2xpZW50LCB0b2FzdF0pO1xuXG4gIC8vIEhhbmRsZSBuZXR3b3JrIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmV0aGVyZXVtPy5vbikge1xuICAgICAgY29uc3QgaGFuZGxlQ2hhaW5DaGFuZ2VkID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBjaGFuZ2VkLCByZXNldHRpbmcgc3RhdGUuLi4nKTtcbiAgICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgZXhhbU1hbmFnZW1lbnRDb250cmFjdDogbnVsbCxcbiAgICAgICAgICBjZXJ0aWZpY2F0ZXNDb250cmFjdDogbnVsbCxcbiAgICAgICAgICBleGFtaW5hdGlvbnNDb250cmFjdDogbnVsbCxcbiAgICAgICAgICBpZGVudGl0eUNvbnRyYWN0OiBudWxsLFxuICAgICAgICAgIHNlY3VyaXR5VXRpbHNDb250cmFjdDogbnVsbCxcbiAgICAgICAgICBpc0luaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2UsXG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBpbml0aWFsaXphdGlvbkVycm9yOiBudWxsXG4gICAgICAgIH0pKTtcbiAgICAgIH07XG5cbiAgICAgIHdpbmRvdy5ldGhlcmV1bS5vbignY2hhaW5DaGFuZ2VkJywgaGFuZGxlQ2hhaW5DaGFuZ2VkKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmICh3aW5kb3cuZXRoZXJldW0/LnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgd2luZG93LmV0aGVyZXVtLnJlbW92ZUxpc3RlbmVyKCdjaGFpbkNoYW5nZWQnLCBoYW5kbGVDaGFpbkNoYW5nZWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiB7XG4gICAgZXhhbU1hbmFnZW1lbnRDb250cmFjdDogc3RhdGUuZXhhbU1hbmFnZW1lbnRDb250cmFjdCxcbiAgICBjZXJ0aWZpY2F0ZXNDb250cmFjdDogc3RhdGUuY2VydGlmaWNhdGVzQ29udHJhY3QsXG4gICAgZXhhbWluYXRpb25zQ29udHJhY3Q6IHN0YXRlLmV4YW1pbmF0aW9uc0NvbnRyYWN0LFxuICAgIGlkZW50aXR5Q29udHJhY3Q6IHN0YXRlLmlkZW50aXR5Q29udHJhY3QsXG4gICAgc2VjdXJpdHlVdGlsc0NvbnRyYWN0OiBzdGF0ZS5zZWN1cml0eVV0aWxzQ29udHJhY3QsXG4gICAgYWNjb3VudCxcbiAgICBpc0Nvbm5lY3RlZDogc3RhdGUuaXNDb25uZWN0ZWQsXG4gICAgaXNJbml0aWFsaXplZDogc3RhdGUuaXNJbml0aWFsaXplZCxcbiAgICBpc0xvYWRpbmc6IHN0YXRlLmlzTG9hZGluZyxcbiAgICBpc0NvcnJlY3ROZXR3b3JrOiBjaGFpbklkID09PSBUQVJHRVRfQ0hBSU5fSUQsXG4gICAgaW5pdGlhbGl6YXRpb25FcnJvcjogc3RhdGUuaW5pdGlhbGl6YXRpb25FcnJvclxuICB9O1xufTsgIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlQWNjb3VudCIsInVzZVB1YmxpY0NsaWVudCIsInVzZVdhbGxldENsaWVudCIsInVzZUNoYWluSWQiLCJ1c2VDb25uZWN0IiwiZ2V0Q29udHJhY3QiLCJFeGFtTWFuYWdlbWVudEFCSSIsInVzZVRvYXN0IiwiRVhBTV9NQU5BR0VNRU5UX0FERFJFU1MiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRVhBTV9NQU5BR0VNRU5UX0NPTlRSQUNUX0FERFJFU1MiLCJDRVJUSUZJQ0FURVNfQUREUkVTUyIsIk5FWFRfUFVCTElDX0NFUlRJRklDQVRFU19DT05UUkFDVF9BRERSRVNTIiwiRVhBTUlOQVRJT05TX0FERFJFU1MiLCJORVhUX1BVQkxJQ19FWEFNSU5BVElPTlNfQ09OVFJBQ1RfQUREUkVTUyIsIklERU5USVRZX0FERFJFU1MiLCJORVhUX1BVQkxJQ19JREVOVElUWV9DT05UUkFDVF9BRERSRVNTIiwiU0VDVVJJVFlfVVRJTFNfQUREUkVTUyIsIk5FWFRfUFVCTElDX1NFQ1VSSVRZX1VUSUxTX0NPTlRSQUNUX0FERFJFU1MiLCJUQVJHRVRfQ0hBSU5fSUQiLCJ1c2VDb250cmFjdCIsImFkZHJlc3MiLCJhY2NvdW50IiwicHVibGljQ2xpZW50IiwiZGF0YSIsIndhbGxldENsaWVudCIsImNoYWluSWQiLCJjb25uZWN0IiwidG9hc3QiLCJzdGF0ZSIsInNldFN0YXRlIiwiZXhhbU1hbmFnZW1lbnRDb250cmFjdCIsImNlcnRpZmljYXRlc0NvbnRyYWN0IiwiZXhhbWluYXRpb25zQ29udHJhY3QiLCJpZGVudGl0eUNvbnRyYWN0Iiwic2VjdXJpdHlVdGlsc0NvbnRyYWN0IiwiaXNDb25uZWN0ZWQiLCJpc0luaXRpYWxpemVkIiwiaXNMb2FkaW5nIiwibmV0d29ya1N3aXRjaEF0dGVtcHRlZCIsImluaXRpYWxpemF0aW9uQXR0ZW1wdGVkIiwiaW5pdGlhbGl6YXRpb25FcnJvciIsImlzTW91bnRlZCIsImluaXRUaW1lb3V0IiwiaW5pdGlhbGl6ZUNvbnRyYWN0cyIsImNvbnNvbGUiLCJsb2ciLCJoYXNBY2NvdW50IiwiaGFzV2FsbGV0Q2xpZW50IiwiaGFzUHVibGljQ2xpZW50IiwicHJldiIsIm5ldHdvcmsiLCJnZXRDaGFpbklkIiwid2luZG93IiwiZXRoZXJldW0iLCJFcnJvciIsInJlcXVlc3QiLCJtZXRob2QiLCJwYXJhbXMiLCJ0b1N0cmluZyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIm5ld0NoYWluSWQiLCJzd2l0Y2hFcnJvciIsImNvZGUiLCJjaGFpbk5hbWUiLCJycGNVcmxzIiwibmF0aXZlQ3VycmVuY3kiLCJuYW1lIiwic3ltYm9sIiwiZGVjaW1hbHMiLCJmaW5hbENoYWluSWQiLCJnZXRCeXRlY29kZSIsImV4YW1NYW5hZ2VtZW50IiwiYWJpIiwiY2xpZW50IiwiY29udHJhY3QiLCJpc0luc3RpdHV0aW9uIiwicmVhZCIsImdldEluc3RpdHV0aW9uIiwiZ2V0SW5zdGl0dXRpb25FeGFtcyIsImdldEV4YW1SZXN1bHRzIiwiZXhhbUlkIiwid3JpdGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiZHVyYXRpb24iLCJpc0Nsb3NhYmxlIiwiY2xlYXJUaW1lb3V0Iiwib24iLCJoYW5kbGVDaGFpbkNoYW5nZWQiLCJyZW1vdmVMaXN0ZW5lciIsImlzQ29ycmVjdE5ldHdvcmsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./hooks/useContract.ts\n"));

/***/ })

});