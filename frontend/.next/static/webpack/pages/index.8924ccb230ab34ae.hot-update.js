"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./utils/ethersConfig.ts":
/*!*******************************!*\
  !*** ./utils/ethersConfig.ts ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EXPECTED_NETWORK: function() { return /* binding */ EXPECTED_NETWORK; },\n/* harmony export */   formatEther: function() { return /* binding */ formatEther; },\n/* harmony export */   getContract: function() { return /* binding */ getContract; },\n/* harmony export */   getProvider: function() { return /* binding */ getProvider; },\n/* harmony export */   getSigner: function() { return /* binding */ getSigner; },\n/* harmony export */   handleContractError: function() { return /* binding */ handleContractError; },\n/* harmony export */   switchToCorrectNetwork: function() { return /* binding */ switchToCorrectNetwork; },\n/* harmony export */   validateAddress: function() { return /* binding */ validateAddress; },\n/* harmony export */   validateNetwork: function() { return /* binding */ validateNetwork; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n\n// Network configuration\nconst EXPECTED_NETWORK = {\n    chainId: \"1337\",\n    chainIdHex: \"0x539\",\n    name: \"Localhost\",\n    rpcUrl: \"http://127.0.0.1:7545\",\n    nativeCurrency: {\n        name: \"ETH\",\n        symbol: \"ETH\",\n        decimals: 18\n    }\n};\n// Function to switch to the correct network\nconst switchToCorrectNetwork = async (ethereum)=>{\n    try {\n        console.log(\"Attempting to switch network...\");\n        // First check current network\n        const currentChainId = await ethereum.request({\n            method: \"eth_chainId\"\n        });\n        console.log(\"Current chainId:\", currentChainId);\n        if (currentChainId === EXPECTED_NETWORK.chainIdHex) {\n            console.log(\"Already on correct network\");\n            return;\n        }\n        console.log(\"Switching to network:\", EXPECTED_NETWORK.chainIdHex);\n        // Try to switch to the network\n        await ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [\n                {\n                    chainId: EXPECTED_NETWORK.chainIdHex\n                }\n            ]\n        });\n        // Wait a bit for the network switch to complete\n        await new Promise((resolve)=>setTimeout(resolve, 1000));\n        // Verify the switch was successful\n        const newChainId = await ethereum.request({\n            method: \"eth_chainId\"\n        });\n        if (newChainId !== EXPECTED_NETWORK.chainIdHex) {\n            throw new Error(\"Network switch failed\");\n        }\n        console.log(\"Successfully switched to correct network\");\n    } catch (switchError) {\n        console.error(\"Error in switchToCorrectNetwork:\", switchError);\n        // This error code indicates that the chain has not been added to MetaMask\n        if (switchError.code === 4902) {\n            try {\n                console.log(\"Network not found, attempting to add...\");\n                await ethereum.request({\n                    method: \"wallet_addEthereumChain\",\n                    params: [\n                        {\n                            chainId: EXPECTED_NETWORK.chainIdHex,\n                            chainName: EXPECTED_NETWORK.name,\n                            rpcUrls: [\n                                EXPECTED_NETWORK.rpcUrl\n                            ],\n                            nativeCurrency: EXPECTED_NETWORK.nativeCurrency\n                        }\n                    ]\n                });\n                // Wait a bit for the network to be added\n                await new Promise((resolve)=>setTimeout(resolve, 1000));\n                // Verify the network was added and switched to\n                const finalChainId = await ethereum.request({\n                    method: \"eth_chainId\"\n                });\n                if (finalChainId !== EXPECTED_NETWORK.chainIdHex) {\n                    throw new Error(\"Network add failed\");\n                }\n                console.log(\"Successfully added and switched to network\");\n            } catch (addError) {\n                console.error(\"Error adding network:\", addError);\n                throw new Error(\"يرجى إضافة الشبكة المحلية يدوياً | Please add the local network manually\");\n            }\n        } else {\n            console.error(\"Error switching network:\", switchError);\n            throw new Error(\"يرجى تغيير الشبكة إلى الشبكة المحلية | Please switch to local network\");\n        }\n    }\n};\n// Provider and signer functions\nconst getProvider = async ()=>{\n    if (!window.ethereum) {\n        throw new Error(\"MetaMask غير مثبت - MetaMask is not installed\");\n    }\n    try {\n        // First check if we're on the correct network before doing anything else\n        const currentChainId = await window.ethereum.request({\n            method: \"eth_chainId\"\n        });\n        console.log(\"Initial chain ID check:\", currentChainId);\n        if (currentChainId !== EXPECTED_NETWORK.chainIdHex) {\n            console.log(\"Wrong network detected, attempting to switch...\");\n            await switchToCorrectNetwork(window.ethereum);\n            // Verify the switch was successful\n            const newChainId = await window.ethereum.request({\n                method: \"eth_chainId\"\n            });\n            if (newChainId !== EXPECTED_NETWORK.chainIdHex) {\n                throw new Error(\"Failed to switch to correct network\");\n            }\n        }\n        // Only request accounts after we're on the correct network\n        await window.ethereum.request({\n            method: \"eth_requestAccounts\"\n        });\n        // Create provider using BrowserProvider\n        const provider = new ethers__WEBPACK_IMPORTED_MODULE_0__.BrowserProvider(window.ethereum);\n        return provider;\n    } catch (error) {\n        console.error(\"Error getting provider:\", error);\n        throw error;\n    }\n};\nconst getSigner = async ()=>{\n    const provider = await getProvider();\n    return provider.getSigner();\n};\nconst validateNetwork = async (provider)=>{\n    try {\n        console.log(\"Validating network...\");\n        const network = await provider.getNetwork();\n        const chainId = network.chainId.toString();\n        console.log(\"Current chainId:\", chainId, \"Expected:\", EXPECTED_NETWORK.chainId);\n        if (chainId !== EXPECTED_NETWORK.chainId) {\n            console.log(\"Wrong network detected in validateNetwork\");\n            if (!window.ethereum) {\n                throw new Error(\"يرجى الاتصال بشبكة \".concat(EXPECTED_NETWORK.name, \" (Chain ID: \").concat(EXPECTED_NETWORK.chainId, \") | Please connect to \").concat(EXPECTED_NETWORK.name, \" network\"));\n            }\n            // Get the current chain ID directly from ethereum provider\n            const currentChainId = await window.ethereum.request({\n                method: \"eth_chainId\"\n            });\n            console.log(\"Current chain ID from ethereum:\", currentChainId);\n            if (currentChainId !== EXPECTED_NETWORK.chainIdHex) {\n                await switchToCorrectNetwork(window.ethereum);\n                // Wait for the network switch to complete\n                await new Promise((resolve)=>setTimeout(resolve, 1500));\n                // Verify one final time\n                const finalChainId = await window.ethereum.request({\n                    method: \"eth_chainId\"\n                });\n                if (finalChainId !== EXPECTED_NETWORK.chainIdHex) {\n                    throw new Error(\"Network switch verification failed\");\n                }\n            }\n        }\n        console.log(\"Network validation passed\");\n    } catch (error) {\n        console.error(\"Network validation failed:\", error);\n        throw error;\n    }\n};\n// Helper functions for working with contracts\nconst getContract = (address, abi, signer)=>{\n    return new ethers__WEBPACK_IMPORTED_MODULE_0__.Contract(address, abi, signer);\n};\nconst validateAddress = (address)=>{\n    if (!address) {\n        throw new Error(\"Address is required\");\n    }\n    try {\n        return (0,ethers__WEBPACK_IMPORTED_MODULE_0__.getAddress)(address);\n    } catch (error) {\n        throw new Error(\"Invalid Ethereum address\");\n    }\n};\nconst formatEther = (value)=>{\n    return (0,ethers__WEBPACK_IMPORTED_MODULE_0__.formatUnits)(value, 18);\n};\n// Utility function to handle common contract errors\nconst handleContractError = (error)=>{\n    var _error_message, _error_message1, _error_message2;\n    console.error(\"Contract error:\", error);\n    if (error.reason) {\n        throw new Error(\"Smart contract error: \".concat(error.reason));\n    } else if ((_error_message = error.message) === null || _error_message === void 0 ? void 0 : _error_message.includes(\"user rejected\")) {\n        throw new Error(\"Transaction rejected by user\");\n    } else if ((_error_message1 = error.message) === null || _error_message1 === void 0 ? void 0 : _error_message1.includes(\"insufficient funds\")) {\n        throw new Error(\"Insufficient funds to complete the transaction\");\n    } else if ((_error_message2 = error.message) === null || _error_message2 === void 0 ? void 0 : _error_message2.includes(\"network\")) {\n        throw new Error(\"Please make sure you are connected to the correct network\");\n    } else {\n        throw new Error(\"Transaction failed. Please check your connection and try again.\");\n    }\n};\n// Event listener for network changes\nif ( true && window.ethereum) {\n    window.ethereum.on(\"chainChanged\", (chainId)=>{\n        console.log(\"Network changed to:\", chainId);\n        if (chainId !== EXPECTED_NETWORK.chainIdHex) {\n            console.log(\"Wrong network after change, reloading...\");\n            window.location.reload();\n        }\n    });\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0JBQXNCLENBQUNyQjtRQUt2QkEsZ0JBRUFBLGlCQUVBQTtJQVJYWixRQUFRWSxLQUFLLENBQUMsbUJBQW1CQTtJQUVqQyxJQUFJQSxNQUFNc0IsTUFBTSxFQUFFO1FBQ2hCLE1BQU0sSUFBSXhCLE1BQU0seUJBQXNDLE9BQWJFLE1BQU1zQixNQUFNO0lBQ3ZELE9BQU8sS0FBSXRCLGlCQUFBQSxNQUFNdUIsT0FBTyxjQUFidkIscUNBQUFBLGVBQWV3QixRQUFRLENBQUMsa0JBQWtCO1FBQ25ELE1BQU0sSUFBSTFCLE1BQU07SUFDbEIsT0FBTyxLQUFJRSxrQkFBQUEsTUFBTXVCLE9BQU8sY0FBYnZCLHNDQUFBQSxnQkFBZXdCLFFBQVEsQ0FBQyx1QkFBdUI7UUFDeEQsTUFBTSxJQUFJMUIsTUFBTTtJQUNsQixPQUFPLEtBQUlFLGtCQUFBQSxNQUFNdUIsT0FBTyxjQUFidkIsc0NBQUFBLGdCQUFld0IsUUFBUSxDQUFDLFlBQVk7UUFDN0MsTUFBTSxJQUFJMUIsTUFBTTtJQUNsQixPQUFPO1FBQ0wsTUFBTSxJQUFJQSxNQUFNO0lBQ2xCO0FBQ0YsRUFBRTtBQUVGLHFDQUFxQztBQUNyQyxJQUFJLEtBQWtCLElBQWVTLE9BQU9wQixRQUFRLEVBQUU7SUFDcERvQixPQUFPcEIsUUFBUSxDQUFDc0MsRUFBRSxDQUFDLGdCQUFnQixDQUFDOUM7UUFDbENTLFFBQVFDLEdBQUcsQ0FBQyx1QkFBdUJWO1FBQ25DLElBQUlBLFlBQVlELGlCQUFpQkUsVUFBVSxFQUFFO1lBQzNDUSxRQUFRQyxHQUFHLENBQUM7WUFDWmtCLE9BQU9tQixRQUFRLENBQUNDLE1BQU07UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3V0aWxzL2V0aGVyc0NvbmZpZy50cz81NmI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBDb250cmFjdCwgXG4gIEpzb25ScGNQcm92aWRlciwgXG4gIEJyb3dzZXJQcm92aWRlcixcbiAgZm9ybWF0VW5pdHMsIFxuICBnZXRBZGRyZXNzLFxuICB0eXBlIEpzb25ScGNTaWduZXIsXG4gIHR5cGUgUHJvdmlkZXJcbn0gZnJvbSAnZXRoZXJzJztcblxuLy8gVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEFyZ3VtZW50cyB7XG4gIG1ldGhvZDogc3RyaW5nO1xuICBwYXJhbXM/OiB1bmtub3duW10gfCBvYmplY3Q7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXRoZXJldW1Qcm92aWRlciB7XG4gIHJlcXVlc3QoYXJnczogUmVxdWVzdEFyZ3VtZW50cyk6IFByb21pc2U8dW5rbm93bj47XG4gIG9uPyhldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHJlbW92ZUxpc3RlbmVyPyhldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCk6IHZvaWQ7XG4gIHNlbGVjdGVkQWRkcmVzcz86IHN0cmluZztcbiAgaXNNZXRhTWFzaz86IGJvb2xlYW47XG4gIGNoYWluSWQ/OiBzdHJpbmc7XG4gIG5ldHdvcmtWZXJzaW9uPzogc3RyaW5nO1xufVxuXG4vLyBBZGQgdHlwZSBkZWNsYXJhdGlvbiBmb3IgdGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0XG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIGV0aGVyZXVtPzogRXRoZXJldW1Qcm92aWRlcjtcbiAgfVxufVxuXG4vLyBOZXR3b3JrIGNvbmZpZ3VyYXRpb25cbmV4cG9ydCBjb25zdCBFWFBFQ1RFRF9ORVRXT1JLID0ge1xuICBjaGFpbklkOiAnMTMzNycsXG4gIGNoYWluSWRIZXg6ICcweDUzOScsIC8vIEhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uIG9mIDEzMzdcbiAgbmFtZTogJ0xvY2FsaG9zdCcsXG4gIHJwY1VybDogJ2h0dHA6Ly8xMjcuMC4wLjE6NzU0NScsXG4gIG5hdGl2ZUN1cnJlbmN5OiB7XG4gICAgbmFtZTogJ0VUSCcsXG4gICAgc3ltYm9sOiAnRVRIJyxcbiAgICBkZWNpbWFsczogMThcbiAgfVxufTtcblxuLy8gRnVuY3Rpb24gdG8gc3dpdGNoIHRvIHRoZSBjb3JyZWN0IG5ldHdvcmtcbmV4cG9ydCBjb25zdCBzd2l0Y2hUb0NvcnJlY3ROZXR3b3JrID0gYXN5bmMgKGV0aGVyZXVtOiBFdGhlcmV1bVByb3ZpZGVyKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gc3dpdGNoIG5ldHdvcmsuLi4nKTtcbiAgICAvLyBGaXJzdCBjaGVjayBjdXJyZW50IG5ldHdvcmtcbiAgICBjb25zdCBjdXJyZW50Q2hhaW5JZCA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgY29uc29sZS5sb2coJ0N1cnJlbnQgY2hhaW5JZDonLCBjdXJyZW50Q2hhaW5JZCk7XG4gICAgXG4gICAgaWYgKGN1cnJlbnRDaGFpbklkID09PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdBbHJlYWR5IG9uIGNvcnJlY3QgbmV0d29yaycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdTd2l0Y2hpbmcgdG8gbmV0d29yazonLCBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpO1xuICAgIFxuICAgIC8vIFRyeSB0byBzd2l0Y2ggdG8gdGhlIG5ldHdvcmtcbiAgICBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ3dhbGxldF9zd2l0Y2hFdGhlcmV1bUNoYWluJyxcbiAgICAgIHBhcmFtczogW3sgY2hhaW5JZDogRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4IH1dXG4gICAgfSk7XG4gICAgXG4gICAgLy8gV2FpdCBhIGJpdCBmb3IgdGhlIG5ldHdvcmsgc3dpdGNoIHRvIGNvbXBsZXRlXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICBcbiAgICAvLyBWZXJpZnkgdGhlIHN3aXRjaCB3YXMgc3VjY2Vzc2Z1bFxuICAgIGNvbnN0IG5ld0NoYWluSWQgPSBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0KHsgbWV0aG9kOiAnZXRoX2NoYWluSWQnIH0pO1xuICAgIGlmIChuZXdDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBzd2l0Y2ggZmFpbGVkJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgc3dpdGNoZWQgdG8gY29ycmVjdCBuZXR3b3JrJyk7XG4gIH0gY2F0Y2ggKHN3aXRjaEVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzd2l0Y2hUb0NvcnJlY3ROZXR3b3JrOicsIHN3aXRjaEVycm9yKTtcbiAgICBcbiAgICAvLyBUaGlzIGVycm9yIGNvZGUgaW5kaWNhdGVzIHRoYXQgdGhlIGNoYWluIGhhcyBub3QgYmVlbiBhZGRlZCB0byBNZXRhTWFza1xuICAgIGlmIChzd2l0Y2hFcnJvci5jb2RlID09PSA0OTAyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnTmV0d29yayBub3QgZm91bmQsIGF0dGVtcHRpbmcgdG8gYWRkLi4uJyk7XG4gICAgICAgIGF3YWl0IGV0aGVyZXVtLnJlcXVlc3Qoe1xuICAgICAgICAgIG1ldGhvZDogJ3dhbGxldF9hZGRFdGhlcmV1bUNoYWluJyxcbiAgICAgICAgICBwYXJhbXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2hhaW5JZDogRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4LFxuICAgICAgICAgICAgICBjaGFpbk5hbWU6IEVYUEVDVEVEX05FVFdPUksubmFtZSxcbiAgICAgICAgICAgICAgcnBjVXJsczogW0VYUEVDVEVEX05FVFdPUksucnBjVXJsXSxcbiAgICAgICAgICAgICAgbmF0aXZlQ3VycmVuY3k6IEVYUEVDVEVEX05FVFdPUksubmF0aXZlQ3VycmVuY3lcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBhIGJpdCBmb3IgdGhlIG5ldHdvcmsgdG8gYmUgYWRkZWRcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSB0aGUgbmV0d29yayB3YXMgYWRkZWQgYW5kIHN3aXRjaGVkIHRvXG4gICAgICAgIGNvbnN0IGZpbmFsQ2hhaW5JZCA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICAgIGlmIChmaW5hbENoYWluSWQgIT09IEVYUEVDVEVEX05FVFdPUksuY2hhaW5JZEhleCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBhZGQgZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgYWRkZWQgYW5kIHN3aXRjaGVkIHRvIG5ldHdvcmsnKTtcbiAgICAgIH0gY2F0Y2ggKGFkZEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBuZXR3b3JrOicsIGFkZEVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfZitix2KzZiSDYpdi22KfZgdipINin2YTYtNio2YPYqSDYp9mE2YXYrdmE2YrYqSDZitiv2YjZitin2YsgfCBQbGVhc2UgYWRkIHRoZSBsb2NhbCBuZXR3b3JrIG1hbnVhbGx5Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN3aXRjaGluZyBuZXR3b3JrOicsIHN3aXRjaEVycm9yKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcign2YrYsdis2Ykg2KrYutmK2YrYsSDYp9mE2LTYqNmD2Kkg2KXZhNmJINin2YTYtNio2YPYqSDYp9mE2YXYrdmE2YrYqSB8IFBsZWFzZSBzd2l0Y2ggdG8gbG9jYWwgbmV0d29yaycpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gUHJvdmlkZXIgYW5kIHNpZ25lciBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRQcm92aWRlciA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCF3aW5kb3cuZXRoZXJldW0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGFNYXNrINi62YrYsSDZhdir2KjYqiAtIE1ldGFNYXNrIGlzIG5vdCBpbnN0YWxsZWQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gRmlyc3QgY2hlY2sgaWYgd2UncmUgb24gdGhlIGNvcnJlY3QgbmV0d29yayBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZVxuICAgIGNvbnN0IGN1cnJlbnRDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgY29uc29sZS5sb2coJ0luaXRpYWwgY2hhaW4gSUQgY2hlY2s6JywgY3VycmVudENoYWluSWQpO1xuICAgIFxuICAgIGlmIChjdXJyZW50Q2hhaW5JZCAhPT0gRVhQRUNURURfTkVUV09SSy5jaGFpbklkSGV4KSB7XG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgbmV0d29yayBkZXRlY3RlZCwgYXR0ZW1wdGluZyB0byBzd2l0Y2guLi4nKTtcbiAgICAgIGF3YWl0IHN3aXRjaFRvQ29ycmVjdE5ldHdvcmsod2luZG93LmV0aGVyZXVtKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHRoZSBzd2l0Y2ggd2FzIHN1Y2Nlc3NmdWxcbiAgICAgIGNvbnN0IG5ld0NoYWluSWQgPSBhd2FpdCB3aW5kb3cuZXRoZXJldW0ucmVxdWVzdCh7IG1ldGhvZDogJ2V0aF9jaGFpbklkJyB9KTtcbiAgICAgIGlmIChuZXdDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3dpdGNoIHRvIGNvcnJlY3QgbmV0d29yaycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9ubHkgcmVxdWVzdCBhY2NvdW50cyBhZnRlciB3ZSdyZSBvbiB0aGUgY29ycmVjdCBuZXR3b3JrXG4gICAgYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6IFwiZXRoX3JlcXVlc3RBY2NvdW50c1wiIH0pO1xuICAgIFxuICAgIC8vIENyZWF0ZSBwcm92aWRlciB1c2luZyBCcm93c2VyUHJvdmlkZXJcbiAgICBjb25zdCBwcm92aWRlciA9IG5ldyBCcm93c2VyUHJvdmlkZXIod2luZG93LmV0aGVyZXVtKTtcbiAgICBcbiAgICByZXR1cm4gcHJvdmlkZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwcm92aWRlcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTaWduZXIgPSBhc3luYyAoKTogUHJvbWlzZTxKc29uUnBjU2lnbmVyPiA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgZ2V0UHJvdmlkZXIoKTtcbiAgcmV0dXJuIHByb3ZpZGVyLmdldFNpZ25lcigpO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlTmV0d29yayA9IGFzeW5jIChwcm92aWRlcjogUHJvdmlkZXIpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGluZyBuZXR3b3JrLi4uJyk7XG4gICAgY29uc3QgbmV0d29yayA9IGF3YWl0IHByb3ZpZGVyLmdldE5ldHdvcmsoKTtcbiAgICBjb25zdCBjaGFpbklkID0gbmV0d29yay5jaGFpbklkLnRvU3RyaW5nKCk7XG4gICAgY29uc29sZS5sb2coJ0N1cnJlbnQgY2hhaW5JZDonLCBjaGFpbklkLCAnRXhwZWN0ZWQ6JywgRVhQRUNURURfTkVUV09SSy5jaGFpbklkKTtcbiAgICBcbiAgICBpZiAoY2hhaW5JZCAhPT0gRVhQRUNURURfTkVUV09SSy5jaGFpbklkKSB7XG4gICAgICBjb25zb2xlLmxvZygnV3JvbmcgbmV0d29yayBkZXRlY3RlZCBpbiB2YWxpZGF0ZU5ldHdvcmsnKTtcbiAgICAgIGlmICghd2luZG93LmV0aGVyZXVtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihg2YrYsdis2Ykg2KfZhNin2KrYtdin2YQg2KjYtNio2YPYqSAke0VYUEVDVEVEX05FVFdPUksubmFtZX0gKENoYWluIElEOiAke0VYUEVDVEVEX05FVFdPUksuY2hhaW5JZH0pIHwgUGxlYXNlIGNvbm5lY3QgdG8gJHtFWFBFQ1RFRF9ORVRXT1JLLm5hbWV9IG5ldHdvcmtgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IGNoYWluIElEIGRpcmVjdGx5IGZyb20gZXRoZXJldW0gcHJvdmlkZXJcbiAgICAgIGNvbnN0IGN1cnJlbnRDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBjaGFpbiBJRCBmcm9tIGV0aGVyZXVtOicsIGN1cnJlbnRDaGFpbklkKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRDaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgICAgYXdhaXQgc3dpdGNoVG9Db3JyZWN0TmV0d29yayh3aW5kb3cuZXRoZXJldW0pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIG5ldHdvcmsgc3dpdGNoIHRvIGNvbXBsZXRlXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxNTAwKSk7XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJpZnkgb25lIGZpbmFsIHRpbWVcbiAgICAgICAgY29uc3QgZmluYWxDaGFpbklkID0gYXdhaXQgd2luZG93LmV0aGVyZXVtLnJlcXVlc3QoeyBtZXRob2Q6ICdldGhfY2hhaW5JZCcgfSk7XG4gICAgICAgIGlmIChmaW5hbENoYWluSWQgIT09IEVYUEVDVEVEX05FVFdPUksuY2hhaW5JZEhleCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayBzd2l0Y2ggdmVyaWZpY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdOZXR3b3JrIHZhbGlkYXRpb24gcGFzc2VkJyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignTmV0d29yayB2YWxpZGF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBjb250cmFjdHNcbmV4cG9ydCBjb25zdCBnZXRDb250cmFjdCA9IDxUIGV4dGVuZHMgQ29udHJhY3Q+KFxuICBhZGRyZXNzOiBzdHJpbmcsXG4gIGFiaTogYW55LFxuICBzaWduZXI6IEpzb25ScGNTaWduZXJcbik6IFQgPT4ge1xuICByZXR1cm4gbmV3IENvbnRyYWN0KGFkZHJlc3MsIGFiaSwgc2lnbmVyKSBhcyBUO1xufTtcblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlQWRkcmVzcyA9IChhZGRyZXNzOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsKTogc3RyaW5nID0+IHtcbiAgaWYgKCFhZGRyZXNzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBZGRyZXNzIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIGdldEFkZHJlc3MoYWRkcmVzcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEV0aGVyZXVtIGFkZHJlc3MnKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1hdEV0aGVyID0gKHZhbHVlOiBiaWdpbnQpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZm9ybWF0VW5pdHModmFsdWUsIDE4KTtcbn07XG5cbi8vIFV0aWxpdHkgZnVuY3Rpb24gdG8gaGFuZGxlIGNvbW1vbiBjb250cmFjdCBlcnJvcnNcbmV4cG9ydCBjb25zdCBoYW5kbGVDb250cmFjdEVycm9yID0gKGVycm9yOiBhbnkpOiBuZXZlciA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoJ0NvbnRyYWN0IGVycm9yOicsIGVycm9yKTtcbiAgXG4gIGlmIChlcnJvci5yZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFNtYXJ0IGNvbnRyYWN0IGVycm9yOiAke2Vycm9yLnJlYXNvbn1gKTtcbiAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygndXNlciByZWplY3RlZCcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiByZWplY3RlZCBieSB1c2VyJyk7XG4gIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ2luc3VmZmljaWVudCBmdW5kcycpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgZnVuZHMgdG8gY29tcGxldGUgdGhlIHRyYW5zYWN0aW9uJyk7XG4gIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ25ldHdvcmsnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIGNvbm5lY3RlZCB0byB0aGUgY29ycmVjdCBuZXR3b3JrJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiBmYWlsZWQuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi4nKTtcbiAgfVxufTtcblxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIG5ldHdvcmsgY2hhbmdlc1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5ldGhlcmV1bSkge1xuICB3aW5kb3cuZXRoZXJldW0ub24oJ2NoYWluQ2hhbmdlZCcsIChjaGFpbklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV0d29yayBjaGFuZ2VkIHRvOicsIGNoYWluSWQpO1xuICAgIGlmIChjaGFpbklkICE9PSBFWFBFQ1RFRF9ORVRXT1JLLmNoYWluSWRIZXgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdXcm9uZyBuZXR3b3JrIGFmdGVyIGNoYW5nZSwgcmVsb2FkaW5nLi4uJyk7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuICB9KTtcbn0gIl0sIm5hbWVzIjpbIkNvbnRyYWN0IiwiQnJvd3NlclByb3ZpZGVyIiwiZm9ybWF0VW5pdHMiLCJnZXRBZGRyZXNzIiwiRVhQRUNURURfTkVUV09SSyIsImNoYWluSWQiLCJjaGFpbklkSGV4IiwibmFtZSIsInJwY1VybCIsIm5hdGl2ZUN1cnJlbmN5Iiwic3ltYm9sIiwiZGVjaW1hbHMiLCJzd2l0Y2hUb0NvcnJlY3ROZXR3b3JrIiwiZXRoZXJldW0iLCJjb25zb2xlIiwibG9nIiwiY3VycmVudENoYWluSWQiLCJyZXF1ZXN0IiwibWV0aG9kIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwibmV3Q2hhaW5JZCIsIkVycm9yIiwic3dpdGNoRXJyb3IiLCJlcnJvciIsImNvZGUiLCJjaGFpbk5hbWUiLCJycGNVcmxzIiwiZmluYWxDaGFpbklkIiwiYWRkRXJyb3IiLCJnZXRQcm92aWRlciIsIndpbmRvdyIsInByb3ZpZGVyIiwiZ2V0U2lnbmVyIiwidmFsaWRhdGVOZXR3b3JrIiwibmV0d29yayIsImdldE5ldHdvcmsiLCJ0b1N0cmluZyIsImdldENvbnRyYWN0IiwiYWRkcmVzcyIsImFiaSIsInNpZ25lciIsInZhbGlkYXRlQWRkcmVzcyIsImZvcm1hdEV0aGVyIiwidmFsdWUiLCJoYW5kbGVDb250cmFjdEVycm9yIiwicmVhc29uIiwibWVzc2FnZSIsImluY2x1ZGVzIiwib24iLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/ethersConfig.ts\n"));

/***/ })

});